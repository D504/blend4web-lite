

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Замечания к релизам &mdash; Руководство пользователя Blend4Web 17.10</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="Об этих документах"
              href="about.html"/>
    <link rel="top" title="Руководство пользователя Blend4Web 17.10" href="index.html"/>
        <link rel="prev" title="Проблемы и решения" href="problems_and_solutions.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Blend4Web. Руководство пользователя
        

        
        </a>

        
          
          
            <div class="version">
              v17.10
            </div>
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">Общие сведения</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_features.html">Возможности движка</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Интерфейс Blender</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Установка и обновление</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Рабочий процесс</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_manager.html">Управление проектами</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Просмотрщик сцен</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_player.html">Веб-плеер</a></li>
<li class="toctree-l1"><a class="reference internal" href="addon.html">Аддон</a></li>
<li class="toctree-l1"><a class="reference internal" href="scene_settings.html">Параметры сцены</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">Объекты</a></li>
<li class="toctree-l1"><a class="reference internal" href="meshes.html">Меши</a></li>
<li class="toctree-l1"><a class="reference internal" href="normal_editor.html">Редактор нормалей</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Камера</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">Материалы</a></li>
<li class="toctree-l1"><a class="reference internal" href="material_library.html">Библиотека материалов</a></li>
<li class="toctree-l1"><a class="reference internal" href="node_materials.html">Нодовые материалы</a></li>
<li class="toctree-l1"><a class="reference internal" href="logic_editor.html">Редактор логики</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighting.html">Освещение, тени и фон</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_effects.html">Спецэффекты</a></li>
<li class="toctree-l1"><a class="reference internal" href="vr_and_ar.html">VR and AR</a></li>
<li class="toctree-l1"><a class="reference internal" href="textures.html">Текстуры</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">Система частиц. Флюиды</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_instancing.html">Система частиц. Инстансинг</a></li>
<li class="toctree-l1"><a class="reference internal" href="animation.html">Анимация</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdoor_rendering.html">Природные эффекты</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">Работа с цветом</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Звук</a></li>
<li class="toctree-l1"><a class="reference internal" href="physics.html">Физика</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Разработчикам приложений</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers_advanced.html">Разработчикам движка</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_short_manual.html">Работа в команде с использованием Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems_and_solutions.html">Проблемы и решения</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Замечания к релизам</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v17-10">v17.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v17-08">v17.08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v17-06">v17.06</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v17-04">v17.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v17-02">v17.02</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-12">v16.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-11">v16.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-10">v16.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id20">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-09">v16.09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id23">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id25">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-08">v16.08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id26">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id28">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-07">v16.07</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id29">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id30">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id31">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-06">v16.06</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id32">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id33">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id34">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-05">v16.05</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id35">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id36">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id37">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-04">v16.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id38">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id39">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id40">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-03">v16.03</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id41">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id42">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id43">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-02">v16.02</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id44">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id45">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id46">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v16-01">v16.01</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id47">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id48">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id49">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id50">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-12">v15.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id51">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id52">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id53">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id54">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-11">v15.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id56">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id57">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id58">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id59">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-10">v15.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id61">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id62">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id63">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id64">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-09">v15.09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id66">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id67">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id68">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id69">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-08">v15.08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id70">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id71">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id72">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id73">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-07">v15.07</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id74">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id75">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id76">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id77">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-06">v15.06</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id78">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id79">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id80">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id81">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-05">v15.05</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id83">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id84">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id85">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id86">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-04">v15.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id87">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id88">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id89">Исправления</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-03">v15.03</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id90">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id91">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id92">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id93">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-02">v15.02</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id94">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id95">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id96">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id97">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v15-01">v15.01</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id98">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id99">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id100">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id101">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-12">v14.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id102">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id103">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id104">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id105">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-11">v14.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id106">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id107">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id108">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id109">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-10">v14.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id110">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id111">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id112">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id113">Известные проблемы</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v14-09">v14.09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id114">Новый функционал</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id115">Изменения</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id116">Исправления</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id117">Известные проблемы</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Blend4Web. Руководство пользователя</a>
      </nav>


      
      <div class="wy-nav-content">
        <div id="lang_cont">
          <a href="#">RU</a>
          <a href="#">EN</a>
          <a href="#">ZH</a>
        </div>
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Замечания к релизам</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-notes">
<span id="id1"></span><h1>Замечания к релизам<a class="headerlink" href="#release-notes" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="v17-10">
<span id="index-0"></span><h2>v17.10<a class="headerlink" href="#v17-10" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="new-features">
<h3>Новый функционал<a class="headerlink" href="#new-features" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Added side-by-side rendering stereo mode.</p>
</li>
<li><p class="first">Auto start tornado developer server.</p>
<blockquote>
<div><p>Now closing one of the instances of Blender does not stop development server if there is another instance of Blender with started development server.</p>
</div></blockquote>
</li>
<li><p class="first">Added synchronization the <a class="reference internal" href="viewer.html#viewer"><span>Viewer</span></a> application and Blender.</p>
</li>
<li><p class="first">Changes in the physics engine.</p>
<blockquote>
<div><p>The ability to control gravity vector in the scene has been added. Stability of the <code class="docutils literal"><span class="pre">HINGE</span></code> constraints has been improved. Also the <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.set_character_vert_move_dir_angle">set_character_vert_move_dir_angle</a> method has been added to the <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics</a> module.</p>
</div></blockquote>
</li>
<li><p class="first">Added synchronization between the Viewer application and Blender.</p>
</li>
<li><p class="first">Added new nodes to the <code class="docutils literal"><span class="pre">Logic</span> <span class="pre">Editor</span></code>: <code class="docutils literal"><span class="pre">Define</span> <span class="pre">Function</span></code>, <code class="docutils literal"><span class="pre">Call</span> <span class="pre">Function</span></code>, <code class="docutils literal"><span class="pre">Switch</span></code></p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">Destination</span></code> field to the <code class="docutils literal"><span class="pre">Select</span></code> node, which contains selected object after select event</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">Object</span></code> type of variable to the Logic Editor</p>
</li>
<li><p class="first">The UI of some nodes which use object selector is extended with ability to specify a variable</p>
</li>
<li><p class="first">Improved environment lighting algorithms for Cycles materials with <code class="docutils literal"><span class="pre">Glossy</span> <span class="pre">BSDF</span></code> and <code class="docutils literal"><span class="pre">Diffuse</span> <span class="pre">BSDF</span></code> nodes.</p>
</li>
</ul>
</div>
<div class="section" id="changes">
<h3>Изменения<a class="headerlink" href="#changes" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li>Now NLA can be stopped with API in case of using Logic Nodes.</li>
<li>Blender 2.79 is a recommended version.</li>
<li>Optimized of LOD objects.</li>
<li>Renamed logic nodes: <code class="docutils literal"><span class="pre">Switch</span> <span class="pre">Select</span></code> -&gt; <code class="docutils literal"><span class="pre">Select</span></code>, <code class="docutils literal"><span class="pre">Conditional</span> <span class="pre">Jump</span></code> -&gt; <code class="docutils literal"><span class="pre">Branch</span></code></li>
<li>We&#8217;ve started to use <code class="docutils literal"><span class="pre">Datablock</span> <span class="pre">pointer</span> <span class="pre">properties</span></code> - the new feature of Blender 2.79 in our addon. This means that you may have forward compatibility issues (see Blender 2.79 release notes)</li>
<li>Simplified Logic Node Tree to the scene attachment procedure: Refresh button has been removed due to our patch for blender (D113)</li>
</ul>
</div>
<div class="section" id="fixes">
<h3>Исправления<a class="headerlink" href="#fixes" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li>Fixed false positive error producing console warning message: <code class="docutils literal"><span class="pre">B4W</span> <span class="pre">WARN:</span> <span class="pre">Canvas</span> <span class="pre">size</span> <span class="pre">exceeds</span> <span class="pre">platform</span> <span class="pre">limits,</span> <span class="pre">downscaling</span></code>.</li>
<li>Fixed invisibility of the control panel in AR demo in IE 11.</li>
<li>Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.rotate_camera">rotate_camera</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html">camera_anim</a> module.</li>
<li>Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.shot">shot</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html">screen</a> module.</li>
<li>Fixed some errors of API documentation.</li>
<li>Fixed low FPS in the Petigor&#8217;s Tale application.</li>
<li>Fixed visibility of God Rays on some mobile devices.</li>
<li>Fixed <code class="docutils literal"><span class="pre">Mapping</span></code> node with zero scale.</li>
<li>Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.translate_view">translate_view</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_fov">set_fov</a> methods of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> module.</li>
<li>Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_materials_names">get_materials_names</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a> module.</li>
<li>Fixed character rotation with the  <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.set_character_rotation">set_character_rotation</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.set_character_rotation_v">set_character_rotation_v</a> methods of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics</a> module.</li>
<li>Fixed missing UV and vertex colors layers after applying of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.inherit_material">inherit_material</a> method in some cases.</li>
<li>Fixed loading of video textures with the &#8221;.mp4&#8221; extension.</li>
<li>Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_ortho_scale">get_ortho_scale</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> module.</li>
<li>Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.enable_camera_controls">enable_camera_controls</a> method of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> module.</li>
<li>Fixed engine crash in case of using the Value node in Emitter particles materials.</li>
<li>Fixed the <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.set_nodemat_value">set_nodemat_value</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_nodemat_value">get_nodemat_value</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.set_nodemat_rgb">set_nodemat_rgb</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_nodemat_rgb">get_nodemat_rgb</a> methods of the <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a> module.</li>
<li>Fixed scale computation for the <code class="docutils literal"><span class="pre">Curve</span></code> objects with <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Scale</span> <span class="pre">and</span> <span class="pre">Modifiers</span></code> export option enabled.</li>
<li>Fixed bug with NLA initialization. The bug had impact on animation start frame.</li>
</ul>
</div>
</div>
<div class="section" id="v17-08">
<h2>v17.08<a class="headerlink" href="#v17-08" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id2">
<h3>Новый функционал<a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Поддержка контроллера Leap Motion.</p>
<blockquote>
<div><p>В Code Snippets добавлен пример работы с Leap Motion. Используйте его как образец при добавлении поддержки Leap Motion в ваши собственные приложения. Пример включает два режима: с реалистичными руками и с руками, состоящими из простых геометрических фигур.</p>
</div></blockquote>
</li>
<li><p class="first">Новая логическая нода &#8220;Date &amp; Time&#8221;.</p>
<blockquote>
<div><p>Используется для получения текущей даты (год, месяц, день) и времени (часы, минуты, секунды). Поддерживается локальное время и UTC.</p>
</div></blockquote>
</li>
<li><p class="first">Новая логическая нода &#8220;Elapsed&#8221;.</p>
<blockquote>
<div><p>Эта нода возвращает время (в секундах), прошедшее с момента визуализации предыдущего кадра. Может быть очень полезна для создания стабильной и плавной процедурной анимации.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшен текстурный кэш. Добавлен конфигурационный параметр <code class="docutils literal"><span class="pre">enable_texture_cache</span></code>.</p>
<blockquote>
<div><p>Текстурный кэш используется для ускорения загрузки сцен, загружаемых динамически (это достигается за счёт повторного использования уже существующих текстур вместо создания новых). Использование текстурного кэша включается и выключается опцией <code class="docutils literal"><span class="pre">enable_texture_cache</span></code>; эта опция включена по умолчанию.</p>
</div></blockquote>
</li>
<li><p class="first">Новые методы API для управления видимостью групп объектов.</p>
<blockquote>
<div><p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html">objects</a> добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.hide_all_by_data_id">hide_all_by_data_id</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.show_all_by_data_id">show_all_by_data_id</a>. Они применяются для управления видимостью объектов на основе параметра <code class="docutils literal"><span class="pre">data_id</span></code> и могут применяться для скрытия и показа целых сцен, загруженных динамически.</p>
<p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html">textures</a> добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.replace_image">replace_image</a>. Кроме того, метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a> объявлен устаревшим.</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизация процедурных материалов.</p>
<blockquote>
<div><p>Внедрён новый алгоритм упаковки для GLSL-ноды Value. Этот алгоритм использует массив переменных типа vec4 вместо float (как предыдущая версия) и позволяет использовать большее количество нод Value без риска столкнуться с аппаратными ограничениями GPU.</p>
</div></blockquote>
</li>
<li><p class="first">Новый внутренний модуль <code class="docutils literal"><span class="pre">material.js</span></code>.</p>
<blockquote>
<div><p>Содержит внутренние инструменты движка для работы с материалами. Ввиду появления этого модуля после загрузки новой версии SDK для старых проектов потребуется выполнить команды <code class="docutils literal"><span class="pre">Check</span> <span class="pre">Modules</span></code> и <code class="docutils literal"><span class="pre">Update</span> <span class="pre">Modules</span></code> в Менеджере проектов.</p>
</div></blockquote>
</li>
<li><p class="first">Переработан интерфейс редактора логики.</p>
<blockquote>
<div><p>Появилась новая категория Time, содержащая ноды <code class="docutils literal"><span class="pre">Get</span> <span class="pre">Timeline</span></code>, <code class="docutils literal"><span class="pre">Delay</span></code>, <code class="docutils literal"><span class="pre">Date</span> <span class="pre">&amp;</span> <span class="pre">Time</span></code> и <code class="docutils literal"><span class="pre">Elapsed</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в физическом движке.</p>
<blockquote>
<div><p>Библиотека Bullet, используемая физическим движком, обновлена с версии 2.82 до 2.86. Кроме того, теперь по умолчанию включена версия физического движка, скомпилированная с применением WebAssembly. Её преимущества: меньший размер файлов физического движка, более быстрая инициализация, повышенная стабильность физики и более высокий FPS.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Изменения<a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Версия формата экспорта JSON/BIN повышена до 6.03.</p>
<blockquote>
<div><p>Рекомендуется повторно экспортировать старые .blend-файлы для работы с новой версией движка.</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизирован рендеринг эффекта Френеля.</p>
</li>
<li><p class="first">Опция <code class="docutils literal"><span class="pre">Preserve</span> <span class="pre">Global</span> <span class="pre">Rotation</span> <span class="pre">and</span> <span class="pre">Scale</span></code> на панели <code class="docutils literal"><span class="pre">Object-&gt;Billboard</span></code> переименована в <code class="docutils literal"><span class="pre">Preserve</span> <span class="pre">Global</span> <span class="pre">Rotation</span></code>.</p>
<blockquote>
<div><p>Теперь billboard-объекты всегда масштабируются в мировом пространстве координат.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлено сообщение об ошибке, появляющееся при создании рекурсивных ограничителей или ограничителей, использующих ограничиваемый объект в качестве целевого, с помощью модуля API <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">constraints</a>.</p>
</li>
<li><p class="first">Добавлено предупреждение при экспорте, появляющееся в случае использования нескольких ограничителей на одном объекте.</p>
</li>
<li><p class="first">Неиспользуемый python-модуль &#8216;requests&#8217; удалён из аддона.</p>
</li>
<li><p class="first">В документацию добавлены следующие материалы:</p>
<blockquote>
<div><ul class="simple">
<li><p class="first"><a class="reference internal" href="interface.html#blender-interface"><span>Подробное описание</span></a> пользовательского интерфейса Blender</p>
</li>
<li><p class="first">Руководство по использованию <a class="reference internal" href="animation.html#anim-blend"><span>смешивания анимаций</span></a>.</p>
</li>
<li><p class="first"><a class="reference internal" href="objects.html#objects-constraints"><span>Описание</span></a> методов модуля API <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">constraints</a>.</p>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id4">
<h3>Исправления<a class="headerlink" href="#id4" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Ряд исправлений в CSS-файлах приложения Code Snippets и игры &#8220;Сказ о Пятигоре&#8221;.</p>
</li>
<li><p class="first">Из-за ошибок рендеринга на устройствах с GPU ARM Mali-T720 вместо режима прозрачности Alpha-AntiAliasing используется Alpha Clip.</p>
</li>
<li><p class="first">Исправлен ряд крэшей Менеджера проектов, возникавших при сборке приложений.</p>
</li>
<li><p class="first">Исправлена редкая ошибка, приводившая к неправильному начальному положению камер типа HOVER.</p>
</li>
<li><p class="first">Для предотвращения артефактов постпроцессинга в Firefox под Windows отключено использование текстур глубины на GPU AMD.</p>
</li>
<li><p class="first">Исправлен ряд проблем, приводивших к ошибкам рендеринга на мобильных устройствах.</p>
</li>
<li><p class="first">Исправлена чувствительность колеса мыши (ранее она могла быть неточной в некоторых случаях).</p>
</li>
<li><p class="first">Включена поддержка текстур глубины и сопутствующих эффектов (SSAO, динамическая трава, сглаживание береговой линии и пр.) для GPU AMD в браузере Chrome под Windows и для GPU других производителей в Firefox под Windows.</p>
</li>
<li><p class="first">Теперь ограничивающие объёмы billboard-объектов рассчитываются корректно, что позволило исправить ошибки отсечения по зоне видимости.</p>
</li>
<li><p class="first">Исправлен рендеринг процедурного тумана.</p>
</li>
<li><p class="first">Ввиду плохой производительности и ошибок рендеринга на GPU Mali-T720 отключено использование MSAA.</p>
</li>
<li><p class="first">Исправлен ряд неточностей в документации API.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к невозможности рендеринга прозрачного материала с нодой Glow Output в случае, если значение прозрачности равно нулю. Этот баг появлялся в браузере Safari.</p>
</li>
<li><p class="first">Исправлено получение координат мыши и touch-событий в IE11 и Edge в случае, когда canvas приложения не выровнен относительно верхнего левого угла окна браузера.</p>
</li>
<li><p class="first">В Google Chrome 60 для macOS отключен MSAA, т.к. он работал некорректно и мог приводить к крэшам движка.</p>
</li>
<li><p class="first">Ряд незначительных улучшений стабильности WebVR.</p>
</li>
<li><p class="first">Исправлено кэширование текстур для динамически загружаемых сцен. Ранее оно могло приводить к чрезмерному расходу памяти GPU.</p>
</li>
<li><p class="first">Исправлено применение модификатора <code class="docutils literal"><span class="pre">Array</span></code> для мешей с несколькими слоями UV-карт и вершинных цветов.</p>
</li>
<li><p class="first">Исправлена ошибка, приводившая к невозможности использования нескольких анимаций материала на одном объекте.</p>
</li>
<li><p class="first">Исправлено разрешение отладочной подсцены.</p>
</li>
<li><p class="first">Исправлено непредсказуемое поведение констрейнтов в IE11.</p>
</li>
<li><p class="first">Исправлены ошибки видимости якорей.</p>
</li>
<li><p class="first">Исправлена потенциальная утечка памяти; удалены неиспользуемые отладочные буферы кадра.</p>
</li>
<li><p class="first">Исправлено использование атрибутов hasOrientation и hasPosition из API WebVR. В последних WebVR-сборках Chromium эти атрибуты могут быть не определены.</p>
</li>
<li><p class="first">Исправлен крэш движка при использовании кубической карты окружающей среды без изображения.</p>
</li>
<li><p class="first">Исправлены ошибки кодирования в Менеджере проектов под macOS.</p>
</li>
<li><p class="first">Исправлена синхронизация физического worker&#8217;а с основным потоком в Chrome 61+; устранена соответствующая задержка физики.</p>
</li>
<li><p class="first">Удалён хак для прозрачных нодовых материалов в Firefox под Linux, т.к. он приводил к различиям в рендеринге цвета в разных браузерах.</p>
</li>
<li><p class="first">Исправлено вращение камеры при помощи метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.rotate_camera">rotate_camera</a> в случае, если параметр <code class="docutils literal"><span class="pre">is_abs</span></code> имеет значение <code class="docutils literal"><span class="pre">true</span></code>.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к тому, что для проектов типа &#8220;Compile&#8221; вне зависимости от настроек всегда использовался тип оптимизации &#8220;simple&#8221;. Также исправлен уровень оптимизации для Blend4Web Player, использующего тип &#8220;advanced&#8221;. Таким образом, размеры плеера и приложений на его основе (т.е., сцен, экспортированных в формат HTML) стали несколько меньше.</p>
</li>
<li><p class="first">Исправлена загрузка видеотекстур на iPad при экспорте в формат HTML.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v17-06">
<h2>v17.06<a class="headerlink" href="#v17-06" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id5">
<h3>Новый функционал<a class="headerlink" href="#id5" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Поддержка основных констрейнтов Blender.</p>
<blockquote>
<div><p>На данный момент поддерживаются <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Location</span></code>, <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Rotation</span></code>, <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Transforms</span></code> и <code class="docutils literal"><span class="pre">Track</span> <span class="pre">To</span></code>. Кроме того, добавлены следующие методы API: <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_copy_loc">append_copy_loc</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_copy_rot">append_copy_rot</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_copy_trans">append_copy_trans</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Экспериментальная поддержка дополненной реальности.</p>
<blockquote>
<div><p>В последующих релизах мы намерены существенно усовершенствовать эту возможность, а сейчас ознакомиться с ней можно, запустив демонстрационное AR-приложение. Оно находится в каталоге <code class="docutils literal"><span class="pre">apps_dev/AR</span></code>, а также доступно из Менеджера проектов.</p>
</div></blockquote>
</li>
<li><p class="first">Новая логическая нода <code class="docutils literal"><span class="pre">Set</span> <span class="pre">Camera</span> <span class="pre">Limits</span></code>.</p>
<blockquote>
<div><p>Нода позволяет изменять ограничители движения камеры. Каждый ограничитель может быть настроен отдельно. При исполнении ноды применяются только те ограничители, которые совместимы с типом камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения рендеринга AA.</p>
<blockquote>
<div><p>Переработана схема рендеринга постэффектов. Новая схема обеспечивает повышенное быстродействие и более высокое качество антиалиасинга.</p>
</div></blockquote>
</li>
<li><p class="first">Экспериментальный алгоритм освещения от окружающей среды для сцен с материалами <code class="docutils literal"><span class="pre">Cycles</span></code>.</p>
<blockquote>
<div><p>Использование материалов с нодами <code class="docutils literal"><span class="pre">Glossy</span> <span class="pre">BSDF</span></code> и <code class="docutils literal"><span class="pre">Diffuse</span> <span class="pre">BSDF</span></code> автоматически включает освещение от окружающей среды, которое учитывает шероховатость компоненты Glossy.</p>
<p>Для корректной работы нового алгоритма требуется поддержка WebGL 2.0 или WebGL 1.0 с расширением EXT_shader_texture_lod.</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизация рендеринга отражений.</p>
<blockquote>
<div><p>Оптимизированы кубические отражения для сцен, в которых отсутствуют отражаемые объекты. Теперь отражения в таких сценах не рассчитываются индивидуально для каждого отражающего объекта; для таких объектов используется изображение неба.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка загрузки камер.</p>
<blockquote>
<div><p>Теперь динамическая загрузка может использоваться для загрузки дополнительных камер.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в физическом API.</p>
<blockquote>
<div><p>Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.set_angular_velocity">set_angular_velocity</a>. Он может применяться для установки угловой скорости объекта.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Изменения<a class="headerlink" href="#id6" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Опция &#8220;pivot&#8221; в группе параметров &#8220;params&#8221; метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_setup">target_setup</a> стала необязательной.</p>
</li>
<li><p class="first">Переработан модуль API Material. Добавлено два новых метода: <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.is_node_material">is_node_material</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.is_water_material">is_water_material</a>. Кроме того, консольные сообщения об ошибках стали более чёткими и понятными.</p>
</li>
<li><p class="first">Видео в  формате .SEQ больше не используется в качестве резервного варианта для видеотекстур в MS Edge ввиду поддержки HTMLVideoElement.</p>
</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Исправления<a class="headerlink" href="#id7" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлен некорректный рендеринг материалов, использующих карты нормалей.</p>
</li>
<li><p class="first">Исправлен пример кода VR.</p>
</li>
<li><p class="first">Исправлены события клавиатуры при работе движка в контейнере iframe.</p>
</li>
<li><p class="first">Теперь MSAA отключён на GPU Adreno 4xx/5xx для устранения ряда ошибок рендеринга.</p>
</li>
<li><p class="first">Исправлено перемещение и вращение неактивных камер.</p>
</li>
<li><p class="first">Исправлено получение координат при помощи методов <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_x">get_coords_x</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_y">get_coords_y</a>.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к невозможности остановки зацикленного звука в Firefox при последовательном вызове методов <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.stop">stop</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.play">play</a>.</p>
</li>
<li><p class="first">Исправлена перерисовка неба после изменения параметров нодового материала объекта <code class="docutils literal"><span class="pre">World</span></code>.</p>
</li>
<li><p class="first">Отключено автоматическое применение модификаторов к объектам с модификатором <code class="docutils literal"><span class="pre">Array</span></code>.</p>
</li>
<li><p class="first">Исправлены артефакты рендеринга, появлявшиеся в Firefox под Linux при использовании нодовых материалов с прозрачностью.</p>
</li>
<li><p class="first">Исправлено применение анимации нодового материала после наследования материала.</p>
</li>
<li><p class="first">С целью повышения стабильности физики в IE11 и MS Edge отключено использование Worker&#8217;ов для физических симуляций.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v17-04">
<h2>v17.04<a class="headerlink" href="#v17-04" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id8">
<h3>Новый функционал<a class="headerlink" href="#id8" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Поддержка материалов окружающей среды в <code class="docutils literal"><span class="pre">Cycles</span></code>.</p>
<blockquote>
<div><p>Теперь рендеринг неба можно настраивать с помощью нод <code class="docutils literal"><span class="pre">Cycles</span></code>. Для управления итоговым цветом окружения применяется нода <code class="docutils literal"><span class="pre">Background</span></code>. Поддерживаются также сферические карты окружающей среды с типами проекции <code class="docutils literal"><span class="pre">Equirectangular</span></code> и <code class="docutils literal"><span class="pre">Mirror</span> <span class="pre">Ball</span></code>. Материалы окружающей среды могут быть анимированы при помощи нод <code class="docutils literal"><span class="pre">Value</span></code> и <code class="docutils literal"><span class="pre">RGB</span></code> (поддерживается как обычная анимация, так и NLA). Опция <code class="docutils literal"><span class="pre">Use</span> <span class="pre">Nodes</span></code> продублирована на панели настроек <code class="docutils literal"><span class="pre">World</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Экспериментальная поддержка WebAssembly в физическом движке.</p>
<blockquote>
<div><p>Теперь вы можете использовать оптимизированную версию физического движка Uranium.js (нашего порта движка Bullet на JavaScript). Эта возможность включается при помощи нового конфигурационного параметра <code class="docutils literal"><span class="pre">physics_use_wasm</span></code>. Возможность считается экспериментальной и по умолчанию отключена.</p>
</div></blockquote>
</li>
<li><p class="first">Экспериментальная поддержка VR-контроллеров</p>
<blockquote>
<div><p>Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-hmd.html#.enable_controllers">enable_controllers</a>. Обновлен пример VR из приложения Code Snippets. Также добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_orientation_sensor">create_gamepad_orientation_sensor</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_position_sensor">create_gamepad_position_sensor</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена поддержка материалов с типом прозрачности Alpha Anti-Aliasing.</p>
<blockquote>
<div><p>На совместимом оборудовании этот вариант техники Alpha Clipping выглядит намного лучше стандартного. Для использования этого типа прозрачности требуется поддержка MSAA, поэтому он работает только на устройствах, поддерживающих WebGL2. В других случаях вместо него будет использоваться тип прозрачности <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка загрузки ресурсов с компрессией GZIP.</p>
<blockquote>
<div><p>Теперь приложение может загружать сжатые файлы  &#8221;.json.gz&#8221; и &#8221;.bin.gz&#8221; вместо стандартных &#8221;.json&#8221; и &#8221;.bin&#8221;. То же относится и к текстурам в форматах DDS и PVR. Эта возможность включается в веб-плейере при помощи <a class="reference internal" href="web_player.html#webplayer-attributes"><span>URL-параметра</span></a> &#8220;compressed_gzip&#8221;. В обычном приложении она активируется передачей флага &#8220;assets_gzip_available&#8221; в методе <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.init">init</a>. Сжатые файлы генерируются при помощи команды &#8220;convert resources&#8221; в Менеджере проектов. Эту возможность, однако, следует использовать только в тех случаях, когда сжатие не может быть настроено на сервере. Более подробная информация доступна в разделе документации <a class="reference internal" href="developers.html#gzip"><span>&#8220;Компрессия GZIP&#8221;</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения системы LOD.</p>
<blockquote>
<div><p>Появилась возможность плавного переключения уровней LOD на основе техники alpha test. Соответствующая опция называется <code class="docutils literal"><span class="pre">LOD</span> <span class="pre">Smooth</span> <span class="pre">Transitions</span></code> и расположена на панели <code class="docutils literal"><span class="pre">Scene</span> <span class="pre">-&gt;</span> <span class="pre">Object</span> <span class="pre">Clustering</span> <span class="pre">&amp;</span> <span class="pre">LOD</span></code>. Следует иметь в виду, что включение этого параметра для всех объектов может существенно снизить скорость работы приложения.</p>
<p>Также появилась новая опция <code class="docutils literal"><span class="pre">Max</span> <span class="pre">LOD</span> <span class="pre">Hysteresis</span> <span class="pre">Interval</span></code>. Она предназначена для устранения слишком частых переключений уровней LOD в ситуации, когда камера движется рядом с границей между двумя уровнями LOD. Эта опция заменяет старый параметр <code class="docutils literal"><span class="pre">LOD</span> <span class="pre">Transition</span> <span class="pre">Ratio</span></code> на панели <code class="docutils literal"><span class="pre">Object-&gt;Levels</span> <span class="pre">of</span> <span class="pre">Detail</span></code>.</p>
<p>Подробное описание находится в разделе <a class="reference internal" href="objects.html#lods"><span>&#8220;Уровни LOD&#8221;</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка RGBA-теней.</p>
<blockquote>
<div><p>Это позволяет использовать тени на устройствах, не поддерживающих текстуры глубины.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения эффекта Bloom.</p>
<blockquote>
<div><p>Реализован новый алгоритм расчёта эффекта Bloom. Он работает со всеми типами источников света и не зависит от направления освещения. Также добавлена возможность расчёта адаптивной средней яркости.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка текстур типа <code class="docutils literal"><span class="pre">Non-Colour</span> <span class="pre">Data</span></code> в Filmic Blender.</p>
</li>
<li><p class="first">Резервный вариант для сжатых текстур.</p>
<blockquote>
<div><p>Теперь, если сервер возвращает ошибку 404 при обращении к текстурам в форматах gzip/dds/pvr, движок попытается загрузить несжатые изображения.</p>
</div></blockquote>
</li>
<li><p class="first">Отладочный флаг этапов загрузки</p>
<blockquote>
<div><p>В метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.init">init</a> добавлен флаг <code class="docutils literal"><span class="pre">debug_loading</span></code>, позволяющий отслеживать этапы загрузки через консоль.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в редакторе нормалей.</p>
<blockquote>
<div><p>Для смешивания итоговых и начальных положений нормалей в некоторых операторах появился параметр <code class="docutils literal"><span class="pre">Factor</span></code>.</p>
<p>Появилась возможность использовать оператор <code class="docutils literal"><span class="pre">Face</span></code> с несколькими полигонами.</p>
<p>Появился новый оператор <code class="docutils literal"><span class="pre">Scale</span></code>, предназначенный для масштабирования нормалей по осям координат.</p>
<p>Функциональность ряда операторов переработана, а их названия изменены в соответствии с новыми возможностями: <code class="docutils literal"><span class="pre">Tree</span></code> -&gt; <code class="docutils literal"><span class="pre">3D</span> <span class="pre">Cursor</span></code>, <code class="docutils literal"><span class="pre">Foliage</span></code> -&gt; <code class="docutils literal"><span class="pre">Axis</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен API для визуализации нормалей динамических объектов.</p>
<blockquote>
<div><p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a> добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.show_normals">show_normals</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.hide_normals">hide_normals</a>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id9">
<h3>Изменения<a class="headerlink" href="#id9" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Удалены предупреждения для объектов Force Field типа <code class="docutils literal"><span class="pre">None</span></code>.</p>
</li>
<li><p class="first">Теперь метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_sky_params">get_sky_params</a> возвращает значение null для непроцедурного неба.</p>
</li>
<li><p class="first">Теперь параметр <code class="docutils literal"><span class="pre">Use</span> <span class="pre">Custom</span> <span class="pre">Color</span></code> на панели <code class="docutils literal"><span class="pre">Mist</span></code> по умолчанию отключён.</p>
</li>
<li><p class="first">Теперь метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.append_object">append_object</a> работает также и с недуплицированными объектами.</p>
</li>
<li><p class="first">Верхняя граница диапазона значений параметра SSAO <code class="docutils literal"><span class="pre">Influence</span></code> увеличена до 2.0.</p>
</li>
<li><p class="first">Размер canvas&#8217;а больше не меняется на 320x240 в случаях, когда одна или обе его стороны имеют нулевые размеры.</p>
</li>
<li><p class="first">Теперь размеры кубической карты неба изменяются автоматически при изменении текстуры.</p>
</li>
</ul>
</div>
<div class="section" id="id10">
<h3>Исправления<a class="headerlink" href="#id10" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлен русский перевод пунктов меню &#8220;Справка&#8221; в аддоне.</p>
</li>
<li><p class="first">Исправлен ряд неточностей в документации API.</p>
</li>
<li><p class="first">Исправлен параметр <code class="docutils literal"><span class="pre">Do</span> <span class="pre">Not</span> <span class="pre">Export</span></code> для объектов с уровнями LOD (ранее он не работал).</p>
</li>
<li><p class="first">Исправлено снижение FPS в Просмотрщике сцен после выбора объекта.</p>
</li>
<li><p class="first">Исправлено переключение уровней LOD для динамических объектов (ранее движок мог визуализировать более одного уровня LOD одновременно).</p>
</li>
<li><p class="first">Теперь одинаковые запакованные изображения и звуковые файлы при экспорте распаковываются в один файл, а не в несколько одинаковых файлов.</p>
</li>
<li><p class="first">Исправлено ограничения параметра strength ноды Normal Map. Теперь значения ниже 0 не влияют на нормали.</p>
</li>
<li><p class="first">Удалены ненужные обновления тумана при анимации окружающей среды.</p>
</li>
<li><p class="first">Использование объектов типа <code class="docutils literal"><span class="pre">Empty</span></code> с динамическими материалами не приводит к крэшу движка.</p>
</li>
<li><p class="first">Исправлена ошибка клонирования текстур, вызывавшая утечки памяти.</p>
</li>
<li><p class="first">Исправлена сортировка батчей по параметру alpha_clip.</p>
</li>
<li><p class="first">Исправлен крэш текстуры Foam + ShoreMap в материале воды.</p>
</li>
<li><p class="first">Исправлено преобразование пространства в редакторе нормалей.</p>
</li>
<li><p class="first">Исправлено поведение Менеджера проектов в нестандартном Python-окружении.</p>
</li>
<li><p class="first">Исправлен некорректный рендеринг материалов, использующих карты нормалей.</p>
</li>
<li><p class="first">Исправлена фильтрация текстур для правого глаза в режиме VR.</p>
</li>
<li><p class="first">Исправлен крэш на IE11 при использовании <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.client_to_element_coords">client_to_element_coords</a>.</p>
</li>
<li><p class="first">Исправлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.is_hideable">is_hideable</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.show_object">show_object</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.hide_object">hide_object</a>.</p>
</li>
<li><p class="first">Исправлен крэш <code class="docutils literal"><span class="pre">Cycles</span></code>-материалов с несоединёнными выходами <code class="docutils literal"><span class="pre">Surface</span></code>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v17-02">
<h2>v17.02<a class="headerlink" href="#v17-02" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id11">
<h3>Новый функционал<a class="headerlink" href="#id11" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшения в менеджере проектов.</p>
<blockquote>
<div><p>Добавлен визуальный конфигуратор проекта. Конфигуратор позволяет редактировать только те настройки, которые доступны для данного проекта, кроме того, все изменения обратимы. Для вызова конфигуратора достаточно нажать ссылку <em>[config]</em> рядом с названием проекта на главной странице Менеджера проектов.</p>
<p>Появилась команда clone project.</p>
<p>Появились карты кода (source maps) JavaScript. Карты кода позволяют просматривать сжатый программный код в первоначальном виде, используя особую &#8220;карту&#8221;. Для генерации карты кода следует установить флаг <em>-b</em> для скрипта <em>project.py</em> при сборке проекта.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения интерфейса.</p>
<blockquote>
<div><p>Чтобы упростить создания Blend4Web-контента, мы переработали интерфейс Blender.</p>
<p>Меню <cite>Render</cite> и <cite>Help</cite> переработаны для движка Blend4Web.</p>
<p>Добавлены консольные сообщения о неподдерживаемых редакторах.</p>
<p>Панель &#8216;Rigid Body&#8217; отсутствует в интерфейсе при использовании движка Blend4Web.</p>
<p>Номер версии Blend4Web добавлен на экран загрузки Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Дальнейшая поддержка материалов <code class="docutils literal"><span class="pre">Cycles</span></code>.</p>
<blockquote>
<div><p>Добавлена поддержка выхода <code class="docutils literal"><span class="pre">Displacement</span></code>. Он применяется для быстрого добавления рельефа к материалу.</p>
<p>Добавлена поддержка ноды <code class="docutils literal"><span class="pre">Transparent</span> <span class="pre">BSDF</span></code>. Нода относится к категории <code class="docutils literal"><span class="pre">Shader</span></code> и применяется для создания прозрачных материалов без рефракции: свет проходит через такую поверхность, как если бы её не было.</p>
</div></blockquote>
</li>
<li><p class="first">Расширение поддержки наследования материалов.</p>
<blockquote>
<div><p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.inherit_material">inherit_material</a> был серьёзно усовершенствован и теперь поддерживает нодовые материалы. Для его использования необходимо включить опцию <code class="docutils literal"><span class="pre">Dynamic</span> <span class="pre">Geometry</span> <span class="pre">&amp;</span> <span class="pre">Materials</span></code> (ранее известную как <code class="docutils literal"><span class="pre">Dynamic</span> <span class="pre">Geometry</span></code>) на панели <code class="docutils literal"><span class="pre">Object</span></code> как для целевого объекта, так и для объекта-источника. Кроме того, теперь экспортируются все UV-карты и слои вертексного цвета, которые также будут доступны для материала, применяемого к целевому объекту. Более подробно эта возможность описана в <a class="reference internal" href="materials.html#material-inherit"><span>соответствующей главе</span></a> документации.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения &#8220;Примеров кода&#8221;.</p>
<blockquote>
<div><p>Появилась функция &#8220;Make project&#8221;. Она позволяет создать новый проект, основанный на примере кода, что даёт пользователю возможность использовать готовые примеры для дальнейшей разработки.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения камеры.</p>
<blockquote>
<div><p>Добавлена поддержка методов подгонки изображения <code class="docutils literal"><span class="pre">Horizontal</span></code> и <code class="docutils literal"><span class="pre">Auto</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">API для настройки Wind Bending.</p>
<blockquote>
<div><p>Теперь параметры Wind Bending могут быть установлены при помощи метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.set_wind_bending_params">set_wind_bending_params</a> и получены при помощи <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_wind_bending_params">get_wind_bending_params</a>. Следует заметить, что эти функции работаю только для динамических объектов. Кроме того, отдельное меню для настройки Wind Bending добавлено в <a class="reference internal" href="viewer.html#viewer"><span>Просмотрщик сцен</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Настройка качества отражений и размытия теней.</p>
<blockquote>
<div><p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html">config</a> добавлены новые параметры <code class="docutils literal"><span class="pre">shadow_blur_samples</span></code> и <code class="docutils literal"><span class="pre">reflection_quality</span></code>. Они могут быть заданы при помощи метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.set">set</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка индивидуальной настройки аддона Blend4Web.</p>
<blockquote>
<div><p>Для упрощения настройки аддона Blend4Web появилась возможность добавлять поля <em>b4w_custom_prop</em> в блоки данных Object и Scene. Эти параметры экспортируются в формат Blend4Web и доступны при помощи методов <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_custom_prop">scenes.get_custom_prop</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_custom_prop">objects.get_custom_prop</a>. Пример использования можно увидеть в файле <cite>addons/blend4web/custom_prop_example.py</cite>, входящем в SDK.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения экспорта UV-слоев.</p>
<blockquote>
<div><p>Удалено ограничение в два UV-слоя на меш. Кроме того, если UV-слой не задан, по умолчанию используется активный, а не первый в списке, как раньше. Неиспользуемые UV-слои не экспортируются, за исключением случаев, когда для объекта активирован параметр <code class="docutils literal"><span class="pre">Dynamic</span> <span class="pre">Geometry</span> <span class="pre">&amp;</span> <span class="pre">Materials</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id12">
<h3>Изменения<a class="headerlink" href="#id12" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Изменения в Менеджере проектов.</p>
<blockquote>
<div><p>Тип движка &#8220;External&#8221; объявлен устаревшим и автоматически заменятся на тип &#8220;Copy&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь пустые слоты материалов экспортируются корректно и не останавливают процесс экспорта.</p>
</li>
<li><p class="first">Аддон перемещён в отдельную категорию <code class="docutils literal"><span class="pre">Blend4Web</span></code>.</p>
</li>
<li><p class="first">В интерфейс Blender добавлены предупреждения о неподдерживаемых ограничителях и форматах текстур.</p>
</li>
<li><p class="first">Теперь смешивание скелетных анимаций корректно работает с двумя анимациями. Эта возможность остаётся экспериментальной, API для неё может меняться в будущем.</p>
</li>
<li><p class="first">Теперь при динамической загрузке или выгрузке статичных физических объектов последние корректно влияют на сцену.</p>
</li>
<li><p class="first">Ряд улучшений в модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html">fps</a>. В метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.enable_fps_controls">enable_fps_controls</a> добавлено несколько параметров для настройки. Подробнее изменения описаны в документации API.</p>
</li>
<li><p class="first">Изменения API</p>
<blockquote>
<div><p>Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.set_canvas_offsets">set_canvas_offsets</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.update_canvas_offsets">update_canvas_offsets</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.force_offsets_updating">force_offsets_updating</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html">container</a> объявлены устаревшими и будут удалены в будущих релизах. Вместо них следует использовать метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.client_to_canvas_coords">client_to_canvas_coords</a> или <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.client_to_element_coords">client_to_element_coords</a>.</p>
<p>Добавлен модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html">screen</a>.</p>
<p>Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.request_fullscreen_hmd">request_fullscreen_hmd</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.enable_split_screen">enable_split_screen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.disable_split_screen">disable_split_screen</a> , <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.request_fullscreen">request_fullscreen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.exit_fullscreen">exit_fullscreen</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.check_fullscreen">check_fullscreen</a> объявлены устаревшими и будут удалены в будущих релизах. Вместо них следует использовать методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.request_fullscreen_hmd">request_fullscreen_hmd</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.request_split_screen">request_split_screen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.exit_split_screen">exit_split_screen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.request_fullscreen">request_fullscreen</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.exit_fullscreen">exit_fullscreen</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html#.check_fullscreen">check_fullscreen</a>.</p>
<p>Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-hud.html#.draw_mixer_strip">draw_mixer_strip</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-hud.html#.plot_array">plot_array</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-screenshooter.html#.shot">shot</a> объявлены устаревшими и перемещены в модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-screen.html">screen</a>. Модули <a class="reference external" href="https://www.blend4web.com/api_doc/module-hud.html">hud</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-screenshooter.html">screenshooter</a> объявлены устаревшими.</p>
<p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_hmd_fov">set_hmd_fov</a> объявлен устаревшим.</p>
<p>Метод API <cite>util.ground_project_quat</cite> переименован в <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.ground_project_cam_quat">ground_project_cam_quat</a>.</p>
<p>Удалены следующие устаревшие методы: camera.set_move_style, camera.has_vertical_limits, camera.has_horizontal_limits, camera.move_pivot, camera.set_velocity_params, camera.get_velocity_params, camera.clear_horizontal_limits, camera.clear_vertical_limits, camera.clear_hover_angle_limits, camera.set_look_at, camera.rotate_eye_camera, camera.rotate_target_camera, camera.set_trans_pivot, camera.zoom_object, camera.set_pivot, camera.rotate_hover_camera, camera.get_hover_cam_pivot, camera.get_eye, camera.get_pivot, camera.hover_cam_set_translation, camera.set_hover_pivot, camera.get_hover_angle_limits, camera.get_cam_dist_limits, camera.apply_vertical_limits, camera.apply_hover_angle_limits, camera.apply_distance_limits, camera.clear_distance_limits, camera.get_vertical_limits, camera.apply_horizontal_limits, camera.get_horizontal_limits, controls.register_keyboard_events, controls.register_mouse_events, controls.register_wheel_events, controls.register_touch_events, controls.register_device_orientation, controls.unregister_keyboard_events, controls.unregister_mouse_events, controls.unregister_wheel_events, controls.unregister_touch_events, controls.unregister_device_orientation, app.resize_to_container, app.set_camera_move_style, app.enable_controls, app.disable_controls, hmd.get_hmd_device, hmd.reset, animation.get_first_armature_object, animation.get_bone_translation, constraints.get_parent, util.line_plane_intersect, util.is_mesh, util.is_armature, tsr.create_sep, sfx.is_play, scenes.check_object, scenes.get_object_dg_parent, nla.check_nla_scripts, main.resize, main.global_timeline, main.get_canvas_elem.</p>
<p>Добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.add_click_listener">add_click_listener</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.remove_click_listener">remove_click_listener</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения режима VR.</p>
<blockquote>
<div><p>Теперь переключение в режим VR происходит без перезагрузки приложения (при использовании мобильных браузеров или браузеров с поддержкой WebVR).</p>
<p>Отключена авторотация камеры в режиме VR.</p>
<p>Добавлена поддержка WebVR 1.1.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.is_character">is_character</a> не возвращает значение <code class="docutils literal"><span class="pre">true</span></code>, если приложение не использует физику.</p>
</li>
<li><p class="first">Параграф <a class="reference internal" href="developers.html#non-standard-canvas-pos"><span>Нестандартное расположение и ориентация элемента Canvas</span></a> переписан в соответствии с изменениями в движке.</p>
<blockquote>
<div><p>Кроме того, добавлен новый параграф <a class="reference internal" href="developers.html#mobile-web-apps"><span>Мобильные веб-приложения</span></a>, затрагивающий некоторые аспекты ориентации и масштабирования страницы браузера.</p>
</div></blockquote>
</li>
<li><p class="first">В документацию добавлен раздел <a class="reference internal" href="materials.html#material-api"><span>Методы API для работы с материалами</span></a>. В нём описывается использование методов модуля API <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a>.</p>
</li>
<li><p class="first">Структура объекта <code class="docutils literal"><span class="pre">SSAOParams</span></code>, используемого в методах <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_ssao_params">set_ssao_params</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_ssao_params">get_ssao_params</a>, стала более корректной.</p>
</li>
<li><p class="first">Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.object_distance">object_distance</a> объявлен устаревшим. Вместо него следует использовать метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.distance">distance</a>.</p>
</li>
<li><p class="first">Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_ray_sensor">create_ray_sensor</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-npc_ai.html#.new_event_track">new_event_track</a> больше не принимают нефизические объекты в качестве аргументов (это приводило к крэшу движка).</p>
</li>
<li><p class="first">Теперь видеотекстуры не могут изменяться при помощи метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a>.</p>
</li>
</ul>
</div>
<div class="section" id="id13">
<h3>Исправления<a class="headerlink" href="#id13" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлен баг, приводивший к тому, что описание якоря состояло не только из текстовых нод.</p>
</li>
<li><p class="first">Исправлен крэш, возникавший при использовании некорректных материалов системой частиц типа <code class="docutils literal"><span class="pre">Emitter</span></code>.</p>
</li>
<li><p class="first">Исправлены ошибки, возникавшие при использовании связанных объектов или групп с одинаковыми именами.</p>
</li>
<li><p class="first">Удалена дублирующая панель <code class="docutils literal"><span class="pre">Simplify</span></code>, которая создавалась Blend4Web в других системах рендеринга.</p>
</li>
<li><p class="first">Исправлено кэширование текстур при использовании несовместимых источников.</p>
</li>
<li><p class="first">Исправлены нормали частиц эмиттера.</p>
</li>
<li><p class="first">Исправлен рендеринг в текстуру, который в предыдущем релизе работал некорректно.</p>
</li>
<li><p class="first">Ряд исправлений в методе <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.prefetch">prefetch</a>.</p>
</li>
<li><p class="first">Исправлена SRGB-коррекция цвета в режиме <code class="docutils literal"><span class="pre">Ultra</span></code>.</p>
</li>
<li><p class="first">Исправлено снижение FPS в браузерах для iOS.</p>
</li>
<li><p class="first">Исправлена загрузка исполняемых файлов в случае, если директория tmp не поддерживает их запуск. В этом случае используется стандартная tmp-директория Blender, пусть к которой может быть задан вручную.</p>
</li>
<li><p class="first">Более корректное раскрытие меню <cite>Add</cite> в нодовом редакторе.</p>
</li>
<li><p class="first">Файл assets.json удалён из всех blend-файлов.</p>
</li>
<li><p class="first">Исправлена перезагрузка бинарного модуля при нажатии F8.</p>
</li>
<li><p class="first">Исправлена работа конфигуратора HMD.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к тому, что видимость слоёв сцены в Blender могла изменяться после экспорта.</p>
</li>
<li><p class="first">Исправлено некорректное поведение видеотекстур в Firefox.</p>
</li>
<li><p class="first">Исправлены тени и отражения для динамической травы.</p>
</li>
<li><p class="first">Исправлен крэш при компиляции шейдеров, происходивший в том случае, если был выбран профиль качества LOW.</p>
</li>
<li><p class="first">Исправлен выбор объектов и тени от объектов с нодовыми материалами, использующими режим прозрачности Alpha Clip.</p>
</li>
<li><p class="first">Исправлена проверка неподдерживаемых размеров текстур.</p>
</li>
<li><p class="first">Исправлена функция Override Bounding Volumes для объектов с ключами формы.</p>
</li>
<li><p class="first">Исправлен выбор и подсветка LOD-объектов.</p>
</li>
<li><p class="first">Исправлен крэш движка, возникавший, если к какому-либо объекту в Blender применялся модификатор Array.</p>
</li>
<li><p class="first">Исправлены баги, связанные с методом <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_ssao_params">set_ssao_params</a>.</p>
</li>
<li><p class="first">Google Closure Compiler, используемый для компиляции скриптов движка и приложений, обновлён до последний версии. Это помогло исправить несколько мелких багов.</p>
</li>
<li><p class="first">Исправлен крэш движка при применении ключа формы к объекту с системой частиц типа HAIR или EMITTER.</p>
</li>
<li><p class="first">Исправлено свойство &#8220;Hidden&#8221; объектов типа <code class="docutils literal"><span class="pre">EMPTY</span></code>, используемых в качестве якорей.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-12">
<h2>v16.12<a class="headerlink" href="#v16-12" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id14">
<h3>Новый функционал<a class="headerlink" href="#id14" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшения в менеджере проектов.</p>
<blockquote>
<div><p>В редактор файлов проекта добавлены кнопки <code class="docutils literal"><span class="pre">New</span> <span class="pre">File</span></code> и <code class="docutils literal"><span class="pre">Save</span> <span class="pre">As</span></code>. Кроме того, теперь редактор подсвечивает изменённые файлы для упрощения навигации.</p>
<p>Теперь сборщик приложений Менеджера проектов уменьшает скомпилированные HTML-файлы, что ускоряет их загрузку.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка новых нод <code class="docutils literal"><span class="pre">Cycles</span></code>.</p>
<blockquote>
<div><p>Добавлена поддержка ноды <code class="docutils literal"><span class="pre">Emission</span></code>. Эта нода относится к категории <code class="docutils literal"><span class="pre">Shader</span></code> и отвечает за излучение материалом света. Среди входных параметров этой ноды - <code class="docutils literal"><span class="pre">Color</span></code> и <code class="docutils literal"><span class="pre">Strength</span></code>. В Blend4Web эта нода влияет только на вид материалов, в которых используется, и не превращает объекты в источники света.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения рендеринга LOD-объектов.</p>
<blockquote>
<div><p>Теперь объекты с уровнями детализации объединяются в батчи в зависимости от их пропорций и настроек расстояния. Таким образом, движок визуализирует LOD-объекты с максимальной эффективностью, стараясь сохранять достаточное количество объектов, объединённых в батчи. Для настройки этой возможности на панель  <cite>Scene-&gt;Objects Clustering</cite> добавлен параметр <code class="docutils literal"><span class="pre">LOD</span> <span class="pre">Cluster</span> <span class="pre">Size</span> <span class="pre">Multiplier</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Новые методы API <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.prefetch">prefetch</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.unfetch">unfetch</a>.</p>
<blockquote>
<div><p>Первый метод используется для предварительной загрузки и кэширования ресурсов сцены (текстур, звуков, файлов сцены и т.п.). Второй метод применяется для очистки кэша.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка выбора объектов на VR-устройствах.</p>
<blockquote>
<div><p>Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.pick_center">pick_center</a>. Этот метод использует функцию выбора объектов и позволяет пользователю выбрать объект, находящийся в центре окна приложения. Он работает как на VR-устройствах, так и в обычных приложениях.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения интерфейса аддона.</p>
<blockquote>
<div><p>Из аддона удалена панель сервера разработки. Добавлены подробные предупреждения о том, что сервер разработки недоступен в аддоне.</p>
</div></blockquote>
</li>
<li><p class="first">Кэширование текстур.</p>
<blockquote>
<div><p>Теперь все текстурные изображения кэшируются. Если запрашивается новая текстура с похожими параметрами, она берётся из кэша. Это снижает расход памяти и значительно увеличивает быстродействие метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a> для нескольких объектов.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id15">
<h3>Изменения<a class="headerlink" href="#id15" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Изменения в Менеджере проектов.</p>
<blockquote>
<div><p>Переработана структура файлов Менеджера проектов. Теперь новые проекты размещаются в директории <code class="docutils literal"><span class="pre">projects</span></code>. Все медиаданные размещаются в каталоге проекта.</p>
<p>Обратите внимание, что в новой файловой структуре метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.get_std_assets_path">get_std_assets_path()</a> больше не возвращает путь к директории проекта. Вместо него следует использовать метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.get_assets_path">get_assets_path()</a>.</p>
<p>Для <a class="reference internal" href="project_manager.html#updating-project-structure"><span>перевода старых проектов на новую структуру</span></a> добавлена кнопка <code class="docutils literal"><span class="pre">upgrade</span> <span class="pre">file</span> <span class="pre">structure</span></code>.</p>
<p>Текст в редакторе Менеджера проектов теперь выделяется пробелами, а не табуляциями.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь источники света с неподдерживаемым типом <code class="docutils literal"><span class="pre">Area</span></code> при экспорте преобразуются в источники типа <code class="docutils literal"><span class="pre">Sun</span></code>. При этом в консоли браузера выводится соответствующее сообщение об ошибке.</p>
</li>
</ul>
</div>
<div class="section" id="id16">
<h3>Исправления<a class="headerlink" href="#id16" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлен баг с видеотекстурами в мобильной версии Chrome.</p>
</li>
<li><p class="first">Исправлен баг с типом прозрачности &#8220;Alpha Sort&#8221; для статических объектов.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к некорректному рендерингу материалов, использующих карты нормалей.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к тому, что уровни детализации объекта переключались с заметной задержкой, во время которой не выводился ни один из уровней.</p>
</li>
<li><p class="first">Исправлен баг с динамической травой в WebGL 2.0.</p>
</li>
<li><p class="first">Исправлена ошибка взаимодействия с планшетами Wacom.</p>
</li>
<li><p class="first">Исправлено сообщение &#8220;Export to different disk is forbidden&#8221;, которое появлялось при использовании функции быстрого просмотра.</p>
</li>
<li><p class="first">Исправлен крэш при экспорте дупли-групп без привязанных объектов.</p>
</li>
<li><p class="first">Теперь прозрачные материалы корректно воспринимают значения прозрачности более 1.0.</p>
</li>
<li><p class="first">Нода <code class="docutils literal"><span class="pre">Parallax</span></code> больше не вызывает крэш нодового дерева в случае, если её входящая текстура используется в каких-либо Outout-нодах за исключением самой ноды <code class="docutils literal"><span class="pre">Parallax</span></code>.</p>
</li>
<li><p class="first">Теперь нодовые материалы очищаются от неиспользуемых нод при экспорте.</p>
</li>
<li><p class="first">Исправлена привязка к камере в режиме VR.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-11">
<h2>v16.11<a class="headerlink" href="#v16-11" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id17">
<h3>Новый функционал<a class="headerlink" href="#id17" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Добавлена частичная поддержка материалов, использующих ноды <code class="docutils literal"><span class="pre">Cycles</span></code>. Список нод <code class="docutils literal"><span class="pre">Cycles</span></code>, поддерживаемых на данный момент:</p>
<blockquote>
<div><p>Нода <code class="docutils literal"><span class="pre">Material</span> <span class="pre">Output</span></code> работает почти так же, как <code class="docutils literal"><span class="pre">Output</span></code> из <code class="docutils literal"><span class="pre">Blender</span> <span class="pre">Internal</span></code>, однако использует вход шейдерного типа. На данный момент поддерживается только вход <code class="docutils literal"><span class="pre">Surface</span></code>. Эта нода определяет материал как использующий физический рендеринг (PBR-материал).</p>
<p>Нода <code class="docutils literal"><span class="pre">BSDF</span> <span class="pre">Diffuse</span></code> из категории <code class="docutils literal"><span class="pre">Shader</span></code>. Отвечает за диффузную составляющую освещения материала и не создаёт видимых отражений. Нода имеет входы <code class="docutils literal"><span class="pre">Color</span></code>, <code class="docutils literal"><span class="pre">Roughness</span></code> и <code class="docutils literal"><span class="pre">Normal</span></code>, а также один выход шейдерного типа.</p>
<p>Нода <code class="docutils literal"><span class="pre">BSDF</span> <span class="pre">Glossy</span></code> из категории <code class="docutils literal"><span class="pre">Shader</span></code>. Отвечает за блики на материале и за отражение окружающей среды. нода обладает входами <code class="docutils literal"><span class="pre">Color</span></code>, <code class="docutils literal"><span class="pre">Roughness</span></code> и <code class="docutils literal"><span class="pre">Normal</span></code>, а также одним выходом шейдерного типа. На данный момент поддерживается только распределение GGX. Использование этой ноды автоматически включает использование кубических отражений для объекта, использующего материал, даже если для этого объекта не включены отражения. Отражаемые объекты и окружение следует задавать с помощью стандартных настроек Blend4Web. На данный момент параметр Roughness не влияет на рендеринг отражений.</p>
<p>Нода <code class="docutils literal"><span class="pre">Mix</span> <span class="pre">Shader</span></code> из категории <code class="docutils literal"><span class="pre">Shader</span></code>. Используется для смешивания выходных данных нод, принадлежащих к той же категории. Два шейдерных входа и вход <code class="docutils literal"><span class="pre">Fac</span></code>, определяющий степень смешивания, а также один выход шейдерного типа.</p>
<p>Нода <code class="docutils literal"><span class="pre">Fresnel</span></code> из категории <code class="docutils literal"><span class="pre">Input</span></code>. Рассчитывает, какая часть падающего на материал света отражается от его поверхности (другая часть преломляется, проходя сквозь поверхность). Полученный весовой коэффициент может затем использоваться многослойными шейдерами с нодой <code class="docutils literal"><span class="pre">Mix</span> <span class="pre">Shader</span></code>. Результат зависит от угла между нормалью поверхности и вектором взгляда. Нода обладает входами <code class="docutils literal"><span class="pre">IOR</span></code> (коэффициент преломления) и <code class="docutils literal"><span class="pre">Normal</span></code>, а также одним выходом скалярного типа.</p>
<p>Нода <code class="docutils literal"><span class="pre">Layer</span> <span class="pre">Weight</span></code> из категории <code class="docutils literal"><span class="pre">Input</span></code>. Определяет весовые коэффициенты, используемые многослойными шейдерами с нодой Mix Shader. Входы - <code class="docutils literal"><span class="pre">Blend</span></code> и <code class="docutils literal"><span class="pre">Normal</span></code>. Выходы  - <code class="docutils literal"><span class="pre">Fresnel</span></code> и <code class="docutils literal"><span class="pre">Facing</span></code>.</p>
<p>Другие поддерживаемые ноды - <code class="docutils literal"><span class="pre">Image</span> <span class="pre">Texture</span></code>, <code class="docutils literal"><span class="pre">Environment</span> <span class="pre">Texture</span></code>, <code class="docutils literal"><span class="pre">Object</span> <span class="pre">Info</span></code> и <code class="docutils literal"><span class="pre">Bump</span></code>.</p>
<p>Частично поддерживаемые ноды: <code class="docutils literal"><span class="pre">Texture</span> <span class="pre">Coordinate</span></code> (не поддерживается параметр <cite>From Dupli</cite>), <code class="docutils literal"><span class="pre">UV</span> <span class="pre">Map</span></code> (не поддерживается параметр <cite>From Dupli</cite>) и <code class="docutils literal"><span class="pre">Geometry</span></code> (не поддерживаются выходы <cite>Pointness</cite> и <cite>Parametric</cite>).</p>
<p>Ноды, поддержка которых была добавлена в предыдущих релизах Blend4Web (и которые используются как <code class="docutils literal"><span class="pre">Cycles</span></code>, так и <code class="docutils literal"><span class="pre">Blender</span> <span class="pre">Internal</span></code>), также нормально работают с новыми PBR-материалами. Среди таких нод - <code class="docutils literal"><span class="pre">Color</span> <span class="pre">Ramp</span></code>, <code class="docutils literal"><span class="pre">Normal</span> <span class="pre">Map</span></code>, <code class="docutils literal"><span class="pre">Camera</span> <span class="pre">Data</span></code>, <code class="docutils literal"><span class="pre">Particle</span> <span class="pre">Info</span></code>, <code class="docutils literal"><span class="pre">RGB</span></code>, <code class="docutils literal"><span class="pre">Value</span></code>, ноды категории <code class="docutils literal"><span class="pre">Convertor</span></code> (за исключением нод <code class="docutils literal"><span class="pre">Blackbody</span></code> и <code class="docutils literal"><span class="pre">Wavelength</span></code>), ноды категории <code class="docutils literal"><span class="pre">Vector</span></code> и ноды категории <code class="docutils literal"><span class="pre">Color</span></code> (за исключением <code class="docutils literal"><span class="pre">Light</span> <span class="pre">Falloff</span></code>).</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в менеджере проектов.</p>
<blockquote>
<div><p>Появился редактор файлов проекта. Теперь файлы CSS, JavaScript, HTML, а также файл .b4w_project можно редактировать прямо в Менеджере проектов.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый аддон fps.</p>
<blockquote>
<div><p>Использование этого аддона упрощает создание приложений с видом от первого лица. Аддон содержит два основных метода: <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.enable_fps_controls">enable_fps_controls</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.disable_fps_controls">disable_fps_controls</a>. Первый из них активирует стандартную схему управления с помощью геймпада и клавиатуры, включает управление камерой при помощи мыши и тач-интерфейса, а также поворот камеры с помощью VR-устройства (если включен VR-режим). Второй метод отключает всё перечисленное. Аддон также содержит дополнительные методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.bind_action">bind_action</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_character_state_changing_cb">set_character_state_changing_cb</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_cam_smooth_factor">set_cam_smooth_factor</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_cam_sensitivity">set_cam_sensitivity</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_plock_enable_cb">set_plock_enable_cb</a> &#8221; &#8220;и <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_plock_disable_cb">set_plock_disable_cb</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения навигационных мешей.</p>
<blockquote>
<div><p>Теперь метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.navmesh_find_path">navmesh_find_path</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics</a> строит траекторию в трёх измерениях, что позволяет строить траектории на вертикальных поверхностях (ранее этот метод мог использоваться только с горизонтальными поверхностями). Также изменены параметры метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.navmesh_find_path">navmesh_find_path</a> и улучшен алгоритм A*.</p>
</div></blockquote>
</li>
<li><p class="first">Аддон Blend4Web стал удобнее в использовании.</p>
<blockquote>
<div><p>Поле Blend4Web SDK Directory удалено из свойств аддона. Теперь путь к директории Blend4Web SDK строится автоматически.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id18">
<h3>Изменения<a class="headerlink" href="#id18" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Изменения API</p>
<blockquote>
<div><p>Изменены параметры методов <a class="reference external" href="https://www.blend4web.com/api_doc/module-screenshooter.html#.shot">shot</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html#.canvas_data_url">canvas_data_url</a>.</p>
<p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> добавлена новая функция <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_camera_angles_dir">get_camera_angles_dir</a>. Она возвращает сферические координаты камеры с заданного направления вектора взгляда камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Упрощена настройка окружающей среды.</p>
<blockquote>
<div><p>Теперь вода использует базовые настройки направления и силы ветра, если в сцене отсутствует соответствующее силовое поле и всегда является динамическим объектом. При отсутствии в сцене солнца для процедурного неба используется положение солнца по умолчанию.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь NPC AI подхватывает все анимации при загрузке.</p>
<blockquote>
<div><p>Это несколько увеличивает время загрузки, но устраняет задержки, вызываемые анимацией NPC.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь кнопка <code class="docutils literal"><span class="pre">Fast</span> <span class="pre">Preview</span></code> доступна в режиме Cycles.</p>
</li>
<li><p class="first">Теперь методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_all_objects">get_all_objects</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_by_name">get_object_by_name</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.check_object_by_name">check_object_by_name</a> не возвращают внутренние мета-объекты движка, не предназначенные для использования в приложении.</p>
</li>
</ul>
</div>
<div class="section" id="id19">
<h3>Исправления<a class="headerlink" href="#id19" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Теперь Менеджер проектов совместим с устаревшим типом привязки движка <code class="docutils literal"><span class="pre">update</span></code>.</p>
</li>
<li><p class="first">Исправлен баг с определённой кодировкой в Менеджере проектов.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к конфликту модулей с одинаковыми именами в Менеджере проектов.</p>
</li>
<li><p class="first">Исправлена ошибка рендеринга бликов на материале.</p>
<blockquote>
<div><p>Эта ошибка возникала, когда материал с бликами типа Blinn освещался двумя или более источниками света.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлен баг с выгрузкой NLA.</p>
<blockquote>
<div><p>Теперь из NLA удаляются все объекты, принадлежащие к выгруженной сцене.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлен баг с мерцанием в стереорежиме.</p>
<blockquote>
<div><p>Этот баг возникал при использовании эффекта Motion Blur.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлена перезапись ресурсных файлов с одинаковыми именами в директории Temp при использовании Fast Preview.</p>
</li>
<li><p class="first">Исправлена ошибка сети, возникавшая при загрузке скриншота.</p>
</li>
<li><p class="first">Исправлен крэш шейдера при запуске некоторых сцен с настройкой качества LOW.</p>
</li>
<li><p class="first">Исправлен крэш движка при запуске сцен без объектов типа <code class="docutils literal"><span class="pre">MESH</span></code>.</p>
</li>
<li><p class="first">Исправлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.track_to_target">track_to_target</a>, который создавал некорректную анимацию приближения.</p>
</li>
<li><p class="first">Исправлена редкая ошибка с пустыми слотами текстур частиц, иногда приводившая к крэшу при экспорте.</p>
</li>
<li><p class="first">Исправлен рендеринг процедурных линий.</p>
</li>
<li><p class="first">Исправлена ошибка логической ноды <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code>, приводившая к тому, что анимация останавливалась после первого проигрывания.</p>
</li>
<li><p class="first">Исправлен крэш в модуле navmesh, происходивший в веб-браузерах, не поддерживающих метод <cite>indexOf</cite> для <cite>TypedArray</cite>.</p>
</li>
<li><p class="first">Исправлена ошибка Менеджера проектов, возникавшая при конвертации ресурсов в случае отсутствия <cite>ffprobe</cite>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-10">
<h2>v16.10<a class="headerlink" href="#v16-10" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id20">
<h3>Новый функционал<a class="headerlink" href="#id20" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Добавлена поддержка навигационных сеток.</p>
<blockquote>
<div><p>В модуль <code class="docutils literal"><span class="pre">physics</span></code> добавлены два метода: <code class="docutils literal"><span class="pre">navmesh_get_island</span></code> возвращает ближайший сегмент навигационной сетки, а  <code class="docutils literal"><span class="pre">navmesh_find_path</span></code> применяется для поиска пути.</p>
<p>Доступны два типа пути: основанный на центрах треугольников и более оптимальный <code class="docutils literal"><span class="pre">pulled</span> <span class="pre">string</span></code>.</p>
<p>Пример использования входит в состав приложения <code class="docutils literal"><span class="pre">Code</span> <span class="pre">Snippets</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Новая логическая нода <code class="docutils literal"><span class="pre">Set</span> <span class="pre">Camera</span> <span class="pre">Move</span> <span class="pre">Style</span></code>.</p>
<blockquote>
<div><p>Эта нода может использоваться для изменения скорости и типа перемещения камеры. В качестве &#8220;цели&#8221; для камер типа <code class="docutils literal"><span class="pre">Target</span></code> и <code class="docutils literal"><span class="pre">Hover</span></code> может использоваться как объект, так и координаты точки.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка тангенциального затенения для отредактированных нормалей.</p>
<blockquote>
<div><p>Теперь тангенциальное затенение корректно работает с отредактированными нормалями.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения Менеджера проектов.</p>
<blockquote>
<div><p>Теперь приложения, blend-файлы и медиаданные проекта открываются в новых вкладках. Сам Менеджер проектов при этом остаётся в том же окне браузера, что увеличивает эффективность работы.</p>
<p>Команда <code class="docutils literal"><span class="pre">compile</span> <span class="pre">project</span></code> переименована в <code class="docutils literal"><span class="pre">build</span> <span class="pre">project</span></code>. Новое название точнее описывает функцию кнопки.</p>
</div></blockquote>
</li>
<li><p class="first">Новые типы смешивания текстур окружения.</p>
<blockquote>
<div><p>Теперь текстуры, используемые для расчёта освещения от окружающей среды, поддерживают все типы смешивания.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка опции <code class="docutils literal"><span class="pre">Sphere</span></code> для источников света <code class="docutils literal"><span class="pre">Point</span></code> и <code class="docutils literal"><span class="pre">Spot</span></code>.</p>
<blockquote>
<div><p>Эта опция позволяет задать дистанцию, на которой интенсивность света становится нулевой.</p>
</div></blockquote>
</li>
<li><p class="first">Повёрнутые ограничивающие объёмы.</p>
<blockquote>
<div><p>Теперь для отсечения невидимых объектов используются повёрнутые ограничивающие кубы. Кроме того, для динамических объектов теперь поддерживаются повёрнутые ограничивающие эллипсоиды.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь логическая нода <code class="docutils literal"><span class="pre">JS</span> <span class="pre">Callback</span></code> может вызываться синхронно.</p>
<blockquote>
<div><p>Для остановки выполнения нодового дерева достаточно передать <code class="docutils literal"><span class="pre">true</span></code> из callback-функции. Когда нода закончит работу, передайте <code class="docutils literal"><span class="pre">false</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Новые методы API <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_fog_params">get_fog_params</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_fog_params">set_fog_params</a>.</p>
<blockquote>
<div><p>Методы применяются для управления туманом в сцене. Параметры тумана включают такие свойства, как <cite>fog_intensity</cite>, <cite>fog_depth</cite>, <cite>fog_start</cite> и <cite>fog_height</cite>.</p>
</div></blockquote>
</li>
<li><p class="first">Новый метод API <a class="reference external" href="https://www.blend4web.com/api_doc/module-anchors.html#.update">update</a>.</p>
<blockquote>
<div><p>Метод позволяет обновлять позиции якорей.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена поддержка разных типов буферов VBO.</p>
<blockquote>
<div><p>Типы некоторых атрибутов изменены с <code class="docutils literal"><span class="pre">FLOAT</span></code> на <code class="docutils literal"><span class="pre">UNSIGNED</span> <span class="pre">BYTE</span></code> и <code class="docutils literal"><span class="pre">SHORT</span></code>, что снижает потребление памяти GPU, но не влияет на качество изображения. Это также влияет на производительность и может увеличить частоту кадров в некоторых сценах. Кроме того, размеры экспортируемых <code class="docutils literal"><span class="pre">.bin</span></code>-файлов несколько уменьшены за счёт того, что теперь цвета вертексов хранятся в переменных типа <code class="docutils literal"><span class="pre">UNSIGNED</span> <span class="pre">BYTE</span></code>, а не <code class="docutils literal"><span class="pre">SHORT</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь в режиме <code class="docutils literal"><span class="pre">ULTRA</span></code> используется правильная, а не упрощённая функция SRGB-конверсии.</p>
<blockquote>
<div><p>Эффекта наиболее заметен на тёмных участках изображения, где упрощённая функция даёт неточные цвета.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлены кнопки для включения и выключения опции <code class="docutils literal"><span class="pre">World</span> <span class="pre">Background</span></code> на панели 3D VIEW.</p>
<blockquote>
<div><p>Кнопки находятся на вкладке <code class="docutils literal"><span class="pre">World</span></code> и должны использоваться при включенной опции <code class="docutils literal"><span class="pre">Render</span> <span class="pre">Sky</span></code>. При активированной опции <code class="docutils literal"><span class="pre">World</span> <span class="pre">Background</span></code> цвета окружающей среды видны в окне просмотра так же, как в движке.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id21">
<h3>Изменения<a class="headerlink" href="#id21" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Реорганизация проектов в SDK.</p>
<blockquote>
<div><p>Теперь все проекты в SDK (в том числе обучающие) используют стандартную иерархию директорий Менеджера проектов.</p>
</div></blockquote>
</li>
<li><p class="first">Из Просмотрщика сцен удалён список сцен.</p>
<blockquote>
<div><p>Аналогичные возможности (просмотр сцен и данных проекта) теперь доступны в Менеджере проектов.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшена документация модуля API <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a>, добавлены примеры использования функций.</p>
</li>
<li><p class="first">В целях оптимизации рендеринга сцен уменьшено количество <a class="reference internal" href="meshes.html#batching"><span>батчей</span></a>.</p>
<blockquote>
<div><p>В наибольшей степени это влияет на тени и частицы типа Hair. Сцены, использующие эти возможности, теперь работают быстрее.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь клавиатура по умолчанию привязана к объекту document.</p>
</li>
<li><p class="first">Добавлен новый тип привязки движка <code class="docutils literal"><span class="pre">None</span></code>.</p>
<blockquote>
<div><p>При выборе этого варианта Менеджер проектов не будет изменять Ваши проекты при сборке.</p>
</div></blockquote>
</li>
<li><p class="first">Удалён тип привязки движка <code class="docutils literal"><span class="pre">Update</span></code>.</p>
<blockquote>
<div><p>Для достижения аналогичных результатов вместо него следует использовать тип <code class="docutils literal"><span class="pre">Copy</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлены облегчённые версии сборок SDK.</p>
<blockquote>
<div><p>Теперь доступны облегчённые версии пакетов Blend4Web PRO и Blend4Web CE, не включающие уроки и демонстрационные приложения. Пользователям с медленным интернет-каналом рекомендуется использовать эти версии.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена поддержка текстуры глубины для Intel HD Graphics 3000, что делает возможным использование на этих устройствах таких эффектов, как тени, глубина резкости, сумеречные лучи и др.</p>
</li>
<li><p class="first">Теперь NLA-анимации получают значения начального и конечного кадров из самой <em>вертексной</em> анимации.</p>
<blockquote>
<div><p>Это позволяет использовать для одного объекта несколько вертексных анимаций, контролируемых NLA.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлено принудительное использование нод материалов низкого качества на некоторых мобильных устройствах (в том числе на iOS).</p>
</li>
<li><p class="first">Добавлена документация API на <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#~BloomParams">BloomParams</a>. Некоторые параметры переименованы.</p>
</li>
<li><p class="first">Изменены выходные данные сенсоров mouse_click, mouse_move, touch_click и touch_move. Теперь они представляют собой словарь с абсолютными координатами (<code class="docutils literal"><span class="pre">coords</span></code>) для всех вышеперечисленных сенсоров, а также <code class="docutils literal"><span class="pre">which</span></code> для обработчиков щелчков мыши и <code class="docutils literal"><span class="pre">gesture</span></code> для touch_move.</p>
</li>
<li><p class="first">В модуль <code class="docutils literal"><span class="pre">controls</span></code> добавлены логические функции <code class="docutils literal"><span class="pre">default_AND_logic_fun</span></code> и <code class="docutils literal"><span class="pre">default_AND_logic_fun</span></code>.</p>
</li>
<li><p class="first">Удалены устаревшие скрипты для кросс-компиляции бинарных модулей.</p>
</li>
<li><p class="first">Методы API <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.set_nodemat_value">set_nodemat_value</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_nodemat_value">get_nodemat_value</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.set_nodemat_rgb">set_nodemat_rgb</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_nodemat_rgb">get_nodemat_rgb</a> объявлены устаревшими и перемещены в модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a>.</p>
</li>
</ul>
</div>
<div class="section" id="id22">
<h3>Исправления<a class="headerlink" href="#id22" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлена функция <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.quat_to_euler">quat_to_euler</a>.</p>
</li>
<li><p class="first">Исправлена некорректная работа ноды <code class="docutils literal"><span class="pre">Normal</span> <span class="pre">Map</span></code> с неединичным параметром силы.</p>
</li>
<li><p class="first">Исправлено несколько проверок объектов логическими нодами.</p>
</li>
<li><p class="first">Исправлена невозможность замены текстуры на объекте (функция <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a>), в случае, если эта текстура используется несколькими материалами.</p>
</li>
<li><p class="first">Теперь блики, рассчитываемые по модели <code class="docutils literal"><span class="pre">CookTorr</span></code>, выглядят так же, как в Blender.</p>
</li>
<li><p class="first">Теперь <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Sort</span></code>-материалы корректно отображаются на простых (не &#8220;глубоких&#8221;) копиях объектов.</p>
</li>
<li><p class="first">Исправлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-math.html#.create_pline_from_point_vec">create_pline_from_point_vec</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-math.html#.set_pline_initial_point">set_pline_initial_point</a>.</p>
</li>
<li><p class="first">Теперь персонажи, управляемые с помощью модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-npc_ai.html">npc_ai</a>, не проваливаются под землю при ходьбе.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к тому, что два и более якоря типа <code class="docutils literal"><span class="pre">Custom</span> <span class="pre">Element</span></code> могли ссылаться на один и тот же id элемента.</p>
</li>
<li><p class="first">Исправлены отражения сферических билбордов.</p>
</li>
<li><p class="first">Исправлено воспроизведение звука после паузы для спикеров типа <code class="docutils literal"><span class="pre">Background</span> <span class="pre">Sound</span></code> и <code class="docutils literal"><span class="pre">Positional</span> <span class="pre">Sound</span></code> в браузере Firefox.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-09">
<h2>v16.09<a class="headerlink" href="#v16-09" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id23">
<h3>Новый функционал<a class="headerlink" href="#id23" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшения в интерфейсе веб-плеера.</p>
<blockquote>
<div><p>Добавлена возможность настройки социальных кнопок, расположенных в правом нижнем углу загруженной сцены. Для этого перед запуском приложения необходимо настроить <a class="reference internal" href="web_player.html#webplayer-attributes"><span>атрубут</span></a> <code class="docutils literal"><span class="pre">socials</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения координатной системы.</p>
<blockquote>
<div><p>Теперь движок использует систему координат Blender вместо системы OpenGL. Это может вызывать несовместимости в логике приложений, поэтому мы рекомендуем разработчикам проверить свои приложения и внеси в них изменения в соответствии с новой координатной системой (ось Z направлена вверх).</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизация рендеринга геометрии</p>
<blockquote>
<div><p>Для оптимизации рендеринга геометрии используется новый метод хранения данных в памяти GPU. Теперь данные о нормалях и касательных хранятся в TBN-кватернионах.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в менеджере проектов.</p>
<blockquote>
<div><p>В утилиту <em>project.py</em> добавлена команда <code class="docutils literal"><span class="pre">update_modules</span></code>. С её помощью пользователь может обновить модули движка, используемые приложением. Эта возможность значительно упрощает процесс обновления файлов проекта до новых версий Blend4Web.</p>
</div></blockquote>
</li>
<li><p class="first">Автоматическое определение качества изображения.</p>
<blockquote>
<div><p>При установке профиля качества изображения AUTO (<a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html#.P_AUTO">P_AUTO</a>) в модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> приложение может быть запущено как с низкими, так и с высокими настройками качества, в зависимости от конфигурации системы. Кроме того, метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.test_performance">test_performance</a> позволяет запустить низкоуровневый тест производительности.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка компрессии текстур PVRTC.</p>
<blockquote>
<div><p>Добавлена поддержка алгоритма PVRTC, что позволяет использовать компрессию текстур на iOS и на Android-устройствах, основанных на PowerVR.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлены настройки качества теней.</p>
<blockquote>
<div><p>Появилась возможность установки разных профилей качества для мягких теней: 16x, 8x и 4x.</p>
</div></blockquote>
</li>
<li><p class="first">На вкладку <code class="docutils literal"><span class="pre">Render</span></code> добавлена панель <code class="docutils literal"><span class="pre">Shading</span></code>. Она содержит опцию <code class="docutils literal"><span class="pre">World</span> <span class="pre">Space</span> <span class="pre">Shading</span></code> и кнопку <code class="docutils literal"><span class="pre">Set</span> <span class="pre">Recommended</span> <span class="pre">Options</span></code> для автоматической настройки Blender на большую совместимость с Blend4Web.</p>
</li>
<li><p class="first">Добавлена поддержка Blender 2.78.</p>
<blockquote>
<div><p>Опция <code class="docutils literal"><span class="pre">World</span> <span class="pre">Space</span> <span class="pre">Shading</span></code> и поддержка освещения от окружающей среды в режиме GLSL делают вид сцены в окне просмотра предельно близкой к виду сцены в самом движке.</p>
<p>Теперь новая шейдерная нода <code class="docutils literal"><span class="pre">Normal</span> <span class="pre">Map</span></code> поддерживается полностью.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id24">
<h3>Изменения<a class="headerlink" href="#id24" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Переработана система присвоения шейдерных директив. Это упрощает отладку и уменьшает время загрузки движка.</p>
</li>
<li><p class="first">Рендеринг якорей на некоторых устройствах ускорен благодаря использованию свойства CSS &#8220;translate3d&#8221;</p>
</li>
<li><p class="first">Улучшена валидация шейдеров, что снижает количество ошибок второго рода. Также добавлены новые описания ошибок.</p>
</li>
<li><p class="first">Для увеличения производительности большая часть вычислений в шейдерах переведена с матриц на TSR.</p>
</li>
<li><p class="first">Изменён порядок панелей на вкладке <code class="docutils literal"><span class="pre">Render</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="id25">
<h3>Исправления<a class="headerlink" href="#id25" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлено зависание Samsung Internet Browser при наличии в сцене большого количества якорей.</p>
</li>
<li><p class="first">Исправлен не работавший атрибут Веб-плеера &#8220;alpha&#8221;.</p>
</li>
<li><p class="first">Исправлено сообщение об ошибке компиляции/линковки шейдеров.</p>
</li>
<li><p class="first">Исправлен поворот объекта с помощью логической ноды <code class="docutils literal"><span class="pre">Transform</span> <span class="pre">Object</span></code> при использовании переменной для задания угла поворота.</p>
</li>
<li><p class="first">Исправлено поведение логической ноды <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> в ситуации, когда одновременно присутствуют запечённый и незапечённый варианты анимации.</p>
</li>
<li><p class="first">Исправлены настройки качества для плоских отражений.</p>
</li>
<li><p class="first">Исправлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_translation_rel">get_translation_rel</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_rotation_rel">get_rotation_rel</a>.</p>
</li>
<li><p class="first">Исправлен параметр dof_distance метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_dof_params">set_dof_params</a>.</p>
</li>
<li><p class="first">Исправлен баг, приводивший к крэшу движка при выборе объекта с опциями <code class="docutils literal"><span class="pre">Do</span> <span class="pre">Not</span> <span class="pre">Render</span></code> и <code class="docutils literal"><span class="pre">Enable</span> <span class="pre">Outlining</span></code>, включёнными одновременно.</p>
</li>
<li><p class="first">Исправлена физика систем частиц.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-08">
<h2>v16.08<a class="headerlink" href="#v16-08" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id26">
<h3>Новый функционал<a class="headerlink" href="#id26" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Добавлена поддержка опции <code class="docutils literal"><span class="pre">Tangent</span> <span class="pre">Shading</span></code> для материалов.</p>
<blockquote>
<div><p>Эта опция может использоваться для имитации анизотропных поверхностей, например, полированного металла, волос и т.п.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена поддержка шейдерной ноды <code class="docutils literal"><span class="pre">Normal</span> <span class="pre">Map</span></code>.</p>
<blockquote>
<div><p>Эта нода может применяться для преобразования цветовой информации текстуры в карту нормалей. Поддерживаются входящие данные в тангенциальном, объектном или мировом координатном пространстве. Параметр <code class="docutils literal"><span class="pre">Strength</span></code> управляет степенью смешивания значений, извлечённых из текстуры, с нормалями самого объекта.</p>
<p>Для того, чтобы изображение в окне Blender выглядело так же, как в сцене Blend4Web, цветовое пространство текстуры должно иметь тип <code class="docutils literal"><span class="pre">Non-Color</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизация движка.</p>
<blockquote>
<div><p>Произведена оптимизация ядра движка и &#8220;сборщика мусора&#8221;. Добавлена поддержка расширения <code class="docutils literal"><span class="pre">OES_vertex_array_object</span></code> для соответствующего оборудования. Также, с целью уменьшения числа вызовов отрисовки, произведена оптимизация использования шейдеров и постоянных. Всё это должно уменьшить время загрузки сцен и отзывчивость рендеринга, особенно на системах с медленным CPU.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения интерфейса Просмотрщика сцен.</p>
<blockquote>
<div><p>Теперь панель <code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code> находится прямо под панелью <code class="docutils literal"><span class="pre">Scenes</span></code>.</p>
<p>На панель <code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code> добавлена кнопка <code class="docutils literal"><span class="pre">Min</span> <span class="pre">capabilities</span> <span class="pre">mode</span></code>. Этот параметр заставляет Просмотрщик сцен воспроизводить загруженную сцену так, как если бы она работала на системе с низкой производительностью (например, на iOS-устройстве). Это позволяет узнать, какие материалы в сцене могут работать не так, как задумано, на системе с низкой производительностью.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения редактора нормалей.</p>
<blockquote>
<div><p>Добавлен режим редактирования нормалей <code class="docutils literal"><span class="pre">Offset</span></code>.</p>
<p>Операция <code class="docutils literal"><span class="pre">Average</span></code> теперь может применяться к неразделённым нормалям.</p>
<p>Добавлена возможность ручного ввода угла поворота нормали, как при повороте обычного объекта.</p>
</div></blockquote>
</li>
<li><p class="first">Новый метод API в модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html">textures</a>.</p>
<blockquote>
<div><p>Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.get_texture_names">get_texture_names</a>. Он позволяет получить имена всех текстур объекта.</p>
</div></blockquote>
</li>
<li><p class="first">Новый метод API в модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html">lights</a>.</p>
<blockquote>
<div><p>Добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.get_light_color">get_light_color</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.set_light_color">set_light_color</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.get_light_energy">get_light_energy</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-lights.html#.set_light_energy">set_light_energy</a>. Они используются для работы с цветом и световой энергией источника света.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена поддержка свойства объектов <code class="docutils literal"><span class="pre">Hidden</span></code>.</p>
<blockquote>
<div><p>Включение этого свойства сделает объект невидимым при запуске сцены.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка шейдеров GLSL ES 3.0.</p>
<blockquote>
<div><p>Теперь движок автоматически выбирает, какую версию шейдерного языка OpenGL использовать для компиляции шейдеров. Выбор зависит от контекста WebGL: для WebGL 1 используется GLSL ES 1.0, для WebGL 2 - GLSL ES 3.0. Шейдерная система движка и препроцессор также были изменены для совместимости с обоими вариантами.</p>
<p>Это снимает ограничения на добавление в движок новых возможностей WebGL 2 без проблем с совместимостью.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения Анализатора Шейдеров.</p>
<blockquote>
<div><p>Теперь анализатор шейдеров (метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.analyze_shaders">analyze_shaders</a>) выводит низкоуровневый ассемблерный код, что полезно для оценки и оптимизации шейдеров.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id27">
<h3>Изменения<a class="headerlink" href="#id27" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшения алгоритма расчёта боке для эффекта глубины резкости.</p>
<blockquote>
<div><p>Уменьшена интенсивность эффекта <cite>pixel bleeding</cite>, приводившего к тому, что находящиеся в фокусе объекты на переднем плане &#8220;вытекали&#8221; на размытый фон.</p>
<p>Добавлен параметр <code class="docutils literal"><span class="pre">Foreground</span> <span class="pre">Blur</span></code>. Его включение делает менее заметными чёткие силуэты объектов вне фокуса на фоне объектов в фокусе.</p>
<p>Расстояния, на которых эффекта размытия начинает проявляться и достигает максимальной интенсивности, теперь можно контролировать с помощью параметров <code class="docutils literal"><span class="pre">Front</span> <span class="pre">Start</span></code> и <code class="docutils literal"><span class="pre">Front</span> <span class="pre">End</span></code> (для передней плоскости) и <code class="docutils literal"><span class="pre">Rear</span> <span class="pre">Start</span></code> и <code class="docutils literal"><span class="pre">Rear</span> <span class="pre">End</span></code> (для задней плоскости).</p>
</div></blockquote>
</li>
<li><p class="first">Рендеринг отражения окружающей среды теперь включен по умолчанию.</p>
</li>
<li><p class="first">Улучшения алгоритма валидации шейдеров.</p>
<blockquote>
<div><p>Если материал не может быть отрендерен на низкопроизводительных системах, он заменяется специальным материалом розового цвета при отладке и удаляется из финального продукта.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id28">
<h3>Исправления<a class="headerlink" href="#id28" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлена инверсия длинны для групп вершин.</p>
<blockquote>
<div><p>Исправлена инверсия оператора систем частиц типа <em>HAIR</em> для вершинных групп, задающих длину.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлен поворот нормалей для преобразованных объектов в <cite>Редакторе нормалей</cite></p>
</li>
<li><p class="first">Исправлен редкий крэш движка при загрузке сцены, использующей нодовую логику.</p>
</li>
<li><p class="first">Исправлена панель материалов в Просмотрщике сцен. Ранее она не работала для некоторых материалов, подлежащих редактированию.</p>
</li>
<li><p class="first">Исправлен крэш движка на мобильных устройствах.</p>
</li>
<li><p class="first">Исправлено мерцание экрана в мобильных браузерах.</p>
</li>
<li><p class="first">Исправлен крэш при загрузке динамической воды.</p>
</li>
<li><p class="first">Исправлено влияние карт нормалей на отражения для стековых материалов.</p>
</li>
<li><p class="first">Отключена серая подсветка при нажатии в Web Player на iPad.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-07">
<h2>v16.07<a class="headerlink" href="#v16-07" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id29">
<h3>Новый функционал<a class="headerlink" href="#id29" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Оптимизация рендеринга систем частиц.</p>
<blockquote>
<div><p>Теперь для рендеринга частиц типа <code class="docutils literal"><span class="pre">Object</span></code> используются возможности инстансинга WebGL (расширение ANGLE_instanced_arrays или WebGL 2.0). Использование инстансинга снижает потребление памяти и, в некоторых случаях, увеличивает скорость рендеринга.</p>
</div></blockquote>
</li>
<li><p class="first">Снижение задержки ввода на мобильных устройствах.</p>
<blockquote>
<div><p>Теперь на мобильных версиях Chrome, Firefox и Safari движок игнорирует события мыши, соответствующие событиям, которые уже были обработаны внутренними сенсорами Blend4Web. Это уменьшает время реакции на действия пользователя.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения аудиосистемы.</p>
<blockquote>
<div><p>Автоматическое создание аудиоконтекста. Флажок <code class="docutils literal"><span class="pre">Audio</span></code> удалён из аддона, при необходимости аудиоконтекст создаётся автоматически.</p>
<p>Реализация эффекта Допплера. Эффект Допплера отсутствует в современных версиях WebAudio, так как теперь предполагается, что разработчики приложений должны реализовывать этот эффект самостоятельно. Начиная с данного релиза, вы можете использовать реализацию, встроенную в движок. Для этого добавлена опция <code class="docutils literal"><span class="pre">Enable</span> <span class="pre">Doppler</span></code>, которая заменяет старую <code class="docutils literal"><span class="pre">Disable</span> <span class="pre">Doppler</span></code>.</p>
<p>Переработан аудиоинтерфейс. Поддержка таких параметров, как <code class="docutils literal"><span class="pre">Speed</span></code>, <code class="docutils literal"><span class="pre">Doppler</span></code> и <code class="docutils literal"><span class="pre">Distance</span> <span class="pre">Model</span></code> максимально приближает его к собственному интерфейсу Blender.</p>
<p>Новая опция спикера <code class="docutils literal"><span class="pre">Auto-play</span></code>. Позволяет включить воспроизведение аудио по умолчанию.</p>
<p>Предварительная поддержка сложных аудиопетель. Новые опции <code class="docutils literal"><span class="pre">Loop</span> <span class="pre">Start</span></code> и <code class="docutils literal"><span class="pre">Loop</span> <span class="pre">End</span></code>, а также метод API <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.loop_stop">loop_stop</a>, позволяют сложные петли, включающие начальную, закольцованную и конечную секции в одном аудиобуфере. С помощью нового API можно создавать, например, стандартную огибающую ADSR (Attack, Decay, Sustain, Release).</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка полисенсорного выбора в сенсоре выбора.</p>
<blockquote>
<div><p>Теперь сенсор выбора <a class="reference external" href="https://www.blend4web.com/doc/en/developers.html?highlight=sensor#event-driven-model">событийной модели</a> поддерживает мультитач-выбор.</p>
</div></blockquote>
</li>
<li><p class="first">Новые возможности анимации нодовых материалов.</p>
<blockquote>
<div><p>Теперь любая нодовая анимация может применяться к любому нодовому материалу или его вложенной нодовой группе. Кроме того, появился новый метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-animation.html#.apply_ext">apply_ext()</a>, позволяющий задать материал или нодовую группу, которую требуется анимировать.</p>
</div></blockquote>
</li>
<li><p class="first">В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> добавлен новый метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_preloader">create_preloader</a>.</p>
</li>
<li><p class="first">В модуль API <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html">config</a> добавлены конфигурационные параметры <code class="docutils literal"><span class="pre">max_fps</span></code>, <code class="docutils literal"><span class="pre">max_fps_physics</span></code>, <code class="docutils literal"><span class="pre">use_min50</span></code>, <code class="docutils literal"><span class="pre">anisotropic_filtering</span></code>, <code class="docutils literal"><span class="pre">shadows</span></code>, <code class="docutils literal"><span class="pre">reflections</span></code>, <code class="docutils literal"><span class="pre">refractions</span></code>, <code class="docutils literal"><span class="pre">ssao</span></code>, <code class="docutils literal"><span class="pre">dof</span></code>, <code class="docutils literal"><span class="pre">god_rays</span></code>, <code class="docutils literal"><span class="pre">bloom</span></code> и <code class="docutils literal"><span class="pre">motion_blur</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="id30">
<h3>Изменения<a class="headerlink" href="#id30" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Оптимизация выделения объектов.</p>
<blockquote>
<div><p>Теперь для выделения объектов использует очень узкий усечённый конус и малый размер фреймбуфера (<code class="docutils literal"><span class="pre">1</span> <span class="pre">х</span> <span class="pre">1</span></code> пиксель). Кроме того, снижено количество вызовов метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.pick_object">pick_object</a>. Всё это увеличивает производительность сенсора выбора.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения эффекта глубины резкости (Depth-of-field, DOF).</p>
<blockquote>
<div><p>Увеличена производительность эффекта глубины резкости.</p>
<p>Добавлен экспериментальный алгоритм расчёта DOF. Теперь степень размытия изменяется в зависимости от расстояния, а на размытых объектах появляется эффект боке. Новый алгоритм включается с помощью опции <code class="docutils literal"><span class="pre">Bokeh</span></code> на панели свойств камеры в Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения API</p>
<blockquote>
<div><p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_simple_preloader">create_simple_preloader</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> объявлен устаревшим и будет удалён в будущих релизах.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id31">
<h3>Исправления<a class="headerlink" href="#id31" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">В Просмотрщике сцен исправлен не работавший слайдер Canvas Resolution Factor.</p>
</li>
<li><p class="first">Исправлены методы <code class="docutils literal"><span class="pre">get_matrix</span></code>, <code class="docutils literal"><span class="pre">set_matrix</span></code>, <code class="docutils literal"><span class="pre">get_matrix_rel</span></code> и <code class="docutils literal"><span class="pre">set_matrix_rel</span></code> модуля <code class="docutils literal"><span class="pre">transform</span></code>.</p>
</li>
<li><p class="first">Исправлено определение метода <code class="docutils literal"><span class="pre">resize_to_container</span></code> модуля <code class="docutils literal"><span class="pre">container</span></code>.</p>
</li>
<li><p class="first">Исправлено снижение производительности при изменении размеров canvas&#8217;а.</p>
</li>
<li><p class="first">Исправлена ошибка, приводившая к тому, что в сцене отсутствовали камеры из других сцен или дупли-групп.</p>
</li>
<li><p class="first">Исправлена некорректная прозрачность canvas&#8217;а при использовании эффекта засветки.</p>
</li>
<li><p class="first">Исправлена кнопка <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">All</span></code> на вкладке <code class="docutils literal"><span class="pre">Animation</span></code> Просмотрщика сцен.</p>
</li>
<li><p class="first">Исправлено выделение объектов для стековых материалов.</p>
</li>
<li><p class="first">Исправлен эффект свечения в браузере Safari.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-06">
<h2>v16.06<a class="headerlink" href="#v16-06" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id32">
<h3>Новый функционал<a class="headerlink" href="#id32" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшения Fast Preview.</p>
<blockquote>
<div><p>При необходимости сервер разработки копирует все внешние ресурсы во временную папку. Это делает возможным предварительный просмотр сцен, расположенных вне SDK (в других папках, на flash-накопителях и пр.)</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в менеджере проектов.</p>
<blockquote>
<div><p>Поддержка библиотеки материалов. Новая опция позволяет скопировать исходные файлы библиотеки материалов в директорию проекта.</p>
<p>В утилиту <em>project.py</em> добавлена новая опция <code class="docutils literal"><span class="pre">--ignore</span></code>. Эта опция даёт пользователю возможность игнорировать файлы при компиляции или развёртывании проекта.</p>
<p>В утилиту <em>project.py</em> добавлена новая команда <code class="docutils literal"><span class="pre">check_modules</span></code>. Эта команда позволяет проверить отсутствующие или неиспользуемые модули.</p>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="vr_and_ar.html#stereo"><span>Экспериментальная поддержка системы виртуальной реальности GearVR.</span></a></p>
<blockquote>
<div><p>Теперь движок поддерживает API WebVR 1.0, что делает возможным использование устройств с GearVR.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка текстур в форматах GIF  и BMP.</p>
<blockquote>
<div><p>Теперь изображения в форматах BMP и GIF (без анимации) могут использоваться в качестве текстур.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в утилите для конвертации ресурсов.</p>
<blockquote>
<div><p>Теперь поддерживается большое количество расширений медиафайлов. Более подробная информация доступна в <a class="reference internal" href="developers.html#converter-data-format"><span>документации</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Автоматическое определение пути экспорта в аддоне Blender.</p>
<blockquote>
<div><p>При первом экспорте проекта, созданного с помощью менеджера проектов, путь к каталогу медиаданных будет установлен автоматически.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка параллельных анимаций в Редакторе логики</p>
<blockquote>
<div><p>Теперь Редактор логики поддерживает использование нескольких параллельных анимаций. Ранее к объекту могла применяться только одна анимация. Теперь для одного объекта поддерживается по одной анимации каждого типа. Максимальное количество анимаций объекта, таким образом, достигает 8.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения отладочных возможностей Просмотрщика сцен.</p>
<blockquote>
<div><p>Добавлен специальный режим для отладки времени рендеринга объектов в Просмотрщике.</p>
</div></blockquote>
</li>
<li><p class="first">Опция <code class="docutils literal"><span class="pre">Lens</span> <span class="pre">Flare</span></code> для материалов.</p>
<blockquote>
<div><p>Новое свойство находится на вкладке опций рендеринга материала. Следует заметить, что эта возможность работает только при наличии в сцене источника света типа <code class="docutils literal"><span class="pre">Sun</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Параметры источников света Clip Start и Clip End</p>
<blockquote>
<div><p>Параметры Clip Start и Clip End поддерживаются для настроек теней источников света типа <code class="docutils literal"><span class="pre">Point</span></code> и <code class="docutils literal"><span class="pre">Spot</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">HTML-элементы в Веб-плеере.</p>
<blockquote>
<div><p>Новые мета-элементы добавлены к HTML-шаблонам Веб-плеера для совместимости с различными социальными сетями.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id33">
<h3>Изменения<a class="headerlink" href="#id33" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Ноды материалов теперь работают в мировом пространстве координат вьюпорта Blender.</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">Geometry</span></code></p>
<blockquote>
<div><p>Выход <code class="docutils literal"><span class="pre">Normal</span></code> выдаёт данные в мировом пространстве координат Blender.</p>
<p>Выход <code class="docutils literal"><span class="pre">View</span></code> выдаёт данные в пространстве координат камеры Blender.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Texture</span></code></p>
<blockquote>
<div><p>Вход <code class="docutils literal"><span class="pre">Vector</span></code>, используемый для текстур окружающей среды, принимает данные в мировом пространстве координат Blender.</p>
<p>Выход <code class="docutils literal"><span class="pre">Normal</span></code> выдаёт данные в мировом пространстве координат Blender.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Material</span></code></p>
<blockquote>
<div><p>Вход <code class="docutils literal"><span class="pre">Normal</span></code> принимает данные в мировом пространстве координат Blender.</p>
<p>Выход <code class="docutils literal"><span class="pre">Normal</span></code> выдаёт данные в мировом пространстве координат Blender.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Lamp</span> <span class="pre">Data</span></code></p>
<blockquote>
<div><p>Выход <code class="docutils literal"><span class="pre">Light</span> <span class="pre">Vector</span></code> выдаёт информацию в мировом пространстве координат Blender.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">B4W</span> <span class="pre">Vector</span> <span class="pre">View</span></code></p>
<blockquote>
<div><p>Нода принимает данные в мировом пространстве координат Blender.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">B4W</span> <span class="pre">Reflect</span></code></p>
<blockquote>
<div><p>Первый вход ноды (используется для вектора взгляда) принимает информацию в пространстве координат камеры Blender.</p>
<p>Второй вход ноды (применяется для нормалей) также принимает информацию в мировом пространстве координат.</p>
<p>Выход ноды выдаёт данные в мировом пространстве координат Blender.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Якоря и выбор цвета отключены в стереорежиме.</p>
</li>
<li><p class="first">Сенсор клавиатуры больше не активируется при использовании горячих клавиш браузера.</p>
</li>
<li><p class="first">Изменения API</p>
<blockquote>
<div><p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.resize_to_container">resize_to_container</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> объявлен устаревшим и будет удалён в последующих релизах. Вместо него следует использовать метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.resize_to_container">resize_to_container()</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html">container</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Параметр <code class="docutils literal"><span class="pre">Key</span></code> эффекта засветки переименован в <code class="docutils literal"><span class="pre">Intensity</span></code>.</p>
</li>
<li><p class="first">Устаревший функционал.</p>
<blockquote>
<div><p>Были удалены следующие методы: <code class="docutils literal"><span class="pre">textures.get_canvas_texture_context()</span></code>, <code class="docutils literal"><span class="pre">textures.update_canvas_texture_context()</span></code>.</p>
<p>Были удалены следующие логические ноды: <code class="docutils literal"><span class="pre">Select</span></code>, <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Timeline</span></code>, <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Animation</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь сообщения об ошибках экспорта и предупреждения включают ссылки на документацию.</p>
</li>
<li><p class="first">Отчёт о некорректной директории аддона.</p>
<blockquote>
<div><p>Теперь некорректное имя директории аддона приводит к появлению соответствующего предупреждения.</p>
</div></blockquote>
</li>
<li><p class="first">Обработка ситуации применения воды без ветра.</p>
<blockquote>
<div><p>Если шейдер воды используется без ветра, появляется предупреждение.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлены консольные сообщения об ошибках при использовании неподдерживаемых форматов изображений, видео- и аудиофайлов.</p>
</li>
</ul>
</div>
<div class="section" id="id34">
<h3>Исправления<a class="headerlink" href="#id34" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлено падение производительности в стереорежиме.</p>
</li>
<li><p class="first">Исправлена обфускация <code class="docutils literal"><span class="pre">window.screen.orientation.angle</span></code>.</p>
</li>
<li><p class="first">Исправлена ошибка рендеринга в браузерах Firefox с включённым контекстом WebGL 2.0.</p>
</li>
<li><p class="first">Исправлен рендеринг изображения для правого глаза в стереорежиме.</p>
</li>
<li><p class="first">Исправлен рендеринг светящихся материалов с включённой опцией <code class="docutils literal"><span class="pre">Terrain</span> <span class="pre">Dynamic</span> <span class="pre">Grass</span></code>.</p>
</li>
<li><p class="first">Теперь параметр угловой скорости частиц становится недоступным (поскольку избыточен), если деактивирована опция <code class="docutils literal"><span class="pre">Rotation</span></code>.</p>
</li>
<li><p class="first">Исправлен рендеринг частиц со стандартными (не нодовыми) материалами с типом прозрачности, отличным от <code class="docutils literal"><span class="pre">Opaque</span></code></p>
</li>
<li><p class="first">Исправлен ряд причин утечки памяти на GPU.</p>
</li>
<li><p class="first">Исправлен крэш движка, возникавший при использовании некорректного значения id в логической ноде <code class="docutils literal"><span class="pre">JS</span> <span class="pre">Callback</span></code>.</p>
</li>
<li><p class="first">Исправлен крэш движка, происходивший в редких случаях при наличии в нодовом материале нескольких нод <code class="docutils literal"><span class="pre">Texture</span></code> с одной и той же текстурой.</p>
</li>
<li><p class="first">Исправлена ошибка, из-за которой вход <code class="docutils literal"><span class="pre">Diffuse</span> <span class="pre">Intensity</span></code> нод <code class="docutils literal"><span class="pre">Material</span></code> и <code class="docutils literal"><span class="pre">Extended</span> <span class="pre">Material</span></code> игнорировал входящее значение.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-05">
<h2>v16.05<a class="headerlink" href="#v16-05" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id35">
<h3>Новый функционал<a class="headerlink" href="#id35" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Экспериментальный конфигуратор HMD.</p>
<blockquote>
<div><p>Был добавлен аддон <code class="docutils literal"><span class="pre">hmd_conf.js</span></code>. Он даёт пользователям возможность вручную устанавливать параметры HMD. На данный момент конфигуратор доступен в Просмотрщике сцен и может быть вызван нажатием кнопки, расположенной на панели <em>Stereo View</em>. За более подробной информацией обратитесь к документации разработчика по модулю API <a class="reference external" href="https://www.blend4web.com/api_doc/module-hmd_conf.html">hmd_conf</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Экспериментальный конфигуратор геймпадов и контроллеров</p>
<blockquote>
<div><p>В API был добавлен аддон <a class="reference external" href="https://www.blend4web.com/api_doc/module-gp_conf.html">gp_conf</a>. Он содержит две главные функции: <a class="reference external" href="https://www.blend4web.com/api_doc/module-gp_conf.html#.show">show</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-gp_conf.html#.hide">hide</a>. На данный момент он поддерживает контроллеры и рули.</p>
<p>Чтобы протестировать этот конфигуратор, активируйте опцию <em>Gamepad Settings</em> на панели <em>Input Devices</em> Просмотрщика сцен.</p>
</div></blockquote>
</li>
<li><p class="first">Новые примеры кода.</p>
<blockquote>
<div><p>Добавлены новые примеры кода. Их названия - Gamepad, Webcam и Change Image. Первое из них поможет вам добавить поддержку геймпадов в ваш проект, второе демонстрирует возможности API камеры, а третье - применение новых функций для работы с текстурами.</p>
</div></blockquote>
</li>
<li><p class="first">Новая шейдерная нода <code class="docutils literal"><span class="pre">Vector</span> <span class="pre">Transform</span></code>.</p>
<blockquote>
<div><p>Эта нода может применяться для преобразования входных данных между координатными пространствами объекта, мира или камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Новая логическая нода <code class="docutils literal"><span class="pre">Empty</span></code></p>
<blockquote>
<div><p>Эта нода может применяться для упрощения перенаправлений в сложных логических деревьях.</p>
</div></blockquote>
</li>
<li><p class="first">Программная замена текстурных изображений.</p>
<blockquote>
<div><p>Добавлен новый метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.change_image">change_image</a>. С его помощью можно заменять текстуры и кубические карты средствами API.</p>
</div></blockquote>
</li>
<li><p class="first">Новый кластерный алгоритм батчинга.</p>
<blockquote>
<div><p>Теперь батчинг (процесс объединения похожих объектов для повышения производительности) основан на новом кластерном алгоритме, который применяется при экспорте. Это оптимизирует весь процесс батчинга и делает его более &#8220;интеллектуальным&#8221; по сравнению со старым алгоритмом, основанным на регулярной сетке.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в менеджере проектов.</p>
<blockquote>
<div><p>Теперь для сохранения однородности в именах всех опций командной строки в утилите <em>project.py</em> используется символ <code class="docutils literal"><span class="pre">-</span></code> вместо символа подчеркивания, например, опция <code class="docutils literal"><span class="pre">--engine_type</span></code> теперь выглядит как <code class="docutils literal"><span class="pre">--engine-type</span></code>.</p>
<p>В утилиту <em>project.py</em> добавлена новая опция <code class="docutils literal"><span class="pre">--assets-dest</span></code>. Эта опция даёт пользователю возможность задать директорию, в которой будут храниться медиаданные развертываемого проекта.</p>
</div></blockquote>
</li>
<li><p class="first">Новые материалы в Библиотеке Материалов.</p>
<blockquote>
<div><p>В Библиотеку Материалов для PRO-версии SDK добавлено четыре новых материала: Золото, Рифленое Стекло, Шелк и Бархат.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id36">
<h3>Изменения<a class="headerlink" href="#id36" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшения интерфейса и повышение удобства экспорта объектов, для которых не выбрана ни одна из опций списка <code class="docutils literal"><span class="pre">Export</span> <span class="pre">Options</span></code>.</p>
<blockquote>
<div><p>Опция <code class="docutils literal"><span class="pre">Export</span> <span class="pre">Shape</span> <span class="pre">Keys</span></code> выбирается автоматически при добавлении ключа формы.</p>
<p>Опция <code class="docutils literal"><span class="pre">Export</span> <span class="pre">Vertex</span> <span class="pre">Animation</span></code> выбирается автоматически после запекания вершинной анимации.</p>
<p>Опция <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Scale</span> <span class="pre">and</span> <span class="pre">Modifiers</span></code> автоматически применяется во время экспорта ко всем объектам, которые соответствуют следующим условиям:</p>
<blockquote>
<div><p>Не имеют вершинной анимации.</p>
<p>Не имеют родительского объекта</p>
<p>Не имеют скелета.</p>
<p>Физика объекта отключена.</p>
</div></blockquote>
<p>Опция <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Modifiers</span></code> автоматически применяется во время экспорта ко всем объектам, к которым применяются модификаторы и которые соответствуют следующим условиям:</p>
<blockquote>
<div><p>Не имеют вершинной анимации.</p>
<p>Не имеют скелета.</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p class="first">Теперь Z-сортировка для материалов с типом прозрачности <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Sort</span></code> выполняется с учётом размеров объектов.</p>
<blockquote>
<div><p>Это может привести к снижению производительности из-за более частых обновлений сортировки, но исправляет ошибки сортировки для объектов маленьких размеров.</p>
</div></blockquote>
</li>
<li><p class="first">Новый алгоритм отсечения по зоне видимости.</p>
<blockquote>
<div><p>Теперь зона видимости рассчитывается с использованием материалов мешей, а не объектов.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения сенсоров геймпада.</p>
<blockquote>
<div><p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> добавлены новые идентификаторы кнопок и осей. Кроме того, имена сенсоров геймпада изменены на <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_btn_sensor">create_gamepad_btn_sensor</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_axis_sensor">create_gamepad_axis_sensor</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь логическая нода <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> с параметром <code class="docutils literal"><span class="pre">Run</span> <span class="pre">From</span> <span class="pre">Script</span></code> может вызываться через API многократно.</p>
</li>
<li><p class="first">Изменения API</p>
<blockquote>
<div><p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_rotation_preloader">create_rotation_preloader</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> объявлен устаревшим и будет удалён в последующих релизах.</p>
<p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html#.create_advanced_preloader">create_advanced_preloader</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-preloader.html">preloader</a> объявлен устаревшим и будет удалён в последующих релизах.</p>
<p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.set_config">set_config</a>.</p>
<p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.register_device">register_device</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a> объявлен устаревшим и будет удалён в последующих релизах.</p>
<p>Удалён флаг <cite>gyro_use</cite> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-config.html">config</a> (больше не требуется).</p>
<p>Теперь функции модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-storage.html">storage</a> имеют опциональный последний параметр.</p>
<p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html">util</a> добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.is_ie11">is_ie11</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь состояние клавиатурной клавиши хранится в полезной нагрузке сенсора клавиатуры.</p>
<blockquote>
<div><p>За более подробной информацией обратитесь к разделу документации разработчика, посвящённому методу <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_keyboard_sensor">create_keyboard_sensor</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Ссылка на отладочную страницу в сообщении Веб-плеера &#8220;Browser could not initialize WebGL&#8221; заменена на более подходящую.</p>
<blockquote>
<div><p>Теперь она ведёт на раздел документации &#8220;Проблемы и решения&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first">Документация значительно доработана, добавлены подробные описания возможностей якорей и Viewport Alignment.</p>
</li>
</ul>
</div>
<div class="section" id="id37">
<h3>Исправления<a class="headerlink" href="#id37" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлена проблема с некорректными автоматическими обновлениями в аддоне.</p>
</li>
<li><p class="first">Исправлено поведение якорей с логическими нодами.</p>
</li>
<li><p class="first">Исправлена обфускация логической ноды <code class="docutils literal"><span class="pre">JS</span> <span class="pre">Callback</span></code>.</p>
</li>
<li><p class="first">Исправлена проблема с некорректным удалением сенсоров в методе <code class="docutils literal"><span class="pre">controls.remove_sensor_manifolds</span></code>.</p>
</li>
<li><p class="first">Исправлена проблема с некорректным возрастом и степенью сжатия zip-файлов дистрибутива.</p>
</li>
<li><p class="first">Исправлен мультисэмплинг в браузерах Firefox.</p>
<blockquote>
<div><p>Частично поддерживаемый в реализации WebGL 2.0 для браузеров Firefox мультисэмплинг отключён.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлена ошибка, приводившая к тому, что разрешение canvas&#8217;а не менялось в зависимости от настроек качества антиалиасинга.</p>
</li>
<li><p class="first">Исправлена ошибка, приводившая к тому, что интенсивность диффузного цвета применялась к материалу с типом затенения Shadeless.</p>
</li>
<li><p class="first">Исправлен крэш движка при использовании нод <code class="docutils literal"><span class="pre">B4W_GLOW_OUTPUT</span></code> и <code class="docutils literal"><span class="pre">B4W_REFRACTION</span></code> в одном и том же материале.</p>
</li>
<li><p class="first">Исправлено дублирование панели <code class="docutils literal"><span class="pre">Custom</span> <span class="pre">Properties</span></code> в интерфейсе Blender для объектов типа <code class="docutils literal"><span class="pre">Font</span></code>, <code class="docutils literal"><span class="pre">Curve</span></code>, <code class="docutils literal"><span class="pre">Lattice</span></code>, <code class="docutils literal"><span class="pre">Armature</span></code> и <code class="docutils literal"><span class="pre">MetaBall</span></code>.</p>
</li>
<li><p class="first">Исправлено несколько ошибок в скомпилированной версии движка.</p>
</li>
<li><p class="first">Исправлены ошибки в модулях <code class="docutils literal"><span class="pre">input</span></code> и <code class="docutils literal"><span class="pre">controls</span></code>.</p>
</li>
<li><p class="first">Исправлен некорректный батчинг нодовых материалов при использовании ноды <code class="docutils literal"><span class="pre">ColorRamp</span></code>.</p>
</li>
<li><p class="first">Исправлена некорректная остановка HTTP-сервера.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-04">
<h2>v16.04<a class="headerlink" href="#v16-04" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id38">
<h3>Новый функционал<a class="headerlink" href="#id38" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Поддержка геймпадов и контроллеров</p>
<p>Появилась возможность использовать геймпады и контроллеры в качестве устройств ввода. Для работы с этими устройствами были добавлены новые функции. Первая из них - <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_btns_sensor">create_gamepad_btns_sensor</a>. Она обрабатывает нажатия на кнопки геймпада. Вторая функция - <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gamepad_axes_sensor">create_gamepad_axes_sensor</a>, она обрабатывает оси геймпада.</p>
</li>
<li><p class="first">Улучшения нодового редактора логики.</p>
<blockquote>
<div><p>Была добавлена логическая нода <cite>JS Callback</cite>. Она может применяться для вызова callback-функций, заданных в вашем B4W-приложении. Для callback-функций поддерживаются входные и выходные параметры.</p>
<p>В ноду <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> была добавлена опция <code class="docutils literal"><span class="pre">Run</span> <span class="pre">From</span> <span class="pre">Script</span></code>.</p>
<p>В API был добавлен модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html">logic_nodes</a>. Он содержит методы для работы с нодовым редактором логики.</p>
<p>Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html#.append_custom_callback">append_custom_callback</a>. Он применяется для регистрации JavaScript-функций с тем, чтобы их можно было использовать в логической ноде <cite>JS Callback</cite>.</p>
<p>Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html#.remove_custom_callback">remove_custom_callback</a>. Он применяется для удаления зарегистрированных callback-функций.</p>
<p>Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-logic_nodes.html#.run_entrypoint">run_entrypoint</a>. Он позволяет активировать ноду <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code> из API.</p>
</div></blockquote>
</li>
<li><p class="first">В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> была добавлена новая функция <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_hmd_position_sensor">create_hmd_position_sensor</a>.</p>
<blockquote>
<div><p>Эта функция позволяет создать особый сенсор для отслеживания позиции HMD-устройств.</p>
</div></blockquote>
</li>
<li><p class="first">Теперь для систем частиц типа <code class="docutils literal"><span class="pre">Emitter</span></code> поддерживаются опции <code class="docutils literal"><span class="pre">Tilt</span> <span class="pre">Angle</span></code> и <code class="docutils literal"><span class="pre">Tilt</span> <span class="pre">Random</span></code>.</p>
</li>
<li><p class="first">Отражения для прозрачных объектов.</p>
<blockquote>
<div><p>Ранее только непрозрачные объекты могли иметь отражения. Начиная с этого релиза, полупрозрачные объекты также поддерживаются.</p>
</div></blockquote>
</li>
<li><p class="first">Обновления математических модулей.</p>
<blockquote>
<div><p>Математические модули <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec3.html">vec3</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec4.html">vec4</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-quat.html">quat</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat3.html">mat3</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat4.html">mat4</a> теперь основаны на glMatrix v2.3.1. Новая версия добавляет следующие методы: <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec3.html#.hermite">hermite</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-vec3.html#.bezier">bezier</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-quat.html#.sqlerp">sqlerp</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat4.html#.fromRotationTranslationScale">fromRotationTranslationScale</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-mat4.html#.fromRotationTranslationScaleOrigin">fromRotationTranslationScaleOrigin</a></p>
</div></blockquote>
</li>
<li><p class="first">В инструмент запекания скелетной анимации был добавлен флаг <code class="docutils literal"><span class="pre">Bake</span> <span class="pre">only</span> <span class="pre">deform</span> <span class="pre">bones</span></code>.</p>
<blockquote>
<div><p>Эта возможность полезна в случае, когда некоторые объекты являются потомками недеформированных &#8220;костей&#8221;. До этого запечь &#8220;кости&#8221; без выставленного флага <code class="docutils literal"><span class="pre">deform</span></code> было невозможно.</p>
</div></blockquote>
</li>
<li><p class="first">Новый переключатель <code class="docutils literal"><span class="pre">GL</span> <span class="pre">Debug</span></code> в Просмотрщике.</p>
<blockquote>
<div><p>В Просмотрщике сцен появился переключатель <code class="docutils literal"><span class="pre">GL</span> <span class="pre">Debug</span></code>, который может использоваться для отключения проверок GL-ошибок. Это увеличивает производительность и может быть полезно при профайлинге сцены.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка WebGL 2.0 в браузере Firefox.</p>
<blockquote>
<div><p>Появилась возможность использовать экспериментальный контекст WebGL 2.0 в браузере Firefox.</p>
</div></blockquote>
</li>
<li><p class="first">Новая опция настроек движка: <code class="docutils literal"><span class="pre">prevent_caching</span></code></p>
<blockquote>
<div><p>Включает и выключает кэширование медиаданных.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена новая физическая функция.</p>
<blockquote>
<div><p>Функция <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.apply_force_world">apply_force_world</a> применяет к объекту постоянную силу в мировом пространстве координат.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id39">
<h3>Изменения<a class="headerlink" href="#id39" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Теперь опция Просмотрщика <code class="docutils literal"><span class="pre">HUD</span> <span class="pre">Info</span></code> выводит подробную информацию в каждом столбце.</p>
</li>
<li><p class="first">Изменения редактора логики.</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">В ноде <code class="docutils literal"><span class="pre">Conditional</span> <span class="pre">Jump</span></code> добавлена возможность выбора типа переменной между <code class="docutils literal"><span class="pre">Number</span></code> и <code class="docutils literal"><span class="pre">String</span></code>.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Теперь активация VR-режима автоматически меняет тип камеры на <code class="docutils literal"><span class="pre">EYE</span></code> для лучшего восприятия сцены пользователем.</p>
</li>
</ul>
</div>
<div class="section" id="id40">
<h3>Исправления<a class="headerlink" href="#id40" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлено поведение якорей.</p>
</li>
<li><p class="first">Исправлена ошибка в работе кубических карт на некоторых старых GPU производства NVIDIA в браузере Firefox.</p>
</li>
<li><p class="first">Исправлен баг системы частиц с назначенной вершинной группой &#8220;Length&#8221; в случае, когда для объекта-эмиттера активирована опция &#8220;Apply Modifers&#8221;.</p>
</li>
<li><p class="first">Исправлено поведение ноды B4W_GLOW_OUTPUT для прозрачных материалов.</p>
</li>
<li><p class="first">Исправлена карта травы для единственного плоского объекта ландшафта.</p>
</li>
<li><p class="first">Векторы рефракции для нодовых и стековых материалов теперь используют правильную нормаль вида.</p>
</li>
<li><p class="first">Исправлена интерфейсная панель God Rays в Blender.</p>
</li>
<li><p class="first">Исправлено обновление параметров неба в Просмотрщике.</p>
</li>
<li><p class="first">Исправлен некорректный рендеринг стереоизображения (анаглиф и HMD) в некоторых специфических случаях.</p>
</li>
<li><p class="first">Исправлен баг ноды <code class="docutils literal"><span class="pre">Page</span> <span class="pre">Param</span></code>, приводивший к тому, что результат всегда записывался в переменную <code class="docutils literal"><span class="pre">R1</span></code>.</p>
</li>
<li><p class="first">Исправлено обновление области видимости переменных в нодовом редакторе логики.</p>
</li>
<li><p class="first">Исправлен крэш динамически загружаемых сцен при использовании логической ноды <code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-03">
<h2>v16.03<a class="headerlink" href="#v16-03" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id41">
<h3>Новый функционал<a class="headerlink" href="#id41" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшения нодового редактора логики.</p>
<blockquote>
<div><p>Появилась возможность использовать глобальные переменные для обмена информацией между потоками. Это позволяет создавать более сложные интерактивные приложения.</p>
<p>Добавлена логическая нода <cite>JSON</cite>. Она может использоваться для кодирования и декодирования сложных JSON-объектов.</p>
<p>Добавлена логическая нода <cite>Get Timeline</cite>. Она может использоваться для получения текущего кадра NLA или общего таймлайна.</p>
<p>Логические ноды <cite>Play Animation</cite> и <cite>Stop Animation</cite> теперь могут применяться для анимации настроек окружения.</p>
</div></blockquote>
</li>
<li><p class="first">Новый параметр <code class="docutils literal"><span class="pre">Update</span> <span class="pre">Material</span> <span class="pre">Animation</span></code> для обновления анимированных нодовых материалов во вьюпорте.</p>
<blockquote>
<div><p>Эта возможность полезна тем, кто часто использует анимированные ноды материалов. Достаточно включить её, и анимация материалов будет воспроизводиться во вьюпорте Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Менеджер проектов отделён от аддона Blender.</p>
<blockquote>
<div><p>Начиная с этого релиза, менеджер проектов может быть запущен как отдельное приложение с помощью скрипта <em>project_server.py</em>. Теперь не требуется запускать Blender для того, чтобы запустить менеджер проектов.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлены заголовки и описания ко всем демо-приложениям Blend4Web.</p>
<blockquote>
<div><p>Это упрощает поиск демо-приложений с помощью Google и других поисковых систем.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен ряд новых модулей.</p>
<blockquote>
<div><p>Первый из них - математический модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-math.html">math</a>. Чтобы больше узнать о нём, обратитесь к <a class="reference external" href="https://www.blend4web.com/api_doc/index.html">документации разработчика</a>.</p>
<p>Кроме него, также добавлен модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a>. Этот модуль содержит средства для работы с устройствами ввода: мышью &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_MOUSE">DEVICE_MOUSE</a>, клавиатурой &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_KEYBOARD">DEVICE_KEYBOARD</a>, тачскринами &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_TOUCH">DEVICE_TOUCH</a>, гироскопами &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_GYRO">DEVICE_GYRO</a>, устройствами виртуальной реальности &#8212; <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html#.DEVICE_HMD">DEVICE_HMD</a>. Узнать о нём больше можно в разделе документации разработчика, посвящённом модулю <a class="reference external" href="https://www.blend4web.com/api_doc/module-input.html">input</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменён подход к обратной совместимости с предыдущими версиями Blender.</p>
<blockquote>
<div><p>Начиная с этого релиза, мы постараемся обеспечить совместимость аддона с предыдущими версиями Blender.</p>
</div></blockquote>
</li>
<li><p class="first">В описаниях объектов теперь поддерживаются HTML-ссылки</p>
</li>
<li><p class="first">Объекты, находящиеся на вспомогательных сценах (используемых для рендеринга в текстуру), теперь могут контролироваться логическими нодами.</p>
</li>
<li><p class="first">В интерфейс рендеринга была добавлена опция <code class="docutils literal"><span class="pre">Dynamic</span> <span class="pre">Grass</span></code>.</p>
<blockquote>
<div><p>Для этого параметра доступны три значения: <em>ON</em> включает постоянное отображение динамически генерируемой травы, <em>OFF</em> полностью отключает его, <em>AUTO</em> позволяет движку автоматически определять объекты с динамической травой.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id42">
<h3>Изменения<a class="headerlink" href="#id42" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Изменения API</p>
<blockquote>
<div><p>Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.enable_controls">enable_controls</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.disable_controls">disable_controls</a> аддона <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> были объявлены устаревшими.</p>
<p>Следующие методы модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> были объявлены устаревшими: <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_keyboard_events">register_keyboard_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_mouse_events">register_mouse_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_wheel_events">register_wheel_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_touch_events">register_touch_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.register_device_orientation">register_device_orientation</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_keyboard_events">unregister_keyboard_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_mouse_events">unregister_mouse_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_wheel_events">unregister_wheel_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_touch_events">unregister_touch_events</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.unregister_device_orientation">unregister_device_orientation</a>.</p>
<p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> были добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_touch_click_sensor">create_touch_click_sensor</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_hmd_quat_sensor">create_hmd_quat_sensor</a>.</p>
<p>Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.get_hmd_device">get_hmd_device</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.reset_device">reset_device</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-hmd.html">hmd</a> были объявлены устаревшими.</p>
<p>Следующие методы были добавлены в модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html">util</a>: <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.deg_to_rad">deg_to_rad</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.rad_to_deg">rad_to_deg</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.quat_to_ordered_angles">quat_to_ordered_angles</a>.</p>
<p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes</a> был добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_world_by_name">get_world_by_name</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Были внесены изменения в API для работы с камерой.</p>
<blockquote>
<div><p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.calc_ray">calc_ray()</a> был изменён. Теперь он может работать с параметрическими линиями.</p>
</div></blockquote>
</li>
<li><p class="first">Изменено поведение физики типа Static.</p>
<blockquote>
<div><p>Теперь объекты, которым присвоен материал со включённым параметром <em>Material -&gt; Special: Collision</em>, могут быть полностью выгружены. Кроме того, такие объекты можно перемещать, вращать и пр. пока они остаются динамическими.</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизация рендеринга.</p>
<blockquote>
<div><p>Теперь для отсечения статических объектов используются ограничивающие эллипсоиды, а не сферы.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения редактора логики.</p>
<blockquote>
<div><p>Нода <cite>Send Request</cite> была упрощена. Кодирование и декодирование JSON вынесено в новую ноду <cite>JSON</cite>.</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизировано обновление анимированных материалов и материалов, освещаемых динамическими источниками света.</p>
</li>
<li><p class="first">Генерация меша воды теперь работает на устройствах без поддержки OES_depth_texture.</p>
</li>
</ul>
</div>
<div class="section" id="id43">
<h3>Исправления<a class="headerlink" href="#id43" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлено поведение меню веб-плеера.</p>
</li>
<li><p class="first">Исправлен крэш сервера разработки, возникавший в случае, когда заголовки ответа содержали определённую дату (29 февраля).</p>
</li>
<li><p class="first">Исправлен параметр <code class="docutils literal"><span class="pre">Refractions</span></code>, который имел значение &#8220;ON&#8221; при отсутствии объектов с рефракцией.</p>
</li>
<li><p class="first">Исправлено позиционирование материала воды для динамических объектов.</p>
</li>
<li><p class="first">Исправлен крэш, возникавший при создании меша воды без волн.</p>
</li>
<li><p class="first">Исправлена некорректная работа выхода ноды TEXTURE в случае, если не выбрана текстура.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v16-02">
<h2>v16.02<a class="headerlink" href="#v16-02" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id44">
<h3>Новый функционал<a class="headerlink" href="#id44" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Расширение поддержки системы частиц типа Emitter.</p>
<blockquote>
<div><p>Поддержка нодовых материалов, позволяющих задавать параметры шейдинга частиц с помощью последовательности базовых блоков (включая ноду <em>Particle Info</em>). Функционал доступен для систем частиц с типом рендеринга <code class="docutils literal"><span class="pre">Billboard</span></code>.</p>
<p>Переписан шейдер для частиц с типом рендеринга <code class="docutils literal"><span class="pre">Halo</span></code>. Добавлена поддержка настроек <code class="docutils literal"><span class="pre">Rings</span></code>, <code class="docutils literal"><span class="pre">Lines</span></code> и <code class="docutils literal"><span class="pre">Star</span> <span class="pre">Tips</span></code>. Убрано ограничение на максимальный размер частиц, связанный с аппаратными ограничениями на некоторых платформах.</p>
<p>Ликвидирован лимит на максимальное количество точек в процедурной текстуре (Ramp), используемой для подкраски частиц.</p>
</div></blockquote>
</li>
<li><p class="first">Расширение поддержки нодовых материалов.</p>
<blockquote>
<div><p>Реализованы две новые ноды, основанные на использовании кривых: <em>Vector Curves</em> и <em>RGB Curves</em>.</p>
<p>Добавлена поддержка ноды <em>ColorRamp</em>, в которой реализованы типы интерполяции <code class="docutils literal"><span class="pre">Linear</span></code> и <code class="docutils literal"><span class="pre">Constant</span></code>.</p>
<p>Добавлена поддержка ноды <em>Particle Info</em>. На данный момент её функционал поддерживается в полном объёме для систем частиц типа <code class="docutils literal"><span class="pre">Emitter</span></code> (с установленным типом рендеринга <code class="docutils literal"><span class="pre">Billboard</span></code>).</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в менеджере проектов.</p>
<blockquote>
<div><ul>
<li><p class="first">Возможность экспортировать сразу нескольких проектов в один архив.</p>
<blockquote>
<div><p>Данная функциональность существенно упрощает обновление SDK, а также перенос проектов с одной рабочей машины на другую.</p>
</div></blockquote>
</li>
<li><p class="first">Новые возможности для развёртывания (deploy) проектов.</p>
<blockquote>
<div><p>Развёртывание проектов необходимо для загрузки готовых приложений на сервер, отправки по почте и т.д. В этом релизе развёртывание проектов можно делать непосредственно из графического интерфейса Project Manager, проект при этом упаковывается в zip-архив.</p>
<p>Также начиная с этого релиза развёртывание доступно для всех без исключения типов проектов (включая External).</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в проектах типа Web Player HTML и Web Player JSON.</p>
<blockquote>
<div><p>При создании таких проектов появилась возможность задавать параметры приложения Web Player, такие как возможность отображения счётчика кадров, автоматический поворот камеры, выключение кнопок социальных сетей и др.</p>
<p>Кроме того, проекты этих типов могут создаваться с опцией <code class="docutils literal"><span class="pre">bundle</span></code>, означающей, что все ресурсы приложения будут располагаться в одной и той же директории.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения графического интерфейса.</p>
<blockquote>
<div><p>Поддержка добавления и отображения иконок проектов, что упрощает навигацию и позволяет быстро оценить внешний вид разрабатываемых приложений.</p>
<p>Просмотр информации о проекте. При переходе по ссылке <code class="docutils literal"><span class="pre">[info]</span></code>, расположенной справа от имени проекта, выводится список с подробной информацией о разрабатываемом проекте.</p>
<p>Для удобства определения типа запускаемых приложений, справа от ссылки запуска отображается префикс: <code class="docutils literal"><span class="pre">player:</span></code> - приложение типа Web Player HTML или Web Player JSON, <code class="docutils literal"><span class="pre">dev:</span></code> - префикс для запуска разрабатываемой версии приложения, <code class="docutils literal"><span class="pre">build:</span></code> - префикс для запуска скомпилированной (обфусцированной) версии приложения.</p>
<p>Интерфейсные элементы менеджера проекта теперь снабжены всплывающими подсказками.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Возможность анимирования настроек окружения.</p>
<blockquote>
<div><p>Добавлена возможность анимации параметров окружения из разделов <code class="docutils literal"><span class="pre">Sky</span></code> (<code class="docutils literal"><span class="pre">Horizon</span> <span class="pre">Color</span></code>, <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Color</span></code>), <code class="docutils literal"><span class="pre">Environment</span> <span class="pre">Lighting</span></code> (<code class="docutils literal"><span class="pre">Energy</span></code>) и <code class="docutils literal"><span class="pre">Mist</span></code> (<code class="docutils literal"><span class="pre">Minimum</span></code>, <code class="docutils literal"><span class="pre">Start</span></code>, <code class="docutils literal"><span class="pre">Depth</span></code>, <code class="docutils literal"><span class="pre">Height</span></code>, <code class="docutils literal"><span class="pre">Fog</span> <span class="pre">Color</span></code>). Данная функциональность поддерживается также и в NLA-анимации.</p>
<p>В панель настроек <code class="docutils literal"><span class="pre">World</span></code> в Blender добавлен раздел <code class="docutils literal"><span class="pre">Animation</span></code> с параметрами <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Default</span> <span class="pre">Animation</span></code> и <code class="docutils literal"><span class="pre">Behavior</span></code>.</p>
<p>Для всех экспортируемых миров на сценах создаются соответствующие метаобъекты типа <code class="docutils literal"><span class="pre">WORLD</span></code>, которые можно использовать для управления анимацией настроек окружения. Взаимодействие с данными метаобъектами аналогично взаимодействию со стандартными объектами сцены.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения камеры.</p>
<blockquote>
<div><p>Добавлена возможность назначать лимиты на вертикальное перемещение опорной точки TARGET-камеры в Blender. Функциональность также поддерживается через API с помощью методов <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_set_pivot_limits">target_set_pivot_limits()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_pivot_limits">target_get_pivot_limits()</a>.</p>
<p>Добавлены новые методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.static_setup">static_setup()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.eye_setup">eye_setup()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_setup">target_setup()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_setup">hover_setup()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_setup_rel">hover_setup_rel()</a> для смены и полного задания модели поведения камеры. Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_move_style">set_move_style()</a> в то же время объявлен устаревшим.</p>
<p>Также были добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_switch_panning">target_switch_panning()</a> - для управления режимом панорамного перемещения, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_view_vector">get_view_vector()</a> - для получения вектора направления взгляда камеры.</p>
<p>Примеры работы с API камеры теперь описаны в <a class="reference internal" href="camera.html#camera-api-notes"><span>соответствующем разделе документации</span></a>, ссылка на который также доступна со страницы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">API документации модуля camera.js</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения нодового редактора логики.</p>
<blockquote>
<div><p>В ноде <code class="docutils literal"><span class="pre">Send</span> <span class="pre">Request</span></code> добавлена опция <code class="docutils literal"><span class="pre">Content-Type</span></code>, позволяющая переназначить поле заголовка HTTP-запроса.</p>
</div></blockquote>
</li>
<li><p class="first">В модуль controls добавлен новый сенсор.</p>
<blockquote>
<div><p>Gyro Quat (метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_gyro_quat_sensor">create_gyro_quat_sensor</a>) - сенсор для работы с гироскопом на мобильных устройствах, позволяет оперировать кватернионом поворота устройства.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена экспериментальная поддержка UC Browser.</p>
</li>
<li><p class="first">Документация была значительно переработана и дополнена.</p>
</li>
</ul>
</div>
<div class="section" id="id45">
<h3>Изменения<a class="headerlink" href="#id45" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Параметр ламп <code class="docutils literal"><span class="pre">Generate</span> <span class="pre">Shadows</span></code> переименован в <code class="docutils literal"><span class="pre">Shadow</span></code> и теперь также активирует отображение теней в Blender Viewport.</p>
</li>
<li><p class="first">Изменён дизайн главной страницы SDK.</p>
<blockquote>
<div><p>Список приложений теперь находится в менеджере проектов. Добавлены ссылки для запуска часто используемых приложений: просмотрщика (<em>Viewer</em>) и примеров с кодом (<em>Code Snippets</em>).</p>
</div></blockquote>
</li>
<li><p class="first">Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_x">get_coords_x()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html#.get_coords_y">get_coords_y()</a> теперь принимают параметр <code class="docutils literal"><span class="pre">target_touches</span></code>.</p>
<blockquote>
<div><p>Данный параметр позволяет в случае мультитача использовать только те касания, которые произошли внутри текущего target-элемента (свойство <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent/targetTouches">targetTouches</a>).</p>
</div></blockquote>
</li>
<li><p class="first">Изменения API модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a>.</p>
<blockquote>
<div><p>Объявлены устаревшими методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_limits">has_vertical_limits()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_limits">has_horizontal_limits()</a>. Вместо них следует использовать <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_rot_limits">has_vertical_rot_limits()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_rot_limits">has_horizontal_rot_limits()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменение правил именования файлов разрабатываемых приложений</p>
<blockquote>
<div><p>Теперь html-файлы разрабатываемых приложений (расположенных в директории <em>apps_dev</em>) не содержат в своём имени суффикса <em>_dev</em>, отличать данные приложения от скомпилированных позволяет префикс, указываемый в <em>Project Manager</em>.</p>
</div></blockquote>
</li>
<li><p class="first">При переходе на главную страницу SDK проверяется наличие локального сервера разработки. В случае запуска из локальной файловой системы выводится соответствующее предупреждение.</p>
</li>
</ul>
</div>
<div class="section" id="id46">
<h3>Исправления<a class="headerlink" href="#id46" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Исправлена ошибка с неверным поведением параметра движка <code class="docutils literal"><span class="pre">canvas_resolution_factor</span></code> на устройствах с системой Apple iOS.</p>
</li>
<li><p class="first">Исправлена ошибка движка при отсутствии выбранного объекта в логических нодах <code class="docutils literal"><span class="pre">Show</span> <span class="pre">Object</span></code>, <code class="docutils literal"><span class="pre">Hide</span> <span class="pre">Object</span></code>.</p>
</li>
<li><p class="first">Исправлена ошибка округления координат по осям Y и Z при использовании переменных в качестве параметров в логической ноде <code class="docutils literal"><span class="pre">Transform</span> <span class="pre">Object</span></code>.</p>
</li>
<li><p class="first">Исправлена блокировка нодовой логики при наличии нод, не связанных с <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code>.</p>
</li>
<li><p class="first">Исправлена ошибка отображения динамических объектов на неосновных сценах при рендеринге сцены в текстуру.</p>
</li>
<li><p class="first">Исправлена ошибка перехода в полноэкранный режим в Safari.</p>
</li>
<li><p class="first">Устранена ошибка интерфейса аддона, связанная с системой частиц типа <code class="docutils literal"><span class="pre">Emitter</span></code> при отсутствии на объекте материала.</p>
</li>
<li><p class="first">Исправлена работа входа <code class="docutils literal"><span class="pre">Factor</span></code> в ноде <code class="docutils literal"><span class="pre">B4W_GLOW_OUTPUT</span></code> на материале с прозрачностью типа <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code>.</p>
</li>
<li><p class="first">Дупли группы с типом дупликации <code class="docutils literal"><span class="pre">None</span></code> не экспортируются и не отрисовываются.</p>
</li>
<li><p class="first">Исправлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.append_ray_test">append_ray_test()</a> при сообщении ему пустого объекта в качестве первого параметра.</p>
</li>
<li><p class="first">Исправлены и оптимизированы некоторые настройки воды.</p>
</li>
<li><p class="first">Физические объекты, имеющие родительский объект, теперь корректно обновляют позицию в случае, если на сцене отключена физика.</p>
</li>
<li><p class="first">Исправлено поведение нод <em>Camera Data</em> и <em>B4W Vector View</em> для отраженных объектов.</p>
</li>
<li><p class="first">Исправлена NLA анимация ноды <em>RGB</em> в материалах.</p>
</li>
<li><p class="first">Система частиц типа <code class="docutils literal"><span class="pre">HAIR</span></code> больше не будет отображаться, если на объекте-эмиттере выставлен флаг <code class="docutils literal"><span class="pre">Do</span> <span class="pre">Not</span> <span class="pre">Render</span></code>.</p>
</li>
<li><p class="first">Исправлена работа метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.auto_rotate">auto_rotate()</a> для случая <code class="docutils literal"><span class="pre">EYE</span></code> камеры.</p>
</li>
<li><p class="first">Исправлен экспорт частиц типа <code class="docutils literal"><span class="pre">Hair</span></code>, находящихся на неактивной сцене в Blender.</p>
</li>
<li><p class="first">Добавлены runtime библиотеки для Windows, без которых возникала ошибка при конвертации ресурсов.</p>
</li>
<li><p class="first">Исправлена ошибка генерации шейдера нодового материала в случае наличия в материале более 10 текстур.</p>
</li>
</ul>
</div>
<div class="section" id="known-issues">
<h3>Известные проблемы<a class="headerlink" href="#known-issues" title="Ссылка на этот заголовок">¶</a></h3>
<blockquote>
<div><p>Начиная с этого релиза описание всех известных проблем и возможных решений находится <a class="reference internal" href="problems_and_solutions.html#known-problems"><span>в отдельном подразделе</span></a>.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="v16-01">
<h2>v16.01<a class="headerlink" href="#v16-01" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id47">
<h3>Новый функционал<a class="headerlink" href="#id47" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Рендеринг линий.</p>
<blockquote>
<div><p>Теперь поддерживается возможность отрисовки линий, задаваемых процедурным образом. Для этого предусмотрен специальный тип объекта, активируемый с помощью опции <em>Line Renderer</em> в Blender, а также ряд API <a class="reference external" href="https://www.blend4web.com/api_doc/module-geometry.html#.draw_line">draw_line</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_line_params">get_line_params</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.set_line_params">set_line_params</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Новые ноды редактора логики.</p>
<blockquote>
<div><ul class="simple">
<li><p class="first"><code class="docutils literal"><span class="pre">Transform</span> <span class="pre">Object</span></code>: Позволяет перемещать объект в мировой, родительской или локальной системе координат.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">String</span> <span class="pre">Operation</span></code>: Позволяет проводить операции над строковыми константами и переменными аналогично ноде <code class="docutils literal"><span class="pre">Math</span> <span class="pre">Operation</span></code>.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Упрощена установка SDK.</p>
<blockquote>
<div><p>Теперь при <a class="reference internal" href="setup.html#setup"><span>установке SDK</span></a> в меню <em>User Preferences</em> в разделе <em>File-&gt;Scripts</em> достаточно указать путь к SDK.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в приложении WebPlayer.</p>
<blockquote>
<div><p>Добавлена возможность отключать социальные кнопки, отображаемые в правой части загруженной сцены. Для этого необходимо <a class="reference internal" href="web_player.html#webplayer-attributes"><span>передать атрибут</span></a> <code class="docutils literal"><span class="pre">no_social</span></code> при запуске приложения.</p>
<p>Экранированные символы в адресной строке плеера теперь обрабатываются корректно.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшение качество отрисовки для шлемов виртуальной реальности (HMD).</p>
<blockquote>
<div><p>Для шлемов виртуальной реальности добавлен механизм коррекции дисторсии и устранения хроматической аберрации. Для установки пользовательских настроек коррекции следует использовать функцию <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.set_hmd_params">set_hmd_params()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls</a> добавлены два новых сенсора.</p>
<blockquote>
<div><p><em>Touch Rotate</em> (метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_touch_rotate_sensor">create_touch_rotate_sensor()</a>) - сенсор, обрабатывающий событие поворота с помощью двух пальцев на touch-устройствах.</p>
<p><em>Callback</em> (метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html#.create_callback_sensor">create_callback_sensor()</a>) - сенсор, значение которого определяется callback-функцией, вызываемой каждый кадр.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в утилите для конвертации ресурсов.</p>
<blockquote>
<div><p>В <a class="reference internal" href="developers.html#converter"><span>утилиту для конвертации ресурсов</span></a> <em>converter.py</em> добавлены параметры <cite>&#8211;verbose</cite> и <cite>&#8211;jobs</cite> служащие соответственно для вывода детализированной информации и задания максимального количества параллельно выполняемых процессов в процессе конвертации.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен ряд методов API.</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_line">is_line()</a> - проверка, является ли объект специальным объектом типа <code class="docutils literal"><span class="pre">LINE</span></code>.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.is_idle">is_idle()</a> - проверка, завершил ли загрузчик сцен все запланированные действия.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_switch_horiz_rotation">hover_switch_horiz_rotation()</a> - возможность включать/выключать горизонтальное вращение камеры типа <code class="docutils literal"><span class="pre">HOVER</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Оптимизирован алгоритм обновления нодового дерева.</p>
</li>
</ul>
</div>
<div class="section" id="id48">
<h3>Изменения<a class="headerlink" href="#id48" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Упрощено применение Кубических отражений.</p>
<blockquote>
<div><p>Теперь кубическое отражение рендерится относительно геометрического центра объекта, а не относительно его центра в Blender. Так же в кубическом отражении больше не отрисовываются плоские отражения, что раньше приводило к нежелательным артефактам.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения API.</p>
<blockquote>
<div><p>В модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> добавлены следующие методы: <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_axis">get_vertical_axis()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_vertical_axis">set_vertical_axis()</a>. Теперь вращение на угол &#8220;phi&#8221; камеры типа &#8220;EYE&#8221; методом <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.eye_rotate">eye_rotate()</a> происходит вокруг вектора, выдаваемого функцией <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_axis">get_vertical_axis()</a>.</p>
<p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.correct_up">correct_up()</a> теперь принимает в качестве параметра флаг <code class="docutils literal"><span class="pre">strict</span></code>. Этот параметр позволяет ориентировать камеру сонаправленно с передаваемым вектором <code class="docutils literal"><span class="pre">y_axis</span></code>, а не просто параллельно ему.</p>
<p>Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.eye_get_vertical_limits">eye_get_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.eye_get_horizontal_limits">eye_get_horizontal_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_vertical_limits">target_get_vertical_limits</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_horizontal_limits">target_get_horizontal_limits</a> теперь могут возвращать лимиты, заданные в мировых и в локальных координатах относительно камеры. Это определяется параметром <code class="docutils literal"><span class="pre">local</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения в редакторе логики.</p>
<blockquote>
<div><p>Добавлено распределение нод по категориям.</p>
<ul class="simple">
<li><p class="first">В ноде <code class="docutils literal"><span class="pre">Variable</span> <span class="pre">Store</span></code> добавлена возможность выбора типа переменной между <code class="docutils literal"><span class="pre">Number</span></code> и <code class="docutils literal"><span class="pre">String</span></code>.</p>
</li>
<li><p class="first">В ноде <code class="docutils literal"><span class="pre">Send</span> <span class="pre">Request</span></code> добавлена возможность использовать строковые переменные для хранения тела запроса и ответа сервера целиком.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Удаление устаревшего инструмента <em>Mass Reexporter</em>.</p>
<blockquote>
<div><p>Панель инструмента <em>Mass Reexporter</em> удалена, поскольку функционал автоматического реэкспорта сцен уже имеется в инструменте <em>Project Manager</em> (операция <code class="docutils literal"><span class="pre">re-export</span> <span class="pre">scenes</span></code>).</p>
</div></blockquote>
</li>
<li><p class="first">Устаревший функционал.</p>
<blockquote>
<div><p>Были удалены методы: <code class="docutils literal"><span class="pre">mouse.enable_mouse_hover_glow()</span></code>, <code class="docutils literal"><span class="pre">mouse.disable_mouse_hover_glow()</span></code>, <code class="docutils literal"><span class="pre">anim.get_actions()</span></code>, <code class="docutils literal"><span class="pre">anim.get_current_action()</span></code>, <code class="docutils literal"><span class="pre">anim.set_current_frame_float()</span></code>, <code class="docutils literal"><span class="pre">anim.get_current_frame_float()</span></code>, <code class="docutils literal"><span class="pre">anim.get_frame_range()</span></code>, <code class="docutils literal"><span class="pre">anim.cyclic()</span></code>, <code class="docutils literal"><span class="pre">anim.is_cyclic()</span></code>, <code class="docutils literal"><span class="pre">anim.update_object_animation()</span></code>, <code class="docutils literal"><span class="pre">controls.remove_sensor_manifolds()</span></code>, <code class="docutils literal"><span class="pre">main.redraw()</span></code>, <code class="docutils literal"><span class="pre">scenes.set_glow_intensity()</span></code>, <code class="docutils literal"><span class="pre">scenes.get_glow_intensity()</span></code>, <code class="docutils literal"><span class="pre">scenes.apply_glow_anim()</span></code>, <code class="docutils literal"><span class="pre">scenes.apply_glow_anim_def()</span></code>, <code class="docutils literal"><span class="pre">scenes.clear_glow_anim()</span></code>, <code class="docutils literal"><span class="pre">scenes.set_glow_color()</span></code>, <code class="docutils literal"><span class="pre">scenes.get_glow_color()</span></code>, <code class="docutils literal"><span class="pre">sfx.speaker_play()</span></code>, <code class="docutils literal"><span class="pre">sfx.speaker_stop()</span></code>, <code class="docutils literal"><span class="pre">sfx.speaker_playback_rate()</span></code>, <code class="docutils literal"><span class="pre">sfx.get_speakers()</span></code>, <code class="docutils literal"><span class="pre">trans.set_rotation_quat()</span></code>, <code class="docutils literal"><span class="pre">trans.set_rotation_quat_v()</span></code>, <code class="docutils literal"><span class="pre">trans.get_rotation_quat()</span></code>.</p>
<p>Объявлены устаревшими метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.set_camera_move_style">set_camera_move_style()</a> и константы <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.SPACE_WORLD">SPACE_WORLD</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.SPACE_LOCAL">SPACE_LOCAL</a>.</p>
<p>Также объявлены устаревшими методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_limits">has_vertical_limits()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_limits">has_horizontal_limits()</a>. Вместо них следует использовать наиболее подходящий из новых методов: <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_rot_limits">has_vertical_rot_limits()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_rot_limits">has_horizontal_rot_limits()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_trans_limits">has_vertical_trans_limits()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_horizontal_trans_limits">has_horizontal_trans_limits()</a>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id49">
<h3>Исправления<a class="headerlink" href="#id49" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлено позиционирование и мерцание для систем частиц с мировыми координатами.</p>
</li>
<li><p class="first">Исправлен Front Facing для кубических отражений.</p>
</li>
<li><p class="first">Исправлены ошибки рендеринга для стерео-режимов.</p>
</li>
<li><p class="first">Исправлено некорректное позиционирование в анимации дочерних объектов.</p>
</li>
<li><p class="first">Исправлено зависание загрузки сцены в Safari при использовании аудио файлов формата .ogg в источниках звука типа <code class="docutils literal"><span class="pre">Background</span> <span class="pre">Music</span></code>.</p>
</li>
<li><p class="first">Исправлен баг ноды <code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code> из-за которого не оказывало влияние свойство duration после переоткрытия blend файла.</p>
</li>
<li><p class="first">Исправлен крэш при экспорте систем частиц с эмиттером со сложным мешем.</p>
</li>
<li><p class="first">Исправлена ошибка ноды <code class="docutils literal"><span class="pre">Switch</span> <span class="pre">Select</span></code> в результате которой осуществлялся неверный переход.</p>
</li>
<li><p class="first">Исправлен ряд ошибок при отображении лимитов камеры во вьюпорте Blender.</p>
</li>
<li><p class="first">Исправлена ошибка экспорта материалов, привязанных непосредственно к объекту, а не к мешу.</p>
</li>
<li><p class="first">Исправлен вызов функции <code class="docutils literal"><span class="pre">RenderCallback</span></code>, задаваемой методом <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html#.set_render_callback">set_render_callback()</a>.</p>
<blockquote>
<div><p>Теперь <code class="docutils literal"><span class="pre">RenderCallback</span></code> будет выполняться прямо перед рендерингом текущего кадра, поэтому в момент вызова состояние сцены и объектов будет актуальным.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлен рендеринг теней от нескольких источников света разных типов (например, <code class="docutils literal"><span class="pre">POINT</span></code> и <code class="docutils literal"><span class="pre">SUN</span></code>).</p>
</li>
<li><p class="first">Исправлен рендеринг <code class="docutils literal"><span class="pre">Environment</span></code> текстур при их одновременном использовании в качестве текстуры мира и в стeковом материале.</p>
</li>
</ul>
</div>
<div class="section" id="id50">
<h3>Известные проблемы<a class="headerlink" href="#id50" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Драйверы NVIDIA версии 331 в Linux могут приводить к программным ошибкам WebGL.</p>
</li>
<li><p class="first">Изменение фильтрации текстур на некоторых устройствах.</p>
<blockquote>
<div><p>При использовании <em>iPad</em> или браузера <em>Internet Explorer</em> отключена некорректная фильтрация текстур, которые используются материалами с типом прозрачности <em>Alpha Clip</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Некоторые устройства, использующие GPU Mali, требуют принудительного включения WebGL в настройках браузера.</p>
</li>
<li><p class="first">На системах Apple macOS и Blender 2.76 для работы локального сервера разработки может потребоваться установка <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a>. Это связано с ошибкой Blender <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>. В Blender 2.76b эта проблема устранена, поэтому рекомендуем обновиться.</p>
</li>
<li><p class="first">При использовании драйверов Nouveau скелетная анимация может работать некорректно.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-12">
<h2>v15.12<a class="headerlink" href="#v15-12" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id51">
<h3>Новый функционал<a class="headerlink" href="#id51" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Поддержка теней от нескольких источников.</p>
<blockquote>
<div><p>Осуществлена поддержка теней от нескольких источников освещения. Функционал позволяет существенно улучшить реалистичность сцен, освещённых множеством источников. Подробнее про функционал и сопутствующие ограничения можно прочитать в <a class="reference internal" href="lighting.html#shadows"><span>документации</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="vr_and_ar.html#stereo"><span>Экспериментальная поддержка шлемов виртуальной реальности (HMD).</span></a></p>
<blockquote>
<div><p>Добавлена экспериментальная поддержка шлемов виртуальной реальности с использованием WebVR API. На данный момент для использования этой технологии необходимо наличие браузера с поддержкой WebVR и устройства Oculus Rift. Подробнее в соответствующем разделе документации.</p>
</div></blockquote>
</li>
<li><p class="first">Привязка объектов к камере в пространстве экрана.</p>
<blockquote>
<div><p>Новый инструмент Viewport Alignment для привязки объектов к камере в пространстве экрана. Этот инструмент позволяет в удобной форме создавать элементы пользовательского интерфейса, привязанные к краю, углу или центру экрана. В отличие от привязки родитель-потомок, положение объекта автоматически изменяется при изменении разрешения и пропорций экрана.</p>
<p>Также был расширен функционал метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.append_stiff_viewport">append_stiff_viewport()</a> для назначения ограничителя Stiff Viewport.</p>
</div></blockquote>
</li>
<li><p class="first">Отображение лимитов, назначаемых на камере во вьюпорте Blender.</p>
<blockquote>
<div><p>Для упрощения задания ограничений добавлена опция <code class="docutils literal"><span class="pre">Display</span> <span class="pre">limits</span> <span class="pre">in</span> <span class="pre">viewport</span></code> на панели <code class="docutils literal"><span class="pre">Data</span></code> объекта-камеры. При её активации, лимиты будут отображаться непосредственно во вьюпорте Blender. Также были изменены их значения, выставляемые по умолчанию.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшение рендеринга анаглифного стереоизображения.</p>
<blockquote>
<div><p>Был реализован новый алгоритм рендеринга для режима анаглиф с улучшенным цветом изображения. Также плоскость сходимости левого и правого изображения для камеры типа TARGET теперь рассчитывается автоматически на основе опорной точки камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Новые ноды редактора логики.</p>
<blockquote>
<div><ul class="simple">
<li><p class="first"><code class="docutils literal"><span class="pre">Move</span> <span class="pre">To</span></code>: Позволяет перемещать объект в направлении другого объекта.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Console</span> <span class="pre">Print</span></code>: Позволяет выводить полезную информацию (в том числе значения переменных) в консоль браузера.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">В веб-плеер добавлена кнопка переключения в стерео-режим.</p>
<blockquote>
<div><p>Позволяет переключиться в режим HMD (при наличии поддержки со стороны браузера), либо в режим анаглифного стереоизображения.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлены новые методы для работы с объектами.</p>
<blockquote>
<div><p>Были добавлены новые методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_selectable_objects">get_selectable_objects</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_outlining_objects">get_outlining_objects</a>, облегчающие работу с объектами.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена возможность удалять динамические объекты.</p>
<blockquote>
<div><p>Раньше можно было удалять только те объекты, которые были скопированы пользователем.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена возможность взятия объекта аннотации по координатам на канвасе.</p>
<blockquote>
<div><p>Теперь функция <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.pick_object">pick_object</a> возвращает объект-аннотацию, если он располагается в указанных координатах.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый метод для инициализации медиаресурсов на мобильных устройствах.</p>
<blockquote>
<div><p>Раньше для обхода ограничений мобильных браузеров по инициализации медиаресурсов (аудио и видео) применялось принудительное блокирование канваса с необходимостью нажатия на всплывающую пиктограмму начала воспроизведения. Теперь можно самостоятельно инициализировать медиаресурсы, используя метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html#.activate_media">activate_media</a>. Данный функционал может быть полезен, в частности, если мобильное приложение уже включает элементы, требующие нажатия пользователя (кнопка &#8220;Старт&#8221;, кнопка включения звука и т.д.).</p>
</div></blockquote>
</li>
<li><p class="first">Новый тип множества сенсоров (Sensor Manifold) - <code class="docutils literal"><span class="pre">CT_POSITIVE</span></code>.</p>
<blockquote>
<div><p>Новый тип множества <code class="docutils literal"><span class="pre">CT_POSITIVE</span></code> предполагает вызов обработчика событий при ненулевом значении логической функции.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id52">
<h3>Изменения<a class="headerlink" href="#id52" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Кнопка <code class="docutils literal"><span class="pre">Fast</span> <span class="pre">Preview</span></code> для быстрого предпросмотра сцены продублирована на нижней панели интерфейса.</p>
<blockquote>
<div><p>Позволяет осуществить просмотр сцены без необходимости совершать переход к панели настроек сцены <code class="docutils literal"><span class="pre">Development</span> <span class="pre">Server</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Было изменено API для работы с канвас-текстурой.</p>
<blockquote>
<div><p>Теперь работать с канвас-текстурой стало удобнее. Были добавлены новые методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.get_canvas_ctx">get_canvas_ctx</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.update_canvas_ctx">update_canvas_ctx</a>. Методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.get_canvas_texture_context">get_canvas_texture_context</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html#.update_canvas_texture_context">update_canvas_texture_context</a> признаны устаревшими и не рекомендуются к использованию. Также для канвас-текстуры больше не присутствует в интерфейсе поле <em>Source ID</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлено неверное поведение теней для Alpha Clip материалов.</p>
<blockquote>
<div><p>Было исправлено неверное поведение теней для Alpha Clip материалов при невыставленном значении прозрачности на материале.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id53">
<h3>Исправления<a class="headerlink" href="#id53" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлено неверное поведение физики скопированного объекта.</p>
<blockquote>
<div><p>Было исправлено поведение физики скопированного объекта при перемещении его до добавления на сцену.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлено некорректное поведение тумана при добавлении на сцену воды</p>
</li>
<li><p class="first">Исправлено некорректное расположение интерфейсных панелей Blender в стандартной сцене, создаваемой для новых проектов.</p>
</li>
<li><p class="first">Исправлена ошибка при рендеринге cubemap-текстур на видеокартах NVIDIA GeForce 200 Series.</p>
</li>
<li><p class="first">Улучшена работа движка на iPhone 4, 4S, 5; iPad 2,3,4 поколений; iPad Mini 1 и 2 поколений.</p>
</li>
<li><p class="first">Исправлен некорректный рендеринг теней для billboard-объектов.</p>
</li>
</ul>
</div>
<div class="section" id="id54">
<h3>Известные проблемы<a class="headerlink" href="#id54" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Драйверы NVIDIA версии 331 в Linux могут приводить к программным ошибкам WebGL.</p>
</li>
<li><p class="first">Изменение фильтрации текстур на некоторых устройствах.</p>
<blockquote>
<div><p>При использовании <em>iPad</em> или браузера <em>Internet Explorer</em> отключена некорректная фильтрация текстур, которые используются материалами с типом прозрачности <em>Alpha Clip</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Некорректное поведение Depth-текстуры на ОС Windows.</p>
<blockquote>
<div><p>При использовании стабильной версии Google Chrome 32bit на ОС Windows могут возникать проблемы с поддержкой Depth-текстуры. В настоящее время эта проблема исправлена для бета-версии браузера.</p>
</div></blockquote>
</li>
<li><p class="first">Некоторые устройства, использующие GPU Mali, требуют принудительного включения WebGL в настройках браузера.</p>
</li>
<li><p class="first">На системах Apple macOS и Blender 2.76 для работы локального сервера разработки может потребоваться установка <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a>. Это связано с ошибкой Blender <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>. В Blender 2.76b эта проблема устранена, поэтому рекомендуем обновиться.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-11">
<h2>v15.11<a class="headerlink" href="#v15-11" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id56">
<h3>Новый функционал<a class="headerlink" href="#id56" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Начальная поддержка технологии WebGL 2.0.</p>
<blockquote>
<div><p>Возможности новых API предоставляются автоматически при наличии совместимого оборудования/браузера.</p>
</div></blockquote>
</li>
<li><p class="first">Новые возможности редактора логики.</p>
<blockquote>
<div><ul>
<li><p class="first">Возможность анимации камеры.</p>
<blockquote>
<div><p>В ноду <code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code> добавлена возможность плавной смены положения камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Возможность задания поведения объектной анимации.</p>
<blockquote>
<div><p>В ноду <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> добавлена возможность задания <cite>Поведения</cite> (<cite>Behavior</cite>) анимации.</p>
</div></blockquote>
</li>
<li><p class="first">Новая нода <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">Animation</span></code>.</p>
<blockquote>
<div><p>Позволяет останавливать объектную анимацию.</p>
</div></blockquote>
</li>
<li><p class="first">Новая нода <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">Sound</span></code>.</p>
<blockquote>
<div><p>Позволяет останавливать воспроизведение звука спикера.</p>
</div></blockquote>
</li>
<li><p class="first">Новая нода <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">Timeline</span></code>.</p>
<blockquote>
<div><p>Позволяет останавливать NLA анимацию.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Поддержка антиалиасинга MSAA.</p>
<blockquote>
<div><p>Данный алгоритм сглаживания применяется на конфигурациях, совместимых с WebGL 2.0. На данный момент он позволяет получить максимальное качество изображения в режиме ULTRA, благодаря задействованию алгоритма 16x MSAA.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в интерфейсе программы-просмотрщика.</p>
<blockquote>
<div><p>Добавлена кнопка <code class="docutils literal"><span class="pre">Home</span></code>, при нажатии на которую осуществляется переход на базовую сцену, указанную в URL-параметрах приложения, либо, при её отсутствии, на стандартную сцену с кубическим лого Blend4Web.</p>
<p>Кнопка <code class="docutils literal"><span class="pre">Reset</span></code> вынесена в правую часть верхней панели приложения и теперь, кроме внутренних параметров, также сбрасывает и URL-параметры просмотрщика (например, загружаемую базовую сцену).</p>
<p>Кнопка <code class="docutils literal"><span class="pre">Auto</span> <span class="pre">View</span> <span class="pre">Mode</span></code> для автоматического прохода всех сцен вынесена на панель <code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Высокоточный механизм оценки производительности рендеринга.</p>
<blockquote>
<div><p>Использование расширения WebGL EXT_disjoint_timer_query позволяет реализовать высокоточные таймеры, способные оценить производительность операций, выполняемых на GPU. При активации режима отладки в программе-просмотрщике (опция <code class="docutils literal"><span class="pre">HUD</span> <span class="pre">Info</span></code> на панели <code class="docutils literal"><span class="pre">Tools</span> <span class="pre">&amp;</span> <span class="pre">Debug</span></code>) в последней колонке отладочной информации выводится время в миллисекундах, потраченное GPU на рендеринг части сцены (subscene).</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в интерфейсе веб-плеера.</p>
<blockquote>
<div><p>Добавлено изменение вида курсора при перемещении камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Многочисленные добавления и улучшения в документации.</p>
</li>
</ul>
</div>
<div class="section" id="id57">
<h3>Изменения<a class="headerlink" href="#id57" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Кнопка <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Cursor</span> <span class="pre">Location</span></code> переименована в <code class="docutils literal"><span class="pre">Look</span> <span class="pre">At</span> <span class="pre">Cursor</span></code>, изменено её поведение.</p>
<blockquote>
<div><p>Теперь при нажатии на данную кнопку камера поворачивается в направлении указанной точки.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения API.</p>
<blockquote>
<div><p>Для совместимости со сторонними приложениями добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_matrix">set_matrix</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_matrix">get_matrix</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_matrix_rel">set_matrix_rel</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_matrix_rel">get_matrix_rel</a>, однако, в целях оптимизации рекомендуется использовать <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_tsr">set_tsr</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_tsr">get_tsr</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_tsr_rel">set_tsr_rel</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_tsr_rel">get_tsr_rel</a>.</p>
<p>Теперь функции <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.hide_object">hide_object</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.show_object">show_object</a> по умолчанию изменяют видимость объекта и всех его дочерних объектов. Для изменения видимости конкретного объекта необходимо передать параметр <code class="docutils literal"><span class="pre">ignore_children</span></code> со значением <code class="docutils literal"><span class="pre">true</span></code>.</p>
<p>Следующий метод объявлен устаревшим и будет удален в последующих релизах: <a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html#.create_sep">create_sep()</a> (модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html">tsr</a>). Вместо него теперь следует использовать метод модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html">tsr</a>: <a class="reference external" href="https://www.blend4web.com/api_doc/module-tsr.html#.set_sep">set_sep()</a>.</p>
<p>API модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> претерпело существенные изменения. Были удалены устаревшие методы: <cite>is_camera()</cite>, <cite>rotate_pivot()</cite>, <cite>rotate_hover_cam()</cite>, <cite>get_hover_cam_angle()</cite>, <cite>set_hover_cam_angle()</cite>, <cite>translate_hover_cam_v()</cite>, <cite>set_eye_params()</cite>, <cite>rotate()</cite>, <cite>get_angles()</cite>. Следующие методы объявлены устаревшими: <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_look_at">set_look_at</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.rotate_eye_camera">rotate_eye_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.rotate_target_camera">rotate_target_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_trans_pivot">set_trans_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.zoom_object">zoom_object</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_pivot">set_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.rotate_hover_camera">rotate_hover_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_hover_cam_pivot">get_hover_cam_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_eye">get_eye</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_pivot">get_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_cam_set_translation">hover_cam_set_translation</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_hover_pivot">set_hover_pivot</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_hover_angle_limits">get_hover_angle_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_cam_dist_limits">get_cam_dist_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_vertical_limits">apply_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_hover_angle_limits">clear_hover_angle_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_hover_angle_limits">apply_hover_angle_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_distance_limits">apply_distance_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_distance_limits">clear_distance_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_limits">get_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.apply_horizontal_limits">apply_horizontal_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_horizontal_limits">get_horizontal_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_vertical_limits">clear_vertical_limits</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.clear_horizontal_limits">clear_horizontal_limits</a>. Вместо них следует использовать методы, начинающиеся с префикса, соответствующего типу камеры: <code class="docutils literal"><span class="pre">target_...</span></code>, <code class="docutils literal"><span class="pre">eye_...</span></code>, <code class="docutils literal"><span class="pre">static_...</span></code>, <code class="docutils literal"><span class="pre">hover_...</span></code>. Также устаревшими объявлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_velocity_params">set_velocity_params</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_velocity_params">get_velocity_params</a>; вместо них следует использовать <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.set_velocities">set_velocities</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_velocities">get_velocities</a> соответственно.</p>
<p>Помимо этого были добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_get_distance">target_get_distance</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.target_set_distance">target_set_distance</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.hover_get_distance">hover_get_distance</a> для работы с расстоянием от текущего положения TARGET/HOVER камеры до pivot-точки.</p>
</div></blockquote>
</li>
<li><p class="first">В приложении <code class="docutils literal"><span class="pre">Viewer</span></code> добавлены кнопки <code class="docutils literal"><span class="pre">Play</span> <span class="pre">All</span></code> и <code class="docutils literal"><span class="pre">Stop</span> <span class="pre">All</span></code> для запуска и остановки всей анимации.</p>
</li>
<li><p class="first">Изменения редактора логики:</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">Нода <code class="docutils literal"><span class="pre">Select</span></code> и базирующиеся на ней ноды <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Animation</span></code> и <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span> <span class="pre">Timeline</span></code> теперь являются устаревшими. В качестве замены рекомендуется использовать комбинации нод <code class="docutils literal"><span class="pre">Switch</span> <span class="pre">Select</span></code>, <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> и <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Timeline</span></code>.</p>
</li>
<li><p class="first">Обновлены примеры в SDK, использующие вышеуказанные устаревшие ноды.</p>
</li>
<li><p class="first">Для прозрачности поведения нодовой логики воздействие опции <code class="docutils literal"><span class="pre">Cyclic</span> <span class="pre">NLA</span></code> отключено.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Изменено поведение HOVER-камеры при отсутствии у неё лимитов.</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">Теперь HOVER-камера будет зависать над pivot-точкой на фиксированном расстоянии и под фиксированным углом.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Изменение поведения glow эффекта.</p>
<blockquote>
<div><p>Теперь источники освещения влияют на <a class="reference internal" href="postprocessing_effects.html#glow"><span>glow эффект</span></a> при наличии нод <code class="docutils literal"><span class="pre">Material</span></code>, <code class="docutils literal"><span class="pre">Extended</span> <span class="pre">Material</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id58">
<h3>Исправления<a class="headerlink" href="#id58" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлены ошибки в системе управления проектами.</p>
<blockquote>
<div><p>В списке теперь выводятся ссылки на девелоперские приложения в составе проекта.</p>
<p>В html-файлах скомпилированных приложений исправлена верстка.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшена работа скининга на мобильных платформах.</p>
</li>
<li><p class="first">Исправлена ошибка подключения файлов переводчика аддона.</p>
<blockquote>
<div><p>Исправлена ошибка, возникающая при подключении аддона на некоторых устройствах, связанная с невозможностью обработки системой файлов переводчика аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлено некорректное поведение теней от объектов системы частиц.</p>
<blockquote>
<div><p>Было исправлено поведение теней от объектов системы частиц типа &#8220;Hair&#8221;, используемых в качестве билбордов, при изменении размеров основного канваса.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлена работа движка на GPU Mali 400 серии.</p>
</li>
<li><p class="first">Исправлены плоские отражения и туман для материалов, использующих <code class="docutils literal"><span class="pre">double_sided_lighting</span></code></p>
</li>
<li><p class="first">Исправлена ошибка, возникавшая при ограниченной квоте в Local Storage. Проявлялось на Safari в режиме инкогнито.</p>
</li>
<li><p class="first">Восстановлена функциональность опции <code class="docutils literal"><span class="pre">Render</span> <span class="pre">Glow</span> <span class="pre">Over</span> <span class="pre">Transparent</span> <span class="pre">Objects</span></code> в <a class="reference internal" href="postprocessing_effects.html#glow"><span>настройках</span></a> эффекта Glow в Blender.</p>
</li>
<li><p class="first">Исправлен ряд ошибок воспроизведения видеотекстур.</p>
</li>
</ul>
</div>
<div class="section" id="id59">
<h3>Известные проблемы<a class="headerlink" href="#id59" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Драйверы NVIDIA версии 331 в Linux могут приводить к программным ошибкам WebGL.</p>
</li>
<li><p class="first">Изменение фильтрации текстур на некоторых устройствах.</p>
<blockquote>
<div><p>При использовании <em>iPad</em> или браузера <em>Internet Explorer</em> отключена некорректная фильтрация текстур, которые используются материалами с типом прозрачности <em>Alpha Clip</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Некорректное поведение Depth-текстуры на ОС Windows.</p>
<blockquote>
<div><p>При использовании стабильной версии Google Chrome 32bit на ОС Windows могут возникать проблемы с поддержкой Depth-текстуры. В настоящее время эта проблема исправлена для бета-версии браузера.</p>
</div></blockquote>
</li>
<li><p class="first">Некоторые устройства, использующие GPU Mali, требуют принудительного включения WebGL в настройках браузера.</p>
</li>
<li><p class="first">На системах Apple macOS и Blender 2.76 для работы локального сервера разработки может потребоваться установка <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a>. Это связано с ошибкой Blender <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-10">
<h2>v15.10<a class="headerlink" href="#v15-10" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id61">
<h3>Новый функционал<a class="headerlink" href="#id61" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Новый функционал в системе управления проектами.</p>
<blockquote>
<div><p>Проекты теперь можно экспортировать и импортировать. Это существенно упрощает обновление на новые версии SDK, обеспечивает возможность запускать и отлаживать проекты на различных системах, а также позволяет обмениваться проектами с другими разработчиками.</p>
<p>Стали доступны два новых типа проектов: <code class="docutils literal"><span class="pre">WebPlayer</span> <span class="pre">JSON</span></code> и <code class="docutils literal"><span class="pre">WebPlayer</span> <span class="pre">HTML</span></code>. Обе опции позволяют создавать проекты, не требующие программирования и работающие внутри приложения WebPlayer.</p>
<p>Для удобства навигации по собственным проектам была добавлена функция сортировки по имени, а также скрытия проектов, изначально присутствующих в составе SDK.</p>
<p>Добавлена возможность удалять проекты из списка.</p>
<p>Улучшена поддержка ОС Windows, благодаря включению Java в состав SDK, что позволяет собирать приложения без необходимости установки внешних зависимостей.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения антиалиасинга.</p>
<blockquote>
<div><p>На панель <code class="docutils literal"><span class="pre">Render</span> <span class="pre">&gt;</span> <span class="pre">Anti-Aliasing</span></code> добавлено поле <code class="docutils literal"><span class="pre">AA</span> <span class="pre">Quality</span></code>, позволяющее выбирать профили качества <a class="reference internal" href="postprocessing_effects.html#antialiasing"><span>антиалиасинга</span></a>. Улучшена технология антиалиасинга; теперь в качестве технологии антиалиасинга используется алгоритм, основанный на FXAA 3.11, что позволило увеличить качество и производительность, особенно при выборе высоких уровней детализации графики.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения нодового редактора логики.</p>
<blockquote>
<div><ul>
<li><p class="first">Новая нода <code class="docutils literal"><span class="pre">Move</span> <span class="pre">Camera</span></code>.</p>
<blockquote>
<div><p>Позволяет задать положение и целевую точку для камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Новая нода <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Sound</span></code>.</p>
<blockquote>
<div><p>Позволяет проигрывать звук выбранного спикера.</p>
</div></blockquote>
</li>
<li><p class="first">Новая нода <code class="docutils literal"><span class="pre">Switch</span> <span class="pre">Select</span></code>.</p>
<blockquote>
<div><p>Подобна ноде Select, но обладает большей гибкостью и удобством, позволяя выбрать серию объектов.</p>
</div></blockquote>
</li>
<li><p class="first">В ноду <code class="docutils literal"><span class="pre">Math</span> <span class="pre">Operation</span></code> редактора логики добавлена операция Random, позволяющая генерировать случайные числа.</p>
</li>
<li><p class="first">В ноду <code class="docutils literal"><span class="pre">Send</span> <span class="pre">Request</span></code> добавлена возможность отправки <code class="docutils literal"><span class="pre">POST</span></code> запроса с заданными параметрами.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Добавлена возможность использования типа маппинга <code class="docutils literal"><span class="pre">Repeat</span></code> для NPOT-текстур.</p>
<blockquote>
<div><p>Теперь доступен тип маппинга <code class="docutils literal"><span class="pre">Repeat</span></code> для NPOT-текстур (текстур, размеры которых не являются степенью числа 2). Также для этих текстур теперь применяется MIP-текстурирование.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлено автоматическое изменение размеров текстур при превышении ими лимитов WebGL.</p>
<blockquote>
<div><p>В случае, когда размер текстуры превышает лимиты WebGL, будет использовано уменьшение размера текстуры до максимально допустимого (кроме случая с использованием DDS-текстур).</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена кнопка <code class="docutils literal"><span class="pre">Fast</span> <span class="pre">Preview</span></code> для быстрого предпросмотра сцены.</p>
<blockquote>
<div><p>Кнопка находится на панели <code class="docutils literal"><span class="pre">Render</span> <span class="pre">&gt;</span> <span class="pre">Development</span> <span class="pre">Server</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка анимации свойств <em>Intensity</em> и <em>Color</em> для источников освещения.</p>
<blockquote>
<div><p>Теперь возможно анимировать интенсивность и цвет источников освещения как в обычной, так и в NLA-анимации.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id62">
<h3>Изменения<a class="headerlink" href="#id62" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Улучшен интерфейс системы управления проектами.</p>
<blockquote>
<div><p>Изменена тема оформления, добавлена кнопка для быстрого запуска менеджера проектов в Blender <code class="docutils literal"><span class="pre">Development</span> <span class="pre">Server</span> <span class="pre">&gt;</span> <span class="pre">Project</span> <span class="pre">Manager</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшена работа звуковых источников.</p>
<blockquote>
<div><p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-sfx.html#.is_play">is_play()</a> теперь корректно и с минимальными задержками отображает факт завершения воспроизведения.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлено несколько сообщений об ошибках экспорта.</p>
<blockquote>
<div><p>При экспорте ряда объектов их тип может смениться на <code class="docutils literal"><span class="pre">EMPTY</span></code>, например, в случае вырожденной геометрии или отсутствия звукового файла на объекте типа <code class="docutils literal"><span class="pre">SPEAKER</span></code>. Сообщения об этом теперь выводятся в консоль браузера.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшено отображение селектора объектов для нод редактора логики.</p>
</li>
<li><p class="first">Изменено поведение гамма-коррекции в нодовых материалах.</p>
<blockquote>
<div><p>В связи с изменениями в Blender 2.76 необходимо иначе проводить <a class="reference internal" href="colors.html#gamma-node-materials"><span>гамма-коррекцию в нодовых материалах</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения API.</p>
<blockquote>
<div><p>Объявлен устаревшим и будет удален в последующих релизах метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html#.resize">resize</a> из модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html">main</a>. Вместо него следует использовать соответствующий метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html#.resize">resize</a> из модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-container.html">container</a>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id63">
<h3>Исправления<a class="headerlink" href="#id63" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлены ошибки в системе управления проектами.</p>
</li>
<li><p class="first">Повышена стабильность работы на мобильных платформах при большом количестве лампочек на сцене.</p>
</li>
<li><p class="first">Повышена стабильность работы на Unix-подобных системах.</p>
<blockquote>
<div><p>Улучшена работа движка на Unix-подобных системах, использующих видеокарты AMD и открытые видеодрайверы.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлена ошибка, связанная с добавлением аннотаций на сцену.</p>
<blockquote>
<div><p>Исправлена ошибка, возникающая при добавлении аннотаций на сцену без свойства <em>Object -&gt; Meta Tags</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлена ошибка, связанная с некорректным воспроизведением звуков при переключении вкладок браузера.</p>
</li>
<li><p class="first">Исправлен ряд ошибок, связанных с работой видеотекстур.</p>
</li>
<li><p class="first">Исправлена ошибка, проявляющаяся при использовании пустой нодовой группы в нодовом материале.</p>
</li>
<li><p class="first">Исправлена ошибка, если на системе частиц в качестве частицы был выбран объект, имеющий LOD-объекты.</p>
</li>
<li><p class="first">В редакторе логики исправлена ошибка ноды Delay, связанная с использованием переменной в качестве параметра.</p>
</li>
<li><p class="first">В редакторе логики исправлена ошибка, возникающая при удалении <code class="docutils literal"><span class="pre">Entry</span> <span class="pre">Point</span></code>.</p>
</li>
<li><p class="first">В редакторе логики исправлена ошибка дублирования переменных в выпадающем списке выбора переменных.</p>
</li>
<li><p class="first">Исправлена ошибка, возникающая в экспортированной сцене, использующей логическую ноду <code class="docutils literal"><span class="pre">Play</span> <span class="pre">Animation</span></code> и отключенный флаг <code class="docutils literal"><span class="pre">NLA</span></code>.</p>
</li>
<li><p class="first">Исправлено и установлено поведение аналогичное Blender для следующих нод нодовых материалов: <code class="docutils literal"><span class="pre">Math-&gt;Power</span></code>, <code class="docutils literal"><span class="pre">Gamma</span></code>.</p>
</li>
</ul>
</div>
<div class="section" id="id64">
<h3>Известные проблемы<a class="headerlink" href="#id64" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Драйверы NVIDIA версии 331 в Linux могут приводить к программным ошибкам WebGL.</p>
</li>
<li><p class="first">Изменение фильтрации текстур на некоторых устройствах.</p>
<blockquote>
<div><p>При использовании <em>iPad</em> или браузера <em>Internet Explorer</em> отключена некорректная фильтрация текстур, которые используются материалами с типом прозрачности <em>Alpha Clip</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Некорректное поведение Depth-текстуры на ОС Windows.</p>
<blockquote>
<div><p>При использовании стабильной версии Google Chrome 32bit на ОС Windows могут возникать проблемы с поддержкой Depth-текстуры. В настоящее время эта проблема исправлена для бета-версии браузера.</p>
</div></blockquote>
</li>
<li><p class="first">Некоторые устройства, использующие GPU Mali, требуют принудительного включения WebGL в настройках браузера.</p>
</li>
<li><p class="first">На системах Apple macOS и Blender 2.76 для работы локального сервера разработки может потребоваться установка <a class="reference external" href="https://www.python.org/downloads/release/python-343/">Python 3.4</a>. Это связано с ошибкой Blender <a class="reference external" href="https://developer.blender.org/T46623">https://developer.blender.org/T46623</a>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-09">
<h2>v15.09<a class="headerlink" href="#v15-09" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id66">
<h3>Новый функционал<a class="headerlink" href="#id66" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Система управления проектами.</p>
<blockquote>
<div><p>Новая система управления проектами позволяет:</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">просматривать список и внутреннюю структуру имеющихся проектов</p>
</li>
<li><p class="first">запускать приложения, просматривать сцены в программе-просмотрщике, загружать исходные файлы сцен в Blender</p>
</li>
<li><p class="first">создавать и конфигурировать новые приложения, в том числе на основе готовых шаблонов</p>
</li>
<li><p class="first">осуществлять сборку приложения и его конверсию в вид, необходимый для последующего размещения на сервере</p>
</li>
<li><p class="first">конвертировать ресурсы приложения (текстуры, звуки и видео) в альтернативные форматы</p>
</li>
<li><p class="first">производить автоматический реэкспорт всех сцен из состава приложения, включая json и html файлы</p>
</li>
</ul>
</div></blockquote>
<p>Управлять проектами возможно двумя способами: с помощью консольной утилиты <em>project.py</em>, имеющей простой формат вызова и подробную справку, либо в графической форме с помощью веб-приложения, выполняющегося на сервере разработчика. Сервер не требует каких-либо дополнительных настроек и, также как и раньше, запускается с помощью кнопки <code class="docutils literal"><span class="pre">Open</span> <span class="pre">SDK</span></code> в Blender.</p>
<p>Система управления проектами работает на всех операционных системах, однако для некоторых операций может потребоваться установка дополнительных приложений. Подробнее о работе и настройке системы можно узнать в соответствующем разделе документации <a class="reference internal" href="project_manager.html#project-management"><span>для разработчиков приложений</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Управление костями арматурного объекта.</p>
<blockquote>
<div><p>Существенно расширены возможности для управления арматурными объектами.</p>
<p>Добавлен новый модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html">armature</a>, в котором присутствуют методы для получения и назначения позиций костей в координатах объекта арматуры: <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.get_bone_tsr">get_bone_tsr()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.set_bone_tsr">set_bone_tsr()</a> и в относительных координатах кости: <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.get_bone_tsr_rel">get_bone_tsr_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-armature.html#.set_bone_tsr_rel">set_bone_tsr_rel()</a>. С помощью данных функций возможно создавать приложения с программным управлением элементами скелета. Например, теперь возможно процедурно анимировать персонажей или упрощенно назначать позиции элементов сложных конструкций, которые имеют в качестве управляющего каркаса арматуру.</p>
<p>Обеспечена поддержка ограничителей типа <code class="docutils literal"><span class="pre">COPY_TRANSFORMS</span></code> для костей. Кости могут копировать положение любых объектов на сцене, в том числе и физических. Таким образом можно например применить технику Ragdoll, чтобы получить физически корректные скелеты.</p>
</div></blockquote>
</li>
<li><p class="first">Новые ноды редактора логики.</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">Play Animation: позволяет проигрывать анимацию объекта.</p>
</li>
<li><p class="first">Send Request: позволяет отправить HTTP GET запрос на указанный адрес и осуществить простейший разбор ответа.</p>
</li>
<li><p class="first">Inherit Material: позволяет скопировать атрибуты материала с одного объекта на другой.</p>
</li>
<li><p class="first">Set Shader Node Param: позволяет изменить значение шейдерного нода; в данный момент поддерживаются нода Value и RGB.</p>
</li>
<li><p class="first">Delay: позволяет осуществить задержку перед выполнением следующей ноды.</p>
</li>
<li><p class="first">Apply Shape Key: позволяет выставить значение shape key для объекта.</p>
</li>
<li><p class="first">Outline: позволяет управлять &#8220;обводкой&#8221; объекта.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Для видеотекстур добавлена настройка <code class="docutils literal"><span class="pre">Allow</span> <span class="pre">NLA</span></code>, позволяющая выбирать использование NLA-анимации индивидуально для каждой текстуры.</p>
</li>
<li><p class="first">Добавлен новый функционал в модуле <em>material</em>.</p>
<blockquote>
<div><p>Добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.set_specular_color_factor">set_specular_color_factor</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_specular_color_factor">get_specular_color_factor</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Расширение функционала веб-приложения для разработчиков.</p>
<blockquote>
<div><p>На корневой страницы веб-приложения для разработчиков появился новый раздел <em>Tools</em>, включающий инструменты <em>Manage Projects</em> (управление проектами) и <em>WebGL Report</em> (просмотр возможностей WebGL браузера).</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в интерфейсе веб-плеера.</p>
<blockquote>
<div><p>Добавлен необязательный атрибут <code class="docutils literal"><span class="pre">alpha</span></code>, использующийся для установки прозрачности области отрисовки. Добавлено поведение <a class="reference internal" href="postprocessing_effects.html#outline"><span>Outline on Select</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">В утилите <em>project.py</em> добавлен тип сборки приложения <code class="docutils literal"><span class="pre">update</span></code>.</p>
<blockquote>
<div><p>Позволяет обновить движок в директории приложения без компиляции самого приложения. Опция используется в простых приложениях и уроках.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый функционал в модуль <em>app</em>.</p>
<blockquote>
<div><p>В методе <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.enable_camera_controls">enable_camera_controls()</a> добавлен необязательный параметр <code class="docutils literal"><span class="pre">disable_zoom</span></code>. Данный параметр позволяет отключить приближение камеры.</p>
<p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a> был добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.queue_animate">queue_animate()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый функционал в модуль <em>scenes</em>.</p>
<blockquote>
<div><p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes</a> был добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.has_picking_subs">has_picking_subs()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый функционал в модуль <em>debug</em>.</p>
<blockquote>
<div><p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a> был добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.fake_load">fake_load()</a>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id67">
<h3>Изменения<a class="headerlink" href="#id67" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Аддоны (такие как <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html">app</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-mouse.html">mouse</a> и другие) теперь являются частью скомпилированных версий движка:</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">b4w.min.js - расширенная (advanced) оптимизация (ранее b4w.full.min.js)</p>
</li>
<li><p class="first">b4w.simple.min.js - простая (simple) оптимизация</p>
</li>
<li><p class="first">b4w.whitespace.min.js - оптимизация пробелов, используемых в коде (whitespace)</p>
</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Выбор нужной версии определяется исходя из настроек <a class="reference internal" href="project_manager.html#project-management"><span>компиляции приложения</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения нодового редактора логики.</p>
<blockquote>
<div><ul class="simple">
<li><p class="first">Переименованы ноды: <cite>Play</cite> -&gt; <cite>Play Timeline</cite>; <cite>Select &amp; Jump</cite> -&gt; <cite>Select</cite>, <cite>Register Store</cite> -&gt; <cite>Variable Store</cite>.</p>
</li>
<li><p class="first">Помимо переменных-регистров теперь можно создавать пользовательские переменные, имеющие произвольные имена.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">В утилите <em>project.py</em> удален малоиспользуемый тип сборки движка <code class="docutils literal"><span class="pre">combine</span></code>.</p>
</li>
<li><p class="first">Улучшена документация по <a class="reference internal" href="developers.html#converter"><span>конвертеру ресурсов</span></a>.</p>
</li>
<li><p class="first">Улучшена документация по <a class="reference internal" href="addon.html#translator"><span>переводу аддона</span></a>.</p>
</li>
<li><p class="first">Изменен экспорт UV-слоев и вертексных цветов.</p>
<blockquote>
<div><p>Теперь поведение UV-слоев и вертексных цветов после экспорта еще больше приближено к Blender&#8217;у.</p>
</div></blockquote>
</li>
<li><p class="first">Расширена поддержка NLA-анимации для видеотекстур, поведение которых теперь более приближено к поведению в Blender&#8217;е.</p>
</li>
<li><p class="first">Добавлено <a class="reference internal" href="addon.html#export-errors-other"><span>сообщение экспорта</span></a> об отсутствии в анимации каналов.</p>
</li>
<li><p class="first">Добавлена некритическая ошибка экспорта при выборе неподдерживаемого типа <code class="docutils literal"><span class="pre">Render</span> <span class="pre">Type</span></code> в системе частиц.</p>
</li>
<li><p class="first">При наследовании материала (метод API <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.inherit_material">inherit_material</a>) теперь наследуется параметр <code class="docutils literal"><span class="pre">Specular</span> <span class="pre">Color</span> <span class="pre">Factor</span></code>.</p>
</li>
<li><p class="first">Изменения API.</p>
<blockquote>
<div><p>Следующие методы объявлены устаревшими и будут удалены в последующих релизах: <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.is_camera">is_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.is_mesh">is_mesh</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html#.is_armature">is_armature</a>.</p>
<p>Вместо них следует использовать соответствующие методы модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html">objects</a>: <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_camera">is_camera</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_mesh">is_mesh</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_armature">is_armature</a>.</p>
<p>Также добавлены новые методы: <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_speaker">is_speaker</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_lamp">is_lamp</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.is_empty">is_empty</a>.</p>
<p>Метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_by_dupli_name_list">get_object_by_dupli_name_list</a> теперь возвращает <code class="docutils literal"><span class="pre">null</span></code>, если параметр <code class="docutils literal"><span class="pre">name_list</span></code> неточно задан. Добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_name_hierarchy">get_object_name_hierarchy</a> для получения полного списка имен с учетом дуплицирования объектов; возвращаемое этой функцией значение будет валидным параметром для функции <code class="docutils literal"><span class="pre">get_object_by_dupli_name_list</span></code>.</p>
<p>В методе <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.set_debug_params">set_debug_params</a> параметр <code class="docutils literal"><span class="pre">wireframe_mode</span></code>, ранее бывший строковым, теперь должен быть одной из констант: <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_NONE">WM_NONE</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_OPAQUE_WIREFRAME">WM_OPAQUE_WIREFRAME</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_TRANSPARENT_WIREFRAME">WM_TRANSPARENT_WIREFRAME</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_FRONT_BACK_VIEW">WM_FRONT_BACK_VIEW</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html#.WM_DEBUG_SPHERES">WM_DEBUG_SPHERES</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменено поведение NLA-анимации для динамически загружаемых сцен.</p>
<blockquote>
<div><p>Если на таких сценах присутствуют объекты с NLA-анимацией, то теперь они подчиняются настройкам NLA главной сцены. Ранее такая анимация не поддерживалась.</p>
</div></blockquote>
</li>
<li><p class="first">Продолжен рефакторинг внутренней структуры объектов, начатый в предыдущем релизе.</p>
</li>
<li><p class="first">Добавлена ошибка экспорта.</p>
<blockquote>
<div><p>Теперь при использовании объекта, с типом отличным от &#8220;Mesh&#8221;, в качестве частицы типа &#8220;Hair&#8221;, будет возникать <a class="reference internal" href="addon.html#export-errors-warnings"><span>некритическая ошибка экспорта</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">В исходные файлы дистрибутива добавлена информация о лицензировании.</p>
</li>
<li><p class="first">Теперь при экспорте сцены слоты с картами окружения (Environment Map) содержащими видеотекстуры не экспортируются.</p>
<blockquote>
<div><p>Добавлена <a class="reference internal" href="addon.html#export-errors-warnings"><span>некритическая ошибка экспорта</span></a>, говорящая о невозможности использования видео в качестве карты окружения.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id68">
<h3>Исправления<a class="headerlink" href="#id68" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Опция <code class="docutils literal"><span class="pre">Render</span> <span class="pre">Above</span> <span class="pre">All</span></code> теперь корректно отображается на нодовых материалах.</p>
</li>
<li><p class="first">Исправлена функция <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.remove_object">remove_object()</a>, некорректно очищавшая массив объектов.</p>
</li>
<li><p class="first">Улучшена стабильность работы частиц типа &#8220;Hair&#8221;.</p>
<blockquote>
<div><p>Исправлена ошибка, возникающая при использовании объекта с модификатором в качестве частицы типа &#8220;Hair&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшена поддержка Windows Phone.</p>
</li>
<li><p class="first">Исправлена ошибка, возникающая при копировании физических объектов.</p>
</li>
<li><p class="first">Исправлена ошибка реализации текстурных координат типа <code class="docutils literal"><span class="pre">Orco</span></code> в случае, когда объект имеет нулевой размер по какой-либо из осей координат.</p>
</li>
<li><p class="first">Исправлена ошибка движка, когда в системе частиц в качестве частицы был выбран объект, имеющий физические настройки.</p>
</li>
<li><p class="first">Исправлена ошибка, при которой NLA-анимация могла начинаться не с нулевого кадра.</p>
</li>
<li><p class="first">Исправлено поведение ноды <code class="docutils literal"><span class="pre">Lamp</span> <span class="pre">Data</span></code>: ранее могла не обновляться информация об источниках освещения в процессе загрузки сцены.</p>
</li>
<li><p class="first">Исправлена ошибка расчета выхода <code class="docutils literal"><span class="pre">Normal</span></code> в ноде <code class="docutils literal"><span class="pre">Geometry</span></code> для задней поверхности полигона.</p>
</li>
<li><p class="first">Исправлена ошибка расчета выхода <code class="docutils literal"><span class="pre">Orco</span></code> в ноде <code class="docutils literal"><span class="pre">Geometry</span></code>, появляющаяся при смещении меша относительно его центра в Blender&#8217;е.</p>
</li>
<li><p class="first">Поправлен расчет конечного кадра NLA-анимации для видеотекстур.</p>
</li>
<li><p class="first">Исправлена ошибка движка, связанная с выставлением различных комбинаций настроек выделения (selection) и подсвечивания (outlining) объектов.</p>
</li>
<li><p class="first">Улучшена стабильность эффекта <code class="docutils literal"><span class="pre">Wind</span> <span class="pre">bending</span></code>.</p>
</li>
<li><p class="first">Исправлены ошибки рендеринга <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code> материалов.</p>
</li>
<li><p class="first">Исправлен перенос текстуры спекуляра (Specular Map) при наследования материала.</p>
</li>
<li><p class="first">Исправлена ошибка связанная с источниками освещения в приложениях с несколькими сценами.</p>
</li>
</ul>
</div>
<div class="section" id="id69">
<h3>Известные проблемы<a class="headerlink" href="#id69" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Драйверы NVIDIA версии 331 в Linux могут приводить к программным ошибкам WebGL.</p>
</li>
<li><p class="first">Изменение фильтрации текстур на некоторых устройствах.</p>
<blockquote>
<div><p>При использовании <em>iPad</em> или браузера <em>Internet Explorer</em> отключена некорректная фильтрация текстур, которые используются материалами с типом прозрачности <em>Alpha Clip</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Некоторые устройства, использующие GPU Mali, требуют принудительного включения WebGL в настройках браузера.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-08">
<h2>v15.08<a class="headerlink" href="#v15-08" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id70">
<h3>Новый функционал<a class="headerlink" href="#id70" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Нодовый редактор логики.</p>
<blockquote>
<div><p>Нодовый редактор логики позволяет добавлять интерактивность в приложение в более удобной для восприятия форме. Использовавшийся ранее для этих целей слотовый инструмент NLA Script удалён, при этом старые скрипты, созданные при помощи NLA Script, автоматически конвертируются в новый формат при открытии blend-файла.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка различных моделей освещения для нод <code class="docutils literal"><span class="pre">MATERIAL</span></code> и <code class="docutils literal"><span class="pre">MATERIAL_EXT</span></code>.</p>
<blockquote>
<div><p>Теперь модель диффузного и спекулярного освещения для каждой ноды будет соответствовать настройкам выбранного в ней материала, в то время как раньше тип освещения был одинаков для всех и соответствовал настройкам самого нодового материала, содержащего данные ноды. Данное нововведение позволяет осуществлять смешивание различных стековых материалов (за исключением текстурированных) в составе нодового.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в API для перемещения объектов.</p>
<blockquote>
<div><p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html">transform</a> были добавлены новые методы для перемещения объектов относительно родительских: <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_translation_rel">set_translation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_translation_rel_v">set_translation_rel_v()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_translation_rel">get_translation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_rotation_rel">set_rotation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_rotation_rel_v">set_rotation_rel_v()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_rotation_rel">get_rotation_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_scale_rel">set_scale_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_scale_rel">get_scale_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.set_tsr_rel">set_tsr_rel()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.get_tsr_rel">get_tsr_rel()</a>.</p>
<p>Методы без префикса <code class="docutils literal"><span class="pre">_rel</span></code> теперь служат исключительно для перемещения объектов в мировой системе координат, независимо от того, являются ли они дочерними по отношению к родительским объектам или нет.</p>
<p>Также были добавлены методы для осуществления локальных поворотов относительно выбранных осей: <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.rotate_x_local">rotate_x_local()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.rotate_y_local">rotate_y_local()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-transform.html#.rotate_z_local">rotate_z_local()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшена поддержка ОС Windows.</p>
<blockquote>
<div><p>Добавлена поддержка <a class="reference internal" href="developers.html#converter"><span>конвертера ресурсов</span></a> для ОС Windows. Теперь пользователи этой операционной системы смогут создавать кросс-браузерные приложения, использующие медиаресурсы. Также была добавлена поддержка Windows в <a class="reference internal" href="developers.html#app-building"><span>сборщике приложений</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка работы движка в браузере Microsoft Edge.</p>
</li>
<li><p class="first">Поддержка симуляции физики в основном потоке выполнения.</p>
<blockquote>
<div><p>Данная функция служит для устранения больших задержек расчёта физики в браузерах мобильных устройств. Ранее симуляция физики всегда производилась в отдельных Worker-процессах. Функция управляется параметром инициализации движка <code class="docutils literal"><span class="pre">physics_use_workers</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена возможность пересчета ограничивающих поверхностей (bounding box).</p>
<blockquote>
<div><p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html">objects</a> добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.update_boundings">update_boundings()</a>, осуществляющий пересчет ограничивающих поверхностей (параллелепипед, сфера, эллипсоид, цилиндр, конус, капсула).</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в документации.</p>
<blockquote>
<div><p>Выбрана новая тема оформления документации, что позволило существенно улучшить её читаемость на экранах, имеющих различные разрешения.</p>
<p>Существенно расширена и дополнена документация <a class="reference internal" href="developers.html#developers"><span>для разработчиков приложений</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый функционал в модуле <em>camera_anim</em>.</p>
<blockquote>
<div><p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html">camera_anim</a> были добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.stop_cam_moving">stop_cam_moving()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.stop_cam_rotating">stop_cam_rotating()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена проверка бинарной совместимости.</p>
<blockquote>
<div><p>Теперь проверяется совместимость .bin-файла с .json-файлом и текущей версией движка.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id71">
<h3>Изменения<a class="headerlink" href="#id71" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Изменения в интерфейсе редактора материалов.</p>
<blockquote>
<div><p>Шейдерные ноды Blend4Web перенесены из <code class="docutils literal"><span class="pre">Group</span></code> в новый пункт <code class="docutils literal"><span class="pre">Blend4Web</span></code>. Исправлена ошибка, связанная с их дублированием в интерфейсе.</p>
</div></blockquote>
</li>
<li><p class="first">Рефакторинг объектов.</p>
<blockquote>
<div><p>Начат рефакторинг представления объектов Blender&#8217;а в движке. Объекты теперь будут более строго типизированными, а также будут избавлены от лишних данных, что в итоге приведет к повышению производительности движка.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения API.</p>
<blockquote>
<div><p>Следующие методы объявлены устаревшими и будут удалены в последующих релизах: <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_object_dg_parent">get_object_dg_parent()</a> (модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes</a>), <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html#.get_parent">get_parent()</a> (модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">constraints</a>). Вместо них теперь следует использовать методы модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html">objects</a>: <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_parent">get_parent()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-objects.html#.get_dg_parent">get_dg_parent()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшено взаимодействие с сервером нескольких открытых одновременно экземпляров Blender&#8217;а.</p>
</li>
</ul>
</div>
<div class="section" id="id72">
<h3>Исправления<a class="headerlink" href="#id72" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">В утилите <em>project.py</em> исправлена ошибка компиляции проекта во внешнюю директорию.</p>
</li>
<li><p class="first">Устранена ошибка работы локального сервера, возникающая на ОС Windows при наличии поврежденной записи в реестре.</p>
</li>
<li><p class="first">Устранена проблема зависания экспорта при наличии поврежденных данных в .blend-файле.</p>
</li>
<li><p class="first">Исправлен экспорт метаобъектов. Теперь больше не выводятся сообщения о неуниформном масштабе объекта.</p>
</li>
<li><p class="first">Исправлена ошибка режима <code class="docutils literal"><span class="pre">Auto</span> <span class="pre">View</span></code> в приложении <code class="docutils literal"><span class="pre">Viewer</span></code> при наличии пустой категории сцен.</p>
</li>
<li><p class="first">Исправлена ошибка рендеринга динамически загруженных материалов, имеющих одинаковое имя.</p>
</li>
<li><p class="first">Исправлена ошибка экспорта при наличии в сцене констрейнта <code class="docutils literal"><span class="pre">Copy</span> <span class="pre">Transforms</span></code>.</p>
</li>
<li><p class="first">Исправлена ошибка, возникающая при использовании depth-текстур, в браузере Microsoft Edge.</p>
</li>
<li><p class="first">Исправлен баг, связанный с отсутствием отклика при использовании touch-скрина на некоторых устройствах в браузере Microsoft Edge.</p>
</li>
</ul>
</div>
<div class="section" id="id73">
<h3>Известные проблемы<a class="headerlink" href="#id73" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">В редакторе логики при зацикливании нод часть соединений подкрашиваются красным цветом. Данный дефект никак не сказывается на работе инструмента и может быть проигнорирован.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-07">
<h2>v15.07<a class="headerlink" href="#v15-07" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id74">
<h3>Новый функционал<a class="headerlink" href="#id74" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Реализована поддержка типа прозрачности <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code> для нодового материала.</p>
<blockquote>
<div><p>Теперь маска прозрачности на материале <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Clip</span></code>  может быть задана процедурным образом, используя логику нодовых блоков.</p>
</div></blockquote>
</li>
<li><p class="first">Реализован эффект мягких частиц.</p>
<blockquote>
<div><p>Системы частиц типа <code class="docutils literal"><span class="pre">Emitter</span></code> получили новое свойство <code class="docutils literal"><span class="pre">Soft</span> <span class="pre">Particles</span></code>, находящееся на панели <code class="docutils literal"><span class="pre">Render</span></code>. При его включении частицы сглаживают края вблизи непрозрачных объектов. Данный эффект работает только для материалов с прозрачностью типа <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Sort</span></code>, <code class="docutils literal"><span class="pre">Alpha</span> <span class="pre">Blend</span></code> или <code class="docutils literal"><span class="pre">Add</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Новый препроцессор шейдерных инструкций.</p>
<blockquote>
<div><p>Новый препроцессор имеет более простую структуру и обладает лучшей производительностью, что приводит к уменьшению общего времени загрузки сцены, особенно при использовании множества различных шейдеров.</p>
</div></blockquote>
</li>
<li><p class="first">Существенно улучшена производительность приложения <em>Viewer</em>.</p>
<blockquote>
<div><p>Устранены проблемы, приводящие к замедлению работы просмотрщика, связанные с обработкой событий в библиотеке jQuery Mobile.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена возможность выбора нулевого уровня для камеры типа <em>HOVER</em>.</p>
<blockquote>
<div><p>Данный параметр представляет собой Z-координату опорной плоскости, в которой лежит точка вращения камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Новый тип множества сенсоров (Sensor Manifold) - <code class="docutils literal"><span class="pre">CT_CHANGE</span></code></p>
<blockquote>
<div><p>Наряду с типами <code class="docutils literal"><span class="pre">CT_CONTINOUS</span></code>, <code class="docutils literal"><span class="pre">CT_TRIGGER</span></code>, <code class="docutils literal"><span class="pre">CT_SHOT</span></code> и <code class="docutils literal"><span class="pre">CT_LEVEL</span></code> появился новый тип множества <code class="docutils literal"><span class="pre">CT_CHANGE</span></code>, который предполагает вызов обработчика событий при любом изменении значений сенсоров, составляющих данное множество.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый функционал в модуле <em>camera_anim</em>.</p>
<blockquote>
<div><p>В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html">camera_anim</a> были добавлены методы <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.move_camera_to_point">move_camera_to_point()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.rotate_camera">rotate_camera()</a>, <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.is_moving">is_moving()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera_anim.html#.is_rotating">is_rotating()</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Реализована поддержка возможности привязки материалов к объектам.</p>
<blockquote>
<div><p>Ранее при назначении пользователя материала <code class="docutils literal"><span class="pre">Object</span></code> возникала ошибка движка. Теперь данная ситуация корректно обрабатывается.</p>
</div></blockquote>
</li>
<li><p class="first">Реализована возможность обработки внешних запросов для локального сервера разработчика.</p>
<blockquote>
<div><p>Для включения этого функционала необходимо в настройках аддона проставить свойство <em>Enable external requests</em>.</p>
</div></blockquote>
</li>
<li><p class="first">В модуле <a class="reference external" href="https://www.blend4web.com/api_doc/module-time.html">time</a> был добавлен метод <a class="reference external" href="https://www.blend4web.com/api_doc/module-time.html#.clear_animation">clear_animation()</a>.</p>
</li>
<li><p class="first">Новые методы API камеры.</p>
<blockquote>
<div><p>API модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera</a> расширено методами <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.get_vertical_limits">get_vertical_limits()</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html#.has_vertical_limits">has_vertical_limits()</a> для получения и проверки наличия вертикальных лимитов поворота и перемещения.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшения в документации.</p>
<blockquote>
<div><p>Новый дизайн документации, оптимизированный для всех видов устройств.</p>
<p>Добавлено описание различий систем координат Blender&#8217;а и Blend4Web.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка мультиязычности аддона.</p>
<blockquote>
<div><p>Это позволит перевести аддон на различные языки. Был осуществлен частичный перевод аддона на русский язык.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id75">
<h3>Изменения<a class="headerlink" href="#id75" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Многочисленные изменения в интерфейсе аддона, нацеленные на повышение удобства использования.</p>
</li>
<li><p class="first">Новая опция <code class="docutils literal"><span class="pre">force_container_ratio</span></code> при инициализации приложения (в методе <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.init">init()</a>).</p>
</li>
<li><p class="first">Упрощенное включение каустики на воде.</p>
<blockquote>
<div><p>Каустика на воде теперь подключается с помощью флага <code class="docutils literal"><span class="pre">Caustics</span></code> на панели материала <code class="docutils literal"><span class="pre">Water</span></code>. Текстуры типа <code class="docutils literal"><span class="pre">Voronoi</span></code>, использовавшиеся для этого ранее, не поддерживаются.</p>
</div></blockquote>
</li>
<li><p class="first">Новый способ расчёта сенсоров, связанных с движением мыши.</p>
<blockquote>
<div><p>Теперь любые элементы, входящие в контейнер элемента Canvas (например якори), не блокируют обработку событий мыши, что позволяет избежать задержек при движении камеры.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлена возможность изменения качества отражений.</p>
<blockquote>
<div><p>Теперь при использовании отражений имеется возможность выбрать одну из трех степеней качества: <code class="docutils literal"><span class="pre">LOW</span></code>, <code class="docutils literal"><span class="pre">MEDIUM</span></code> или <code class="docutils literal"><span class="pre">HIGH</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">В утилиту <em>project.py</em> добавлены новые свойства <code class="docutils literal"><span class="pre">--project</span></code> и <code class="docutils literal"><span class="pre">--app</span></code>.</p>
</li>
<li><p class="first">Новые API анимации.</p>
<blockquote>
<div><p>Добавлены функции <a class="reference external" href="https://www.blend4web.com/api_doc/module-animation.html#.set_first_frame">set_first_frame()</a>/<a class="reference external" href="https://www.blend4web.com/api_doc/module-animation.html#.set_last_frame">set_last_frame()</a>, упрощающие выставление текущего кадра на начало и конец анимации.</p>
</div></blockquote>
</li>
<li><p class="first">Изменено поведение плоских отражений.</p>
<blockquote>
<div><p>Теперь в случае, когда в поле <code class="docutils literal"><span class="pre">Reflection</span> <span class="pre">Plane</span></code> не указана нормаль к плоскости отражения, больше не возникает ошибка экспорта. По умолчанию берется локальная ось Z объекта.</p>
</div></blockquote>
</li>
<li><p class="first">Изменено поведение SSAO.</p>
<blockquote>
<div><p>Теперь для использования эффекта постобработки SSAO объекту больше не надо быть генератором тени. Достаточно ее принимать.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения настроек параметров анизотропной фильтрации текстуры.</p>
<blockquote>
<div><p>Теперь в настройках анизотропной фильтрации текстуры присутствует значение <code class="docutils literal"><span class="pre">Default</span></code>. Выбор этого значения приводит к использованию настроек анизотропной фильтрации со сцены. Для отключения анизотропной фильтрации текстур следует отключить анизотропную фильтрацию для сцены.</p>
</div></blockquote>
</li>
<li><p class="first">Поведение прозрачности для спекулярной модели шейдинга соответствует Blender&#8217;у.</p>
</li>
<li><p class="first">Размер маски и группы, назначаемых на материалах, участвующих в расчёте физики, увеличен с 8 до 16.</p>
</li>
<li><p class="first">Теперь в версии движка для разработчиков шейдеры загружаются асинхронно.</p>
</li>
<li><p class="first">Удаление модуля <em>shaders</em>.</p>
<blockquote>
<div><p>Функции этого модуля теперь доступны из модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a>.</p>
</div></blockquote>
</li>
<li><p class="first">Cкрипт упрощенной пакетной обработки экспортированных json и html файлов.</p>
<blockquote>
<div><p>Скрипты <em>reexporter.py</em> и <em>resaver.py</em> были объединены в один скрипт <em>process_blend.py</em>, который может вызываться с соответствующими флагами для обработки json и html файлов.</p>
</div></blockquote>
</li>
<li><p class="first">Мелкие улучшения и исправления в документации разработчика.</p>
</li>
</ul>
</div>
<div class="section" id="id76">
<h3>Исправления<a class="headerlink" href="#id76" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлена ошибка неправильных размеров элемента Canvas на начальном этапе загрузки.</p>
</li>
<li><p class="first">Исправлен баг освещения, когда у объекта выставлен отрицательный <code class="docutils literal"><span class="pre">Scale</span></code>.</p>
<blockquote>
<div><p>Добавлена обработка этой ситуации с выводом сообщения в консоль.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлена ошибка применения вертексной анимации к объекту.</p>
</li>
<li><p class="first">Исправлена ошибка анимации при её обратном воспроизведении.</p>
</li>
<li><p class="first">Исправлена ошибка с некорректным состоянием сенсоров типа <em>Collision</em> и <em>Ray</em> после удаления объектов со сцены.</p>
</li>
<li><p class="first">Корректная обработка <em>Environment</em> текстур имеющих размер, превышающий максимально поддерживаемый на данной конфигурации.</p>
<blockquote>
<div><p>Теперь подобные текстуры не отключаются, а отрисовываются со сниженным разрешением. Для видеокарт серии NVIDIA GeForce 8000 на Windows Chrome искусственно снижается разрешение.</p>
</div></blockquote>
</li>
<li><p class="first">Динамически загруженные сцены больше не выдают сообщения об отсутствующей камере или мире.</p>
</li>
<li><p class="first">Исправлена ошибка аддона при старте, проявлявшаяся при отсутствии мира на сцене.</p>
</li>
<li><p class="first">Исправлен баг в приложении <code class="docutils literal"><span class="pre">Webplayer</span></code>, когда была недоступна кнопка включения/отключения звука на некоторых сценах.</p>
</li>
<li><p class="first">Исправлен баг, возникающий при использовании <em>motion blur</em>, без использования других эффектов постобработки.</p>
</li>
<li><p class="first">Исправлена работа метода <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html#.get_material_extended_params">get_material_extended_params()</a> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material</a>.</p>
</li>
<li><p class="first">Исправлено падение Firefox Mobile при использовании теней, улучшена стабильность работы браузера.</p>
</li>
<li><p class="first">Улучшена стабильность реэкспортера.</p>
</li>
</ul>
</div>
<div class="section" id="id77">
<h3>Известные проблемы<a class="headerlink" href="#id77" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Драйверы NVIDIA версии 331 в Linux могут приводить к программным ошибкам WebGL.</p>
</li>
<li><p class="first">Версии Google Chrome 43.x под Android имеют <a class="reference external" href="https://code.google.com/p/chromium/issues/detail?id=485482">баг с рендерингом видео-текстур</a>.</p>
<blockquote>
<div><p>Баг уже исправлен в бета-версии и должен исчезнуть с будущими обновлениями браузера.</p>
</div></blockquote>
</li>
<li><p class="first">Проблемы с использованием источников звука типа <code class="docutils literal"><span class="pre">Background</span> <span class="pre">Music</span></code> при экспорте в HTML.</p>
<blockquote>
<div><p>В настоящее время в браузере Google Chrome имеется баг (<a class="reference external" href="https://code.google.com/p/chromium/issues/detail?id=511251&amp;thanks=511251&amp;ts=1437144961">Issue 511251</a>), при котором возникает ошибка с источником аудиофайла. Во избежание проблем с воспроизведением аудиозаписи, при использовании этого браузера на аудиофайл навешивается атрибут <em>crossOrigin</em>.</p>
</div></blockquote>
</li>
<li><p class="first">Изменение фильтрации текстур на некоторых устройствах.</p>
<blockquote>
<div><p>При использовании <em>iPad</em> или браузера <em>Internet Explorer</em> отключена некорректная фильтрация текстур, которые используются материалами с типом прозрачности <em>Alpha Clip</em>.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-06">
<h2>v15.06<a class="headerlink" href="#v15-06" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id78">
<h3>Новый функционал<a class="headerlink" href="#id78" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Новый интерфейс аддона.</p>
<blockquote>
<div><p>Интерфейс аддона был полностью переработан, для чего был создан специализированный профиль <cite>Blend4Web</cite>, при переключении в который все панели содержат только те опции, которые поддерживаются движком. Кроме того, на смену многострочным панелям Blend4Web пришли небольшие тематические разделы, в которых значительно проще ориентироваться.</p>
<p>Кроме того, реализована возможность автоматически определять необходимость включения эффектов, настраиваемых на сцене. В частности, тени, эффекты преломления, эффекты свечения <cite>Glow</cite> и <cite>Outline</cite> в настройках рендера имеют опцию <cite>AUTO</cite>, позволяющую автоматически активировать их при наличии на сцене соответствующих объектов и материалов.</p>
</div></blockquote>
</li>
<li><p class="first">Новый редактор нормалей.</p>
<blockquote>
<div><p>Редактор нормалей был полностью переработан. Теперь он совместим с нативным хранилищем редактируемых нормалей Blender. Редактор имеет более удобный интерфейс пользователя, а также позволяет редактировать раздельные (split) нормали.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка новых нод.</p>
<blockquote>
<div><p>Были поддержаны недостающие выходы ноды <cite>Geometry</cite>: <code class="docutils literal"><span class="pre">Orco</span></code> и <code class="docutils literal"><span class="pre">Local</span></code>. Начата работа по поддержке нод <cite>RGB Curves</cite>, <cite>Vector Curves</cite>, <cite>ColorRamp</cite>, а также всех нод движка Cycles.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка новых моделей шейдинга.</p>
<blockquote>
<div><p>Были поддержаны модели <cite>Minnaert</cite> и <cite>Toon</cite> для диффузного шейдинга и <cite>Blinn</cite> для спекулярного. Таким образом, начиная с этого релиза движком поддерживаются все без исключения модели шейдинга Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка Blender 2.75.</p>
</li>
<li><p class="first">Улучшения в физической подсистеме.</p>
<blockquote>
<div><p>Переработан код определения столкновений. Теперь имеется возможность определить объекты, участвующие в столкновениях, а также позицию и нормаль точки контакта.</p>
<p>В системе трассировки лучей расширены возможности API, в частности, возможно указание опции автоматической очистки связанного в трассировкой объекта (теста), а также функция трассировки через несколько объектов, расположенных один за другим. Как и в случае с API для определения столкновений, теперь возможно определить позицию и нормаль точки контакта. Сама трассировка лучей может производится от точки до точки в глобальном пространстве, без участия вспомогательных объектов-источников.</p>
<p>Расширены возможности физических сенсоров <cite>Collision</cite> и <cite>Ray</cite>.</p>
<p>Реализована возможность удаления физических объектов со сцены, а также пересчёт тестов столкновений и трассировки лучей после добавления или удаления физических объектов.</p>
</div></blockquote>
</li>
<li><p class="first">Инструмент для автоматического переэкспорта множества сцен.</p>
<blockquote>
<div><p>В аддон добавлен инструмент <cite>Mass Reexporter</cite>, позволяющий осуществить автоматический переэкспорт сцен из указанного списка директорий.</p>
</div></blockquote>
</li>
<li><p class="first">Возможность автоматической проверки обновлений.</p>
<blockquote>
<div><p>Автоматическая проверка новой версии Blend4Web будет осуществляться при включенном флажке <code class="docutils literal"><span class="pre">Check</span> <span class="pre">for</span> <span class="pre">Updates</span> <span class="pre">on</span> <span class="pre">Startup</span></code> в настройках аддона.</p>
</div></blockquote>
</li>
<li><p class="first">API для управления параметрами эффекта постобработки <em>Motion Blur</em>.</p>
<blockquote>
<div><p>В модуле <code class="docutils literal"><span class="pre">scenes.js</span></code> были добавлены функции <code class="docutils literal"><span class="pre">get_mb_params()</span></code> и <code class="docutils literal"><span class="pre">set_mb_params()</span></code> для управления эффектом <cite>Motion Blur</cite>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка Timeline-маркеров.</em></p>
<blockquote>
<div><p>В модуль <code class="docutils literal"><span class="pre">scenes.js</span></code> была добавлена функция <code class="docutils literal"><span class="pre">marker_frame()</span></code>, которая возвращает значение кадра в маркере, расположенном на шкале времени Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Добавлен новый функционал в модуле <code class="docutils literal"><span class="pre">nla.js</span></code>.</p>
<blockquote>
<div><p>В модуле <code class="docutils literal"><span class="pre">nla.js</span></code> были добавлены функции <code class="docutils literal"><span class="pre">set_range()</span></code>, <code class="docutils literal"><span class="pre">reset_range()</span></code>, <code class="docutils literal"><span class="pre">set_cyclic()</span></code> и <code class="docutils literal"><span class="pre">clear_callback()</span></code>. Так же появилась возможность передать callback в функцию <code class="docutils literal"><span class="pre">play()</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Появилось API для изменения разрешения Canvas&#8217;a.</em></p>
<blockquote>
<div><p>Для изменения разрешения элемента Canvas достаточно вызвать функцию <code class="docutils literal"><span class="pre">set()</span></code> из модуля <code class="docutils literal"><span class="pre">config.js</span></code>, в которую необходимо передать параметры <code class="docutils literal"><span class="pre">canvas_resolution_factor</span></code> и <code class="docutils literal"><span class="pre">value</span></code>, где <code class="docutils literal"><span class="pre">value</span></code> - новое значения фактора разрешения Canvas&#8217;a. Данный функционал удобно использовать, когда требуется повышенное разрешение скриншота.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка опции <code class="docutils literal"><span class="pre">Vertex</span> <span class="pre">Groups</span> <span class="pre">-&gt;</span> <span class="pre">Length</span></code> для системы частиц типа <em>Hair</em>.</p>
</li>
<li><p class="first">Новый формат документации разработчика.</p>
<blockquote>
<div><p>Разработана новая система формальных типов данных, используемых в целях документирования. Например, если раньше трёхмерный вектор имел в документации тип <code class="docutils literal"><span class="pre">Float32Array</span></code>, теперь он имеет формальный тип <code class="docutils literal"><span class="pre">Vec3</span></code>, унаследованный от <code class="docutils literal"><span class="pre">Float32Array</span></code>. Данное нововведение позволяет более точно описывать используемые в движке типы, что позволяет создавать более надёжный и качественный код приложений.</p>
</div></blockquote>
</li>
<li><p class="first">Новые API для работы с цветом.</p>
<blockquote>
<div><p>Для работы с цветом реализованы два новых модуля: <a class="reference external" href="https://www.blend4web.com/api_doc/module-rgb.html">rgb</a> и <a class="reference external" href="https://www.blend4web.com/api_doc/module-rgba.html">rgba</a>. Они содержат API для создания и конвертации цветов из различных цветовых профилей.</p>
</div></blockquote>
</li>
<li><p class="first">Автоматическое определение пути к SDK в аддоне.</p>
<blockquote>
<div><p>Путь к SDK автоматически заполняется если аддон подключен из директории SDK <cite>blender_scripts</cite>.</p>
</div></blockquote>
</li>
<li><p class="first">API для корректного расчета 2D-координат над Canvas&#8217;ом.</p>
<blockquote>
<div><p>При работе с позицией курсора или точкой касания на touch-устройстве движку требуются корректно рассчитанные координаты над Canvas-элементом.</p>
<p>Тонкости расчета и случаи, когда их необходимо учесть, описаны в соответствующем <a class="reference internal" href="developers.html#non-standard-canvas-pos"><span>разделе</span></a> документации.</p>
<p>В связи с этим в модуле <code class="docutils literal"><span class="pre">container.js</span></code> добавлены методы <code class="docutils literal"><span class="pre">client_to_canvas_coords()</span></code>, <code class="docutils literal"><span class="pre">set_canvas_offsets()</span></code>, <code class="docutils literal"><span class="pre">update_canvas_offsets()</span></code> и <code class="docutils literal"><span class="pre">force_offsets_updating()</span></code>. Также добавлена настройка конфигурации приложения <code class="docutils literal"><span class="pre">track_container_position</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">API для изменения плавности движения камеры.</p>
<blockquote>
<div><p>В аддоне <code class="docutils literal"><span class="pre">mouse.js</span></code> добавлены методы <code class="docutils literal"><span class="pre">set_plock_smooth_factor()</span></code> и <code class="docutils literal"><span class="pre">get_plock_smooth_factor()</span></code>, позволяющие управлять плавностью движения камеры при использовании режима Pointer Lock. При отсутствии этого режима можно воспользоваться аналогичными методами <code class="docutils literal"><span class="pre">set_camera_smooth_factor()</span></code> и <code class="docutils literal"><span class="pre">get_camera_smooth_factor()</span></code> аддона <code class="docutils literal"><span class="pre">app.js</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка иконки favicon в просмотрщике Webplayer.</p>
</li>
</ul>
</div>
<div class="section" id="id79">
<h3>Изменения<a class="headerlink" href="#id79" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Новый формат API для определения столкновений и трассировки лучей.</p>
<blockquote>
<div><p>Функции <code class="docutils literal"><span class="pre">append_collision_test()</span></code> и <code class="docutils literal"><span class="pre">append_ray_test()</span></code>, а также <code class="docutils literal"><span class="pre">create_collision_sensor()</span></code> и <code class="docutils literal"><span class="pre">create_ray_sensor()</span></code> имеют новый формат вызова, несовместимый с предыдущими версиями движка. Разработчикам настоятельно рекомендуется ознакомится с новыми API и внести соответствующие правки в приложения.</p>
</div></blockquote>
</li>
<li><p class="first">Изменения рендеринга сцен в текстуру.</p>
<blockquote>
<div><p>Теперь доступен циклический рендеринг сцен в текстуру, например, когда две сцены рендерят друг друга. Основным условием является то, что имеется хотя бы одна основная сцена, которую никто не рендерит.</p>
</div></blockquote>
</li>
<li><p class="first">Отключение опции <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Default</span> <span class="pre">Animation</span></code> при наличии нелинейной анимации у объекта.</p>
<blockquote>
<div><p>В случае использования объектом нелинейной анимации, на объекте отключается опция <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">Default</span> <span class="pre">Animation</span></code>, которая приводила к конфликту с другими типами анимации.</p>
</div></blockquote>
</li>
<li><p class="first">Изменение поведения лампы типа <em>Hemi</em>.</p>
<blockquote>
<div><p>В случае использования лампы типа <em>Hemi</em>, для объектов будет использоваться шейдинговая модель <em>Lambert</em>, что соответствует поведению Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка экспорта в HTML-формат для видеотекстур в Firefox.</p>
<blockquote>
<div><p>Поскольку в Firefox, начиная с 38.0 версии, устранена ошибка, связанная с видеофайлами, записанными в base64, видеотекстуры больше не будут отключаться при экспорте в HTML.</p>
</div></blockquote>
</li>
<li><p class="first">Использование UV-слоев в движке приближено к поведению Blender.</p>
<blockquote>
<div><p>При отсутствии явно указанных UV-слоёв в нодовом материале, они определяются автоматически, в соответствии с поведением Blender.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшена стабильность видеотекстуры при HTML-экспорте.</p>
</li>
<li><p class="first">Оптимизация рендеринга теней при использовании CSM-схемы.</p>
</li>
<li><p class="first">Оптимизация этапа рендеринга глубины в шейдерном конвейере.</p>
</li>
<li><p class="first">Оптимизация рендеринга billboard-объектов.</p>
</li>
<li><p class="first">Параметр конфигурации приложения <code class="docutils literal"><span class="pre">resolution_factor</span></code> переименован в <code class="docutils literal"><span class="pre">render_resolution_factor</span></code>.</p>
</li>
<li><p class="first">Улучшена поддержка объекта-эмиттера системы частиц, имеющего несколько материалов.</p>
<blockquote>
<div><p>Распределение частиц по мешу эмиттера, а также <a class="reference internal" href="particles_instancing.html#particles-inheritance"><span>наследование вертексного цвета</span></a> теперь всегда происходит с учетом каждого материала и соответствующей ему части меша.</p>
</div></blockquote>
</li>
<li><p class="first">Изменено наследование свойства <code class="docutils literal"><span class="pre">Wind</span> <span class="pre">Bending</span></code> на системе частиц.</p>
<blockquote>
<div><p>При выставлении данного свойства в положение <code class="docutils literal"><span class="pre">Instance</span></code> у объекта-эмиттера теперь не отключается собственный &#8220;Wind Bending&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first">Обновление сообщений об ошибках несовместимости версий аддона и движка.</p>
<blockquote>
<div><p><a class="reference internal" href="addon.html#version-errors"><span>Описание ошибок</span></a> в документации.</p>
</div></blockquote>
</li>
<li><p class="first">Удалены API sensor locks.</p>
<blockquote>
<div><p>Из модуля <code class="docutils literal"><span class="pre">controls.js</span></code> удалены неиспользуемые API, связанные с блокировкой сенсоров: <cite>sensor locks</cite>.</p>
</div></blockquote>
</li>
<li><p class="first">Поддержка поведения Blender&#8217;a для нодового материала при отсутствии ноды <em>Output</em>.</p>
</li>
</ul>
</div>
<div class="section" id="id80">
<h3>Исправления<a class="headerlink" href="#id80" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Исправлена работа аддона <code class="docutils literal"><span class="pre">screenshooter.js</span></code>.</p>
<blockquote>
<div><p>Была исправлена ошибка, приводящая к невозможности сделать скриншот.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлена работа функции <code class="docutils literal"><span class="pre">set_frame()</span></code> из модуля <code class="docutils literal"><span class="pre">nla.js</span></code>.</p>
<blockquote>
<div><p>Была исправлена погрешность выставления кадров функцией <code class="docutils literal"><span class="pre">set_frame()</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first">Улучшена стабильность экспортера.</p>
</li>
<li><p class="first">Исправлена ошибка удаления/обновления аддона на Windows.</p>
<blockquote>
<div><p>Переработана система загрузки бинарной библиотеки.</p>
</div></blockquote>
</li>
<li><p class="first">Исправлен ошибка освещения от источников типа <em>SPOT</em>/<em>POINT</em>.</p>
</li>
<li><p class="first">Исправлено некорректное определение экранных координат методами <code class="docutils literal"><span class="pre">get_coords_x()</span></code> и <code class="docutils literal"><span class="pre">get_coords_y()</span></code> аддона <code class="docutils literal"><span class="pre">mouse.js</span></code>.</p>
</li>
<li><p class="first">Исправлен расчет alpha-канала у эффекта <em>Outline</em>.</p>
</li>
<li><p class="first">Исправлена ошибка эффекта <em>Wind Bending</em>.</p>
</li>
<li><p class="first">Исправлена ошибка системы частиц, при которой не учитывался <em>Scale</em> самой частицы.</p>
</li>
<li><p class="first">Исправлена ошибка, связанная с нарушением синхронизации анимации системы частиц типа <em>EMITTER</em>.</p>
</li>
<li><p class="first">Исправлен баг наложения теней на billboard-объекты.</p>
</li>
<li><p class="first">Исправлен некорректный экспорт настроек <em>Override Mesh Boundings</em>.</p>
</li>
<li><p class="first">Исправлен баг рендеринга billboard-объектов на iPad.</p>
</li>
</ul>
</div>
<div class="section" id="id81">
<h3>Известные проблемы<a class="headerlink" href="#id81" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first">Драйверы NVIDIA версии 331 в Linux могут приводить к программным ошибкам WebGL.</p>
</li>
<li><p class="first">Версии Google Chrome 43.x под Android имеют <a class="reference external" href="https://code.google.com/p/chromium/issues/detail?id=485482">баг с рендерингом видео-текстур</a>.</p>
<blockquote>
<div><p>Баг уже исправлен в бета-версии и должен исчезнуть с будущими обновлениями браузера.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-05">
<h2>v15.05<a class="headerlink" href="#v15-05" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id83">
<h3>Новый функционал<a class="headerlink" href="#id83" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Эффект свечения (Glow).</em></p>
<blockquote>
<div><p>Реализован <a class="reference internal" href="postprocessing_effects.html#glow"><span>эффект</span></a> возникновения ореола вокруг светящихся объектов, возникающий вследствие рассеивания света в атмосфере и внутри человеческого глаза.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Автоматический запуск локального сервера разработки.</em></p>
<blockquote>
<div><p>В настройках аддона появилась опция, включающая автоматический запуск <a class="reference internal" href="addon.html#local-development-server"><span>локального сервера разработки</span></a> при старте программы Blender. Функционал позволяет запускать разрабатываемые веб-приложения в браузере без проведения какой-либо подготовительной работы.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Кубические отражения</em></p>
<blockquote>
<div><p>Помимо плоских отражений теперь возможно настроить также и кубические отражения. Для этого в настройках объекта при включенном свойстве <code class="docutils literal"><span class="pre">Reflective</span></code> появилась опция <code class="docutils literal"><span class="pre">Reflection</span> <span class="pre">Type</span></code>, где можно выбрать тип отражений <code class="docutils literal"><span class="pre">Cube</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка опций нелинейной анимации.</em></p>
<blockquote>
<div><p>Добавлена поддержка имеющегося в Blender инструментария для манипулирования полосами NLA: <code class="docutils literal"><span class="pre">Scale</span></code> (масштабирование), <code class="docutils literal"><span class="pre">Muted</span></code> (сделать неактивной), <code class="docutils literal"><span class="pre">Reversed</span></code> (проигрывать в обратном направлении) и <code class="docutils literal"><span class="pre">Repeat</span></code> (повторять). Данные опции позволяют существенно расширить инструментарий разработчиков интерактивных сцен.</p>
<p>Кроме того, для управления нелинейной анимацией через API был создан новый модуль <code class="docutils literal"><span class="pre">nla.js</span></code>. В него входят такие методы как <code class="docutils literal"><span class="pre">play()</span></code>, <code class="docutils literal"><span class="pre">stop()</span></code>, <code class="docutils literal"><span class="pre">get_frame()</span></code>, <code class="docutils literal"><span class="pre">set_frame()</span></code>, позволяющие проигрывать и останавливать нелинейную анимацию, а также получать и выставлять текущий кадр. Новые методы были задействованы в приложении Viewer для реализации интерфейса панели управления <code class="docutils literal"><span class="pre">NLA</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Расширение возможностей отображения текстур неба.</em></p>
<blockquote>
<div><p>Добавлена поддержка параметров вкладки <code class="docutils literal"><span class="pre">Influence</span></code> для настройки отображения текстуры неба. К таким параметрам относятся: <code class="docutils literal"><span class="pre">Blend</span></code>, <code class="docutils literal"><span class="pre">Horizon</span></code>, <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Up</span></code>, <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Down</span></code>, <code class="docutils literal"><span class="pre">Blend</span></code>, <code class="docutils literal"><span class="pre">Negative</span></code>, <code class="docutils literal"><span class="pre">RGB</span> <span class="pre">to</span> <span class="pre">Intensity</span></code>, <code class="docutils literal"><span class="pre">DVar</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена обработка соединений входов с выходами разного типа в нодовом материале.</em></p>
<blockquote>
<div><p>Теперь в нодовых материалах разрешено соединять входы одного типа с выходами другого типа в виде <a class="reference internal" href="addon.html#export-errors-warnings"><span>некритической ошибки экспорта</span></a>. В движке для данного случая реализовано поведение аналогичное Blender Internal Render.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена поддержка опций на панели Rotation для системы частиц типа Hair.</em></p>
<blockquote>
<div><p>Теперь положение частиц, заданное в Blender, полностью воспроизводится движком. В частности, теперь поддерживаются не только позиционирование и масштабирование, но и поворот частиц.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлены примеры для демонстрации возможностей постпроцессинговых эффектов.</em></p>
<blockquote>
<div><p>Примеры подготовлены для следующих эффектов: Bloom, Depth of Field, God Rays, Motion Blur и SSAO.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлен новый модуль container.js.</em></p>
<blockquote>
<div><p>С помощью методов модуля <code class="docutils literal"><span class="pre">container.js</span></code> можно добавлять DOM-элементы дерева на определенную глубину относительно <code class="docutils literal"><span class="pre">canvas</span></code> элемента. Для этого используется метод <code class="docutils literal"><span class="pre">insert_to_container()</span></code>. Реализованный метод позволил полностью отказаться от использования CSS-свойства <code class="docutils literal"><span class="pre">z-index</span></code>, поскольку глубина расположения элементов теперь определяется исключительно их позицией в контейнерном элементе.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшения в физическом движке.</em></p>
<blockquote>
<div><p>Добавлена поддержка свойства <code class="docutils literal"><span class="pre">Margin</span></code> для физических объектов и материалов. Данная настройка позволяет улучшить стабильность симуляций столкновений объектов. Физический движок Bullet обновлен до версии 2.83.</p>
</div></blockquote>
</li>
<li><p class="first"><em>API для изменения режима управления камерой.</em></p>
<blockquote>
<div><p>Добавлены методы <a class="reference internal" href="camera.html#camera-move-style-change"><span>изменения режима управления</span></a> камерой. Смену режимов управления демонстрирует пример &#8220;Camera Move Styles&#8221; в приложении <a class="reference internal" href="developers.html#code-snippets"><span>Code Snippets</span></a>. Также в модуль <code class="docutils literal"><span class="pre">camera.js</span></code> добавлен метод <code class="docutils literal"><span class="pre">set_hover_pivot()</span></code>, позволяющий перемещать опорную точку для камеры типа <code class="docutils literal"><span class="pre">HOVER</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id84">
<h3>Изменения<a class="headerlink" href="#id84" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Переработан список сцен из состава SDK.</em></p>
<blockquote>
<div><p>Все сцены в приложении Viewer были рассортированы по группам: <em>App</em> - готовые приложения, <em>Demos</em> - демонстрационные сцены-примеры, <em>Tutorial Exports</em> - исходные файлы уроков.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена подсветка синтаксиса в приложение Code Snippets.</em></p>
<blockquote>
<div><p>Помимо появления подсветки синтаксиса, немного изменился дизайн самого приложения <code class="docutils literal"><span class="pre">Code</span> <span class="pre">Snippets</span></code>, а также улучшена его работа на экранах с низким разрешением.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменено управление видео и canvas-текстурами через API.</em></p>
<blockquote>
<div><p>В методах управления этими текстурами появился параметр data_id, соответствующий номеру динамически загружаемой сцены.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменилось поведение при превышении максимального числа анимационных костей.</em></p>
<blockquote>
<div><p>Теперь при превышении максимального числа костей скелетная анимация отключается. Ранее это приводило к ошибке компиляции шейдера и нарушению работы приложения.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Некоторые свойства систем частиц были переименованы и теперь отключены по умолчанию.</em></p>
<blockquote>
<div><p>В частности, по умолчанию теперь отключены свойства <code class="docutils literal"><span class="pre">Randomize</span> <span class="pre">Location</span> <span class="pre">And</span> <span class="pre">Size</span></code> и <code class="docutils literal"><span class="pre">Randomize</span> <span class="pre">Initial</span> <span class="pre">Rotation</span></code> для систем частиц типа <code class="docutils literal"><span class="pre">Hair</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В некоторых браузерах отключен эффект Допплера для источников звука.</em></p>
<blockquote>
<div><p>Поддержка эффекта Допплера в Web Audio объявлена устаревшей и будет удалена в браузере Chrome начиная с версии 45. В остальных браузерах данный функционал по-прежнему доступен.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменено поведение объектов при наличии одновременно скелетной и вертексной анимации.</em></p>
<blockquote>
<div><p>При наличии у объекта арматурного модификатора и вертексной анимации одновременно, арматурный модификатор экспортироваться не будет.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Оптимизирован рендеринг систем частиц c процедурной анимацией (эффект Wind Bending).</em></p>
</li>
<li><p class="first"><em>Улучшена обработка ошибки загрузки главного json- и bin-файлов сцены.</em></p>
</li>
<li><p class="first"><em>32-разрядный addon для Windows собран без использования кросскомпиляции на нативной системе.</em></p>
<blockquote>
<div><p>Данное нововведение улучшает совместимость аддона с указанными системами.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id85">
<h3>Исправления<a class="headerlink" href="#id85" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Исправлена ошибка, приводящая к установке неправильной высоты элемента с описанием в модуле &#8220;anchors.js&#8221;.</em></p>
</li>
<li><p class="first"><em>Поддержка работы в Epiphany и других браузерах, работающих на движке WebKit.</em></p>
<blockquote>
<div><p>Обеспечена посредством исправления блоков кода, по-разному обрабатывающихся различными движками JavaScript.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Отключено использование жестов для touch-устройств на базе Microsoft Windows при использовании Internet Explorer 11.</em></p>
<blockquote>
<div><p>Раньше использование жестов (Windows Touch Gestures) в данной конфигурации приводило к нежелательному масштабированию и перемещению HTML-элементов. Ожидается, что корректная работа жестов будет обеспечена в будущих версиях браузера.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлена ошибка запекания вертексной анимации при наличии анимационного скелета.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка рендеринга billboard-объектов на iPad.</em></p>
</li>
<li><p class="first"><em>Исправлена NLA анимация нодовых материалов, используемая на нескольких объектах.</em></p>
</li>
<li><p class="first"><em>Исправлен баг эффекта Motion Blur.</em></p>
</li>
</ul>
</div>
<div class="section" id="id86">
<h3>Известные проблемы<a class="headerlink" href="#id86" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-04">
<h2>v15.04<a class="headerlink" href="#v15-04" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id87">
<h3>Новый функционал<a class="headerlink" href="#id87" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Добавлена поддержка ключей деформации (Shape Keys).</em></p>
<blockquote>
<div><p>Была осуществлена поддержка <a class="reference internal" href="meshes.html#mesh-morphing"><span>ключей деформации</span></a> (<a class="reference external" href="http://wiki.blender.org/index.php/Doc:2.6/Manual/Animation/Techs/Shape/Shape_Keys">Shape Keys</a>) в Blender&#8217;e. Для применения ключей в модуль <code class="docutils literal"><span class="pre">geometry.js</span></code> была добавлена функция <code class="docutils literal"><span class="pre">set_shape_key_value</span></code>. Пример использования данного функционала доступен в приложении <a class="reference internal" href="developers.html#code-snippets"><span>Code Snippets</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена поддержка фона с использованием Horizon Color и Zenith Color.</em></p>
<blockquote>
<div><p>Теперь поддерживается настройка фона сцены с использованием <code class="docutils literal"><span class="pre">Horizon</span> <span class="pre">Color</span></code> и <code class="docutils literal"><span class="pre">Zenith</span> <span class="pre">Color</span></code>, а также флагов <code class="docutils literal"><span class="pre">Paper</span> <span class="pre">Sky</span></code>, <code class="docutils literal"><span class="pre">Blend</span> <span class="pre">Sky</span></code> и <code class="docutils literal"><span class="pre">Real</span> <span class="pre">Sky</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена поддержка ноды Gamma.</em></p>
<blockquote>
<div><p>Силами команды Blend4Web в Blender v2.74 была добавлена поддержка ноды Gamma. Теперь эта нода также доступна и в движке.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшения в инструменте для создания подписей Anchors.</em></p>
<blockquote>
<div><p>В настройках в Blender добавлена возможность ограничивать размеры подписей. Реализована поддержка динамической загрузки/выгрузки подписей. Добавлена возможность сокрытия подписей с помощью штатных методов show()/hide() или в инструменте NLA Script.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Оптимизация шейдеров.</em></p>
<blockquote>
<div><p>Улучшение шейдерного компилятора. Добавлен следующий функционал: оптимизация локальных переменных, удаление избыточных фигурных скобок. Улучшение производительности нодовых материалов.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Оптимизации физического движка uranium.js.</em></p>
<blockquote>
<div><p>Модуль с физическим движком загружается только в тех случаях, когда это необходимо. Размер модуля сокращён на 20%.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Расширены инструменты для отладки физики.</em></p>
<blockquote>
<div><p>Добавлен метод <cite>physics_stat()</cite> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-debug.html">debug</a> для вывода статистики о количестве физических объектов (по типам), сложности геометрии и прочей информации. Для визуальной оценки производительности физической симуляции добавлена возможность вывода числа итераций: Physics FPS (активируется в модуле <cite>config</cite>).</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новый API для присоединения объектов к камере независимо от соотношений сторон и углов обзора камеры.</em></p>
<blockquote>
<div><p>Реализуется с помощью метода <cite>append_stiff_viewport()</cite> модуля <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">constraints</a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новый модуль для применения трансформаций &#8220;tsr.js&#8221;.</em></p>
<blockquote>
<div><p>Позволяет применять произвольные трансформации к объектам с помощью универсальных векторов TSR, включающих в себя перемещение, масштабирование и поворот. Данные векторы могут быть использованы в качестве более удобной и эффективной замены матриц.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность игнорирования директорий для конвертера ресурсов.</em></p>
<blockquote>
<div><p>Была добавлена возможность игнорирования директорий для <a class="reference internal" href="developers.html#converter"><span>конвертера ресурсов</span></a>. Для этого надо разместить в этой директории файл с именем <code class="docutils literal"><span class="pre">.b4w_no_conv</span></code>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id88">
<h3>Изменения<a class="headerlink" href="#id88" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Изменен внешний вид документации API движка. Появились ссылки для быстрого перехода к описаниям методов и свойств.</em></p>
</li>
<li><p class="first"><em>Скелетная анимация учитывает взаимное расположение арматуры и объекта.</em></p>
<blockquote>
<div><p>Теперь поддерживается родное поведение Blender. Больше нет необходимости размещать арматуру и анимируемый объект в одной точке и с одинаковым поворотом и масштабом.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Объектная анимация теперь позволяет анимировать независимо перемещение, поворот и масштаб.</em></p>
<blockquote>
<div><p>В объектной анимации теперь нет жесткой простановки ключей на все каналы, что позволяет сохранять изначальные значения в незатронутых каналах или изменять их через API.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Опциональная поддержка фона.</em></p>
<blockquote>
<div><p>Активация фона или неба регулируется опцией <code class="docutils literal"><span class="pre">Sky</span> <span class="pre">Settings</span> <span class="pre">&gt;</span> <span class="pre">Render</span> <span class="pre">Sky</span></code> на вкладке <code class="docutils literal"><span class="pre">World</span></code>. По умолчанию отключено.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Физический движок Uranium теперь состоит из двух модулей.</em></p>
<blockquote>
<div><p>Для работы физики теперь требуется два модуля: код движка uranium.js и файл инициализации памяти uranium.js.mem. Оба модуля должны находится в одной директории.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Эффект Glow и все связанные с ним компоненты движка были переименованы в Outline.</em></p>
<blockquote>
<div><p>Новое имя более ясно описывает суть эффекта: подсвечивание объекта на его границах.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Применение ограничителя движения при помощи функции &#8220;append_semi_stiff_cam&#8221; модуля &#8220;constraints.js&#8221; теперь разрешено только для камер типа &#8220;EYE&#8221;.</em></p>
</li>
<li><p class="first"><em>Добавлена возможность запуска локального сервера разработки непосредственно из Blender.</em></p>
<blockquote>
<div><p>В качестве <a class="reference internal" href="addon.html#local-development-server"><span>локального сервера</span></a> теперь вместо стандартного SimpleHTTPServer на Python используется Tornado Web Server. Новый сервер имеет высокую производительность, а также содержит расширенные настройки для отключения кеширования браузерами.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлено управление слайдерами с помощью клавиатуры в приложении Viewer.</em></p>
<blockquote>
<div><p>Теперь управление слайдером осуществляется при помощи клавиш <code class="docutils literal"><span class="pre">&lt;</span></code> и <code class="docutils literal"><span class="pre">&gt;</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменения в методе &#8220;update_object_animation&#8221; модуля &#8220;animation.js&#8221;.</em></p>
<blockquote>
<div><p>Добавлен необязательный параметр &#8220;force_update&#8221;, заставляющий обновлять состояние анимированного объекта даже при остановленной анимации.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменения API модуля mouse.js.</em></p>
<blockquote>
<div><p>Добавлены методы: <em>enable_mouse_hover_outline</em>, <em>disable_mouse_hover_outline</em>.</p>
<p>Следующие методы объявлены устаревшими и будут удалены в последующих релизах: <em>enable_mouse_hover_glow</em>, <em>disable_mouse_hover_glow</em>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменения API модуля scenes.js.</em></p>
<blockquote>
<div><p>Добавлены методы: <em>outlining_is_enabled</em>, <em>set_outline_intensity</em>, <em>get_outline_intensity</em>, <em>apply_outline_anim</em>, <em>apply_outline_anim_def</em>, <em>clear_outline_anim</em>, <em>set_outline_color</em>, <em>get_outline_color</em>.</p>
<p>Следующие методы объявлены устаревшими и будут удалены в последующих релизах: <em>set_glow_intensity</em>, <em>get_glow_intensity</em>, <em>apply_glow_anim</em>, <em>apply_glow_anim_def</em>, <em>clear_glow_anim</em>, <em>set_glow_color</em>, <em>get_glow_color</em>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В панели Object &gt; Blend4Web изменены настройки.</em></p>
<blockquote>
<div><p>Добавлен флаг <em>Enable Outline</em>, который устанавливает возможность использования эффекта <a class="reference internal" href="postprocessing_effects.html#outline"><span>подсветки контура</span></a> на данном объекте. Так же добавлен флаг <em>Ouline on Select</em>, устанавливающий активацию анимации подсветки при выделении объекта (раньше данное поведение определялось флагом Selectable).</p>
</div></blockquote>
</li>
<li><p class="first"><em>В панель Scene &gt; Blend4Web добавлены новые настройки.</em></p>
<blockquote>
<div><p>Добавлено поле <em>Enable Object Outlining</em>, которое управляет возможностью подсветки контура объектов. Аналогично, новое поле <em>Enable Object Selectable</em> управляет возможностью выделения объектов.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Теперь свойства объекта Apply Scale, Apply Modifiers, Export Vertex Animation, Export Edited Normals и Export Shape Keys взаимно исключают друг друга.</em></p>
</li>
<li><p class="first"><em>Изменение API модулей.</em></p>
<blockquote>
<div><p>В <a class="reference external" href="https://www.blend4web.com/api_doc/module-util.html">API модуля util.js</a> добавился метод <em>is_armature</em>, позволяющий проверить, является ли данный объект объектом типа <code class="docutils literal"><span class="pre">ARMATURE</span></code>.</p>
<p>В <a class="reference external" href="https://www.blend4web.com/api_doc/module-constraints.html">API модуля constraints.js</a> добавился метод <em>get_parent</em>, возвращающий для данного объекта родительский объект.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id89">
<h3>Исправления<a class="headerlink" href="#id89" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Исправлена ошибка, приводящая к исчезновению описания объекта в модуле &#8220;anchors.js&#8221;.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка запекателя скелетной анимации при наличии арматурных объектов на скрытых слоях.</em></p>
</li>
<li><p class="first"><em>Исправлено поведение камеры при использовании функции &#8220;append_semi_stiff_cam&#8221; модуля &#8220;constraints.js&#8221;.</em></p>
<blockquote>
<div><p>Исправлено вертикальное выравнивание камеры относительно родительского объекта. Также теперь учитывается начальная ориентация камеры, что может потребовать корректировки лимитов вращения, передаваемых в эту функцию.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлена ошибка обновления плейлиста, если он оказывался пустым.</em></p>
</li>
<li><p class="first"><em>Исправлено некорректное поведение физических объектов при удалении хотя бы одного из них со сцены.</em></p>
</li>
<li><p class="first"><em>Исправлен баг при наличии нулевого масштабирования у объекта, размноженного через DupliGroup.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка компиляции шейдера воды на Windows и некоторых мобильных устройствах.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка при наличии дублированных ключей анимации.</em></p>
</li>
<li><p class="first"><em>В анимации NLA теперь можно использовать акторы из разных файлов, имеющие одинаковое имя.</em></p>
</li>
<li><p class="first"><em>Устранено размножение обработчиков перемещения мыши при многократном вызове &#8220;pointerlock&#8221;.</em></p>
</li>
<li><p class="first"><em>Исправлен тип прозрачности &#8220;Alpha Sort&#8221; для динамических объектов.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка сборки аддона, приводящая к неработоспособности на системах Windows без установленного C++ 2010 runtime.</em></p>
</li>
<li><p class="first">Исправлен баг рендеринга billboard-объектов на iPad.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-03">
<h2>v15.03<a class="headerlink" href="#v15-03" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id90">
<h3>Новый функционал<a class="headerlink" href="#id90" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Инструмент для создания подписей к трёхмерным объектам.</em></p>
<blockquote>
<div><p>Теперь имеется возможность создавать подписи к трёхмерным объектам (&#8220;якори&#8221;). Данные якори могут быть трёх различных типов: Аннотации (Annotation) - используется информация из мета-тегов, назначенных на объектах, Элементы (Custom Element) - в качестве якоря можно назначить произвольный HTML-элемент с текущей веб-страницы и Общий (Generic) - якорь, положение которого можно определить с помощью API модуля anchors.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Анимация и возможность управления через API значениями нод типа Value и RGB.</em></p>
<blockquote>
<div><p>Теперь помимо анимации нод типа Value возможна анимация нод RGB. Так же в модуле objects.js появились соответствующие функции для изменения значений таких нод.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новое приложение &#8220;Code Snippets&#8221;.</em></p>
<blockquote>
<div><p>Это <a class="reference internal" href="developers.html#code-snippets"><span>приложение</span></a> было создано для более быстрого и легкого просмотра уроков по функционалу движка. В нем также можно ознакомиться со скриптами, составляющими основу логики работы приведенных уроков. Приложение доступно из файла index.html, находящегося в корне Blend4Web SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новые функции управления эффектом Glow.</em></p>
<blockquote>
<div><p>В модуль <em>scenes</em> были добавлены новые API: <em>get_glow_intensity()</em> и <em>get_glow_color()</em>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшения в просмотрщике сцен Viewer.</em></p>
<blockquote>
<div><p>Изменён дизайн кнопки перехода на &#8220;домашнюю&#8221; сцену, добавлена кнопка &#8220;All objects selectable&#8221;, позволяющая отключить автоматическое назначение свойства &#8220;Selectable&#8221; для всех объектов на сцене. Также в просмотрщике теперь можно увидеть суммарное количество шейдеров, выполняющихся на загруженной сцене.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Динамическое копирование объектов сцены.</em></p>
<blockquote>
<div><p>Появилась возможность динамического <a class="reference internal" href="objects.html#mesh-copy"><span>копирования и удаления</span></a> объектов сцены (инстансинг).</p>
</div></blockquote>
</li>
<li><p class="first"><em>Обработка ошибок, связанных со специальной нодой B4W_PARALLAX.</em></p>
<blockquote>
<div><p>Добавлена обработка некорректного использования ноды B4W_PARALLAX в виде <a class="reference internal" href="addon.html#export-errors-warnings"><span>некритической ошибки экспорта</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новые опции в сборщике приложений.</em></p>
<blockquote>
<div><p>В сборщике приложений появились новые опции <code class="docutils literal"><span class="pre">-j</span></code> и <code class="docutils literal"><span class="pre">-c</span></code>, которые позволяют добавлять в исключения, соответственно, скрипты и стили, не требующие компиляции.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Экспериментальный Blend4Web рендер движок.</em></p>
<blockquote>
<div><p>Включается в настройках аддона: флаг &#8220;Register Blend4Web render engine (Experimental)&#8221;. Предназначен для упрощения редактирования свойств объектов. Упрощает интерфейс, отключив неподдерживаемые аддоном панели. В данный момент в режиме Blend4Web рендера отсутствует возможность редактирования шейдерного нодового дерева.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id91">
<h3>Изменения<a class="headerlink" href="#id91" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Изменение точки отсчета лимитов перемещения камеры.</em></p>
<blockquote>
<div><p>Выставление лимитов перемещения камеры через API теперь полностью соответствует <a class="reference internal" href="camera.html#camera-api-notes"><span>отсчету значений</span></a> в системе координат движка. Выставление в Blender&#8217;е горизонтальных лимитов для камеры типа <code class="docutils literal"><span class="pre">TARGET</span></code> в пространстве координат <code class="docutils literal"><span class="pre">World</span> <span class="pre">Space</span></code> изменилось, поэтому может потребовать перенастройки для старых сцен.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Обновление документации по настройкам камеры.</em></p>
</li>
<li><p class="first"><em>Горизонтальные и вертикальные лимиты вращения камеры теперь полностью независимы друг от друга.</em></p>
</li>
<li><p class="first"><em>Изменения API модуля camera.js.</em></p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">API</a> модуля camera.js претерпело ряд изменений.</p>
<p>Добавились новые методы: <em>is_target_camera</em>, <em>is_eye_camera</em>, <em>is_hover_camera</em>, <em>rotate_camera</em>, <em>rotate_target_camera</em>, <em>rotate_eye_camera</em>, <em>rotate_hover_camera</em>, <em>get_camera_angles</em>, <em>hover_cam_set_translation</em>.</p>
<p>Объявлены устаревшими и будут удалены в последующих релизах: <em>rotate_pivot</em>, <em>rotate_hover_cam</em>, <em>rotate</em>, <em>set_eye_params</em>, <em>get_angles</em>, <em>translate_hover_cam_v</em>, <em>set_hover_cam_angle</em>.</p>
<p>Методы <em>set_ortho_scale</em> и <em>get_ortho_scale</em> при применении их к камере отличного от <code class="docutils literal"><span class="pre">Orthographic</span></code> типа теперь выводят сообщение об ошибке. Также изменено поведение метода <em>get_hover_angle_limits</em>, который теперь возвращает угловые лимиты для <code class="docutils literal"><span class="pre">HOVER</span></code> камеры в формате [down, up] вместо [up, down] как было раньше.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Значительно оптимизирована система освещения.</em></p>
<blockquote>
<div><p>Многие свойства источников света теперь обрабатываются на этапе компиляции. Теперь нет ограничения в 4 источника для некоторых мобильных устройств.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменён способ вёрстки приложений, использующих модуль app.</em></p>
<blockquote>
<div><p>При инициализации приложения с использованием модуля app размеры создаваемого элемента <code class="docutils literal"><span class="pre">&lt;canvas&gt;</span></code> теперь полностью определяются размерами элемента-контейнера. Это нужно иметь в виду, например, в случае использования элемента <code class="docutils literal"><span class="pre">&lt;div&gt;</span></code> в качестве контейнера, поскольку по умолчанию его высота равна нулю. Задать правильные размеры контейнера можно с использованием CSS, например с помощью inline-стиля. Также, при любых преобразованиях контейнера теперь необходимо вызывать функцию модуля <em>app</em> <em>resize_to_container()</em>. Аналогичного эффекта можно добиться, если задать опцию <em>autoresize</em> при инициализации приложения (в функции <em>app.init()</em>). Поддержка низкоуровневого метода изменения размеров элемента <code class="docutils literal"><span class="pre">&lt;canvas&gt;</span></code> с использованием функции <em>main.resize()</em> сохранена.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Функция модуля app enable_controls() теперь вызывается без параметров.</em></p>
</li>
<li><p class="first"><em>Удалены устаревшие методы API.</em></p>
<blockquote>
<div><p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-textures.html">textures.js</a>: <em>stop_video</em>.</p>
<p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html">scenes.js</a>: <em>add_object</em>, <em>get_screen_scenes</em>, <em>set_light_pos</em>, <em>set_light_direction</em>, <em>set_dir_light_color</em>, <em>get_lights_names</em>, <em>remove_all</em>, <em>check_collision</em>, <em>check_ray_hit</em>, <em>get_appended_objs</em>, <em>get_object_by_empty_name</em>.</p>
<p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics.js</a>: <em>set_character_dist_to_water</em>.</p>
<p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-material.html">material.js</a>: <em>set_batch_param</em>, <em>set_max_bones</em>, <em>max_bones</em>.</p>
<p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-main.html">main.js</a>: <em>set_shaders_dir</em>, <em>set_texture_quality</em>.</p>
<p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-data.html">data.js</a>: <em>get_bpy_world</em>.</p>
<p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-controls.html">controls.js</a>: <em>sensor_make_positive</em>, <em>sensor_make_negative</em>.</p>
<p>Модуль <a class="reference external" href="https://www.blend4web.com/api_doc/module-camera.html">camera.js</a>: <em>change_eye_target_dist</em> (также удалена устаревшая константа <em>MS_CONTROLS</em>).</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новые условия для изменения положения объектов через API.</em></p>
<blockquote>
<div><p>Функции модуля <code class="docutils literal"><span class="pre">transform.js</span></code>, связанные с изменением положения объекта, доступны только для <a class="reference internal" href="objects.html#static-dynamic-objects"><span>динамических объектов</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Разрешено использование ноды типа TEXTURE с отсутствующей текстурой.</em></p>
<blockquote>
<div><p>Отображение нодового материала в этом случае целиком соответствует Blender&#8217;у.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Обновление механизма проверки совместимости версий экспортированных файлов и движка.</em></p>
<blockquote>
<div><p>Движок будет сигнализировать о несовместимости загружаемой сцены специальными <a class="reference internal" href="addon.html#version-errors"><span>сообщениями в консоли браузера</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Свойство объекта &#8220;Do not batch&#8221; переименовано в &#8220;Force Dynamic Object&#8221;</em></p>
<blockquote>
<div><p>Данная опция сообщает движку о том, что объект обязан быть динамическим независимо от других настроек. Теперь она носит более понятное имя.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id92">
<h3>Исправления<a class="headerlink" href="#id92" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first"><em>Исправлена ошибка автоповорота камеры в веб-плеере.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка полноэкранного режима в веб-плеере.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка определения угловых координат камеры в некоторых положениях.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка автовращения камеры при наличии горизонтальных лимитов, ограничивающих поворот.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка множественного добавления специальных нод в blend-файл.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка замены материала на объекте функцией &#8220;inherit_material&#8221; из модуля &#8220;material.js&#8221;.</em></p>
</li>
<li><p class="first"><em>Исправлены ошибки при отражении зеркальной поверхностью объекта, имеющего свойства, измененные с использованием модуля &#8220;material.js&#8221;.</em></p>
</li>
<li><p class="first"><em>Исправлена генерация сферических WIREFRAME-объектов в режиме отладки сцены.</em></p>
</li>
<li><p class="first"><em>Исправлена процедура оптимизации нод типа TEXTURE в нодовом материале.</em></p>
</li>
<li><p class="first"><em>Исправлена работа опции &#8220;Clamp&#8221; в ноде типа MixRGB(Linear Light).</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка, возникающая при экспорте, если на сцене присутствуют объекты с разделяемым мешем и настройками &#8220;Apply Scale&#8221;, &#8220;Apply Modifiers&#8221;, &#8220;Export Vertex Animation&#8221; или &#8220;Export Edited Normals&#8221;.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка при использовании опции &#8220;Blend4Web &gt; Preserve global orientation and scale&#8221; на ряде мобильных устройств.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка рендеринга тумана в отдельных версиях Chrome и Firefox под Windows.</em></p>
</li>
</ul>
</div>
<div class="section" id="id93">
<h3>Известные проблемы<a class="headerlink" href="#id93" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Не работают видеотекстуры в Firefox при экспорте сцены в формате HTML.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-02">
<h2>v15.02<a class="headerlink" href="#v15-02" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id94">
<h3>Новый функционал<a class="headerlink" href="#id94" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Добавлена возможность запуска локального сервера разработки непосредственно из Blender.</em></p>
<blockquote>
<div><p>При использовании Blend4Web SDK имеется возможность запуска <a class="reference internal" href="addon.html#local-development-server"><span>локального сервера разработки</span></a>. Сервер предоставляет быстрый доступ к содержимому Blend4Web SDK, а также позволяет <a class="reference internal" href="addon.html#run-in-viewer"><span>автоматически открывать экспортированные сцены</span></a> в просмотрщике сцен.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка теней от источников света типа Spot.</em></p>
<blockquote>
<div><p>Ранее на лампах Spot тени строились так же, как для ламп типа Sun. Теперь расчет производится аналогично тому, как это делается в Blender, с учетом расхождения лучей света в пространстве.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена/расширена поддержка объектов типа &#8220;Metaball&#8221;, &#8220;Surface&#8221; и &#8220;Curve&#8221;.</em></p>
<blockquote>
<div><p>Была добавлена поддержка объектов типа <code class="docutils literal"><span class="pre">Metaball</span></code>, <code class="docutils literal"><span class="pre">Surface</span></code> и <code class="docutils literal"><span class="pre">Curve</span></code>. Объекты этих типов автоматически конвертируются в меши при экспорте. Поддержка использования объектов типа <code class="docutils literal"><span class="pre">Curve</span></code> в модификаторах сохранена.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В веб-плеер добавлены кнопки социальных сетей.</em></p>
<blockquote>
<div><p>Данные кнопки позволяют разместить ссылку на 3D сцену, а также ее описание в одной их четырёх популярных социальных сетей.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность редактирования файла списка сцен для просмотрщика непосредственно в Blender.</em></p>
<blockquote>
<div><p>Была добавлена возможность <a class="reference internal" href="workflow.html#assets-json"><span>быстрого редактирования файла assets.json</span></a> для приложения Viewer через Blender, если используется Blend4Web SDK.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность изготовления скриншотов в приложении Viewer.</em></p>
</li>
<li><p class="first"><em>В веб-плеер добавлена опция fallback_video.</em></p>
<blockquote>
<div><p>С помощью опции <code class="docutils literal"><span class="pre">fallback_video=/path/to/video/</span></code> можно указывать видео-файл, который будет проигрываться вместо 3D контента на системах без поддержки WebGL.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Расширение функционала рендеринга в текстуру.</em></p>
<blockquote>
<div><p>Добавлена поддержка рендеринга сцен сразу в несколько текстур. Сцены теперь могут иметь любую степень вложенности.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Для билбордов появилась возможность сохранять ориентацию и масштабирование объектов в мировом пространстве.</em></p>
<blockquote>
<div><p>Для этого нужно выставить опцию <a class="reference internal" href="objects.html#billboarding-preserve"><span>Blend4Web &gt; Preserve global orientation and scale</span></a> на панели настроек объекта.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшения на главной веб-странице SDK.</em></p>
<blockquote>
<div><p>Теперь на главной странице можно узнать версию используемого SDK и проверить систему на совместимость с WebGL.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена поддержка флага Clamp в нодах MATH и MIX_RGB.</em></p>
<blockquote>
<div><p>Функциональность была реализована сначала в Blender 2.73, и теперь в движке.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшено качество рендеринга при отсутствии аппаратной поддержки текстуры глубины.</em></p>
<blockquote>
<div><p>Увеличены возможности рендеринга для устройств, не поддерживающих текстуру глубины. Стали доступны эффекты, такие как отражение, свечение, засветка, размытие при движении, сглаживание.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена новая документация.</em></p>
<blockquote>
<div><p>Добавлена документация по модулям <code class="docutils literal"><span class="pre">vec3</span></code>, <code class="docutils literal"><span class="pre">vec4</span></code>, <code class="docutils literal"><span class="pre">quat</span></code>, <code class="docutils literal"><span class="pre">mat3</span></code>, <code class="docutils literal"><span class="pre">mat4</span></code>, а также глобальному пространству имён <code class="docutils literal"><span class="pre">b4w</span></code>. Улучшен дизайн веб-страниц документации.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность иметь несколько запущенных копий движка на одной странице.</em></p>
<blockquote>
<div><p>Несколько приложений теперь могут работать одновременно, указывая имя пространства имён при инициализации.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Возможность использования SDK в Apple macOS.</em></p>
<blockquote>
<div><p>В macOS теперь доступны все функции SDK, включая сборку движка и приложений, конвертацию ресурсов и генерирование документации.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В модуль camera добавлен метод set_trans_pivot().</em></p>
<blockquote>
<div><p>Данная функция позволяет устанавливать произвольное положение опорной точки и положение камеры типа <code class="docutils literal"><span class="pre">Target</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В утилиту ``project.py`` добавлено новое свойство ``version``.</em></p>
<blockquote>
<div><p>Использование данного свойства позволяет добавлять версию к скриптам и стилям скомпилированного приложения.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id95">
<h3>Изменения<a class="headerlink" href="#id95" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Теперь в приложение можно добавлять опции с одинаковыми именами через адресную строку браузера.</em></p>
<blockquote>
<div><p>В функции <code class="docutils literal"><span class="pre">get_url_params()</span></code> модуля <code class="docutils literal"><span class="pre">app</span></code> появился необязательный параметр <code class="docutils literal"><span class="pre">allow_param_array</span></code>, по умолчание равный <code class="docutils literal"><span class="pre">false</span></code>. При назначении этом параметру <code class="docutils literal"><span class="pre">true</span></code> одинаковые опции будут объединены в массив, в противном случае будет использоваться последняя.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшения работы источников звука типа ``Background Music``.</em></p>
<blockquote>
<div><p>Теперь для таких источников поддерживается возможность указания параметров задержки и времени воспроизведения. Также появилась возможность зацикливать их воспроизведение.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Специальные ноды аддона Blend4Web теперь присутствуют в blend-файле по умолчанию.</em></p>
<blockquote>
<div><p>Теперь нет необходимости добавлять <a class="reference internal" href="node_materials.html#custom-node-materials"><span>специальные ноды</span></a> аддона в файл. Это доступно как при использовании Blend4Web SDK, так и при экспресс-установке аддона.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменен экспорт пустых объектов типа &#8220;Mesh&#8221;.</em></p>
<blockquote>
<div><p>Теперь объекты типа <code class="docutils literal"><span class="pre">Mesh</span></code>, не имеющие полигонов, экспортируются как <code class="docutils literal"><span class="pre">Empty</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменения модуля &#8220;light.js&#8221;</em></p>
<blockquote>
<div><p>Была добавлена новая функция <code class="docutils literal"><span class="pre">get_light_type</span></code>, а также теперь в функции <code class="docutils literal"><span class="pre">get_light_params</span></code> и <code class="docutils literal"><span class="pre">set_light_params</span></code> передается не имя объекта, а сам объект типа <code class="docutils literal"><span class="pre">LAMP</span></code>. Также теперь доступны для изменения через эти функции свойства <code class="docutils literal"><span class="pre">spot_blend</span></code>, <code class="docutils literal"><span class="pre">spot_size</span></code>, <code class="docutils literal"><span class="pre">distance</span></code> для источника света типа <code class="docutils literal"><span class="pre">SPOT</span></code>. Для источника света типа <code class="docutils literal"><span class="pre">POINT</span></code> теперь доступно для изменения свойство <code class="docutils literal"><span class="pre">distance</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшение рефракции при низких настройках качества.</em></p>
<blockquote>
<div><p>При активации профиля качества <code class="docutils literal"><span class="pre">LOW</span></code>, теперь используется упрощённая модель рефракции (без искажений).</p>
</div></blockquote>
</li>
<li><p class="first"><em>Оптимизация нодовых шейдеров.</em></p>
</li>
<li><p class="first"><em>Теперь режим автоматического вращения камеры отключается при касании сенсорного экрана.</em></p>
</li>
</ul>
</div>
<div class="section" id="id96">
<h3>Исправления<a class="headerlink" href="#id96" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Исправлено поведение прелоадера для веб-плеера.</em></p>
<blockquote>
<div><p>При открытии веб-плеера в новой вкладке могли наблюдаться артефакты на логотипе <code class="docutils literal"><span class="pre">B4W</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлена ошибка рендеринга однокаскадных теней, связанная с возникновением жесткой неосвещенной линии по границе всего каскада.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка, связанная с коллизией имен при линковке объектов в Blender&#8217;e.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка с недостаточной оптимизацией приложений из состава SDK.</em></p>
</li>
<li><p class="first"><em>Исправлена проблема экспорта мешей с плоским шейдингом (flat shading) в Linux x32.</em></p>
</li>
<li><p class="first"><em>Исправлено некорректное поведение Target камеры в отдельных случаях.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка с попыткой использования карты теней размером большим, чем поддерживаемый конкретным устройством.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка, приводящая к снижению FPS в Firefox 35/36 под Windows при включении теней.</em></p>
</li>
</ul>
</div>
<div class="section" id="id97">
<h3>Известные проблемы<a class="headerlink" href="#id97" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Не работают видеотекстуры в Firefox при экспорте сцены в формате HTML.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="v15-01">
<h2>v15.01<a class="headerlink" href="#v15-01" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id98">
<h3>Новый функционал<a class="headerlink" href="#id98" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Поддержка режима панорамирования для устройств с сенсорным экраном.</em></p>
<blockquote>
<div><p>Движение камеры в режиме панорамирования осуществляется параллельным перемещением двух пальцев по поверхности экрана.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка объектов типа &#8220;Text&#8221;.</em></p>
<blockquote>
<div><p>Данные объекты теперь автоматически конвертируются в меш при экспорте.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Расширение функционала инструмента NLA Script.</em></p>
<blockquote>
<div><p>Добавлены новые логические слоты: <code class="docutils literal"><span class="pre">Show</span> <span class="pre">Object</span></code> и <code class="docutils literal"><span class="pre">Hide</span> <span class="pre">Object</span></code> используются для скрытия и отображения объектов, <code class="docutils literal"><span class="pre">Page</span> <span class="pre">Redirect</span></code> - для перенаправления на другие веб-страницы, <code class="docutils literal"><span class="pre">Page</span> <span class="pre">Param</span></code> - для сохранения произвольного параметра веб-страницы в выбранном числовом регистре. Упрощено использование слотов <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Jump</span></code> и <code class="docutils literal"><span class="pre">Select</span> <span class="pre">&amp;</span> <span class="pre">Play</span></code> - теперь для выделяемых объектов нет необходимости указывать свойство <code class="docutils literal"><span class="pre">Selectable</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка экранов сверхвысокого разрешения (HIDPI, Retina).</em></p>
<blockquote>
<div><p>Режим HIDPI позволяет достичь существенного улучшения качества картинки на устройствах с высоким разрешением. Режим включается автоматически при запуске приложений с настройками качества ULTRA. При необходимости, высокое разрешение может быть включено и для других профилей качества.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка масштабирования для ортографической камеры.</em></p>
<blockquote>
<div><p>Добавлено API для изменения масштабирования камеры типа <code class="docutils literal"><span class="pre">Orthographic</span></code> (<code class="docutils literal"><span class="pre">Orthographic</span> <span class="pre">scale</span></code> в Blender&#8217;e).</p>
</div></blockquote>
</li>
<li><p class="first"><em>В веб-плеер добавлена опция autorotate.</em></p>
<blockquote>
<div><p><a class="reference internal" href="web_player.html#webplayer-attributes"><span>Опция</span></a> autorotate используется для автоматического включения вращения камеры сразу после загрузки сцены.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В функцию &#8220;enable_camera_controls&#8221; из аддона &#8220;app.js&#8221; добавлен облегченный режим управления с клавиатуры.</em></p>
<blockquote>
<div><p>Включить режим можно передав необязательный параметр <code class="docutils literal"><span class="pre">disable_letter_controls</span></code>. При этом будет отключено управление посредством алфавитно-цифровых клавиш клавиатуры (WASD и т.д.). Указанная функциональность может быть использована для тех случаев, когда в приложении необходимо использовать клавиши для целей, не связанных с перемещением камеры.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка работы с гироскопом на мобильном устройстве.</em></p>
<blockquote>
<div><p>Добавлены два сенсора для работы с гироскопом на мобильных устройствах. Первый сенсор позволяет оперировать с разностью текущего положения устройства с предыдущим, создается функцией <code class="docutils literal"><span class="pre">create_gyro_delta_sensor</span></code> из модуля &#8220;controls.js&#8221;. Второй сенсор - с текущим значением угла. Создается функцией <code class="docutils literal"><span class="pre">create_gyro_angles_sensor</span></code> из модуля &#8220;controls.js&#8221;. Стоит отметить, что все значения вычисляются в радианах. Также был создан аддон &#8220;gyroscope.js&#8221;, в котором реализовано движение камеры при угловых перемещениях устройства. С примером работы данного функционала для мобильных устройств можно ознакомиться в нашей программе &#8220;Viewer&#8221;, включив опцию &#8220;Gyroscope&#8221; в меню программы.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлено новое свойство ``Do not Render`` в настройках материала.</em></p>
<blockquote>
<div><p>Включение данного свойства позволяет не отображать на сцене все объекты, использующие этот материал.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка видеотекстур на IE 11 и iPhone.</em></p>
<blockquote>
<div><p>Поддержка добавлена посредством создания простого формата видео-секвенции <code class="docutils literal"><span class="pre">*.seq</span></code>.  Более полную информацию можно посмотреть <a class="reference internal" href="developers.html#seq"><span>в соответствующем разделе документации</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка тега &#8220;title&#8221; в веб-плеере.</em></p>
<blockquote>
<div><p>Тег &#8220;title&#8221; для веб-плеера, необходимый для вывода названия сцены в браузере, теперь берется из JSON-файла сцены. С более подробной информацией можно ознакомиться <a class="reference internal" href="web_player.html#wp-title"><span>в соответствующем разделе документации</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка мета-тегов в Blender.</em></p>
<blockquote>
<div><p>В Blender появилась возможность добавлять мета-теги к сцене и к объектам. Для сцены это &#8220;title&#8221; и &#8220;description&#8221;, для объекта &#8220;title&#8221;, &#8220;description&#8221; и &#8220;category&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность вызова пользовательских функций каждый кадр.</em></p>
<blockquote>
<div><p>Для возможности создания более сложных приложений в модуле &#8220;main.js&#8221; была добавлена функция <code class="docutils literal"><span class="pre">append_loop_cb</span></code>, позволяющая вызывать переданную в нее функцию каждый кадр. При этом в эту функцию каждый кадр будут передаваться два параметра: время с начала старта приложения и разница во времени между текущим кадром и предыдущим. Обе величины измеряются в секундах. Для того, чтобы больше не вызывать переданную функцию необходимо удалить ее вызовом функции <code class="docutils literal"><span class="pre">remove_loop_cb</span></code> из модуля &#8220;main.js&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена анимация простого экрана загрузки приложения.</em></p>
<blockquote>
<div><p>Для создания приложения с анимированным экраном загрузки в функцию <code class="docutils literal"><span class="pre">create_simple_preloader</span></code> из модуля &#8220;preloader.js&#8221; необходимо передать опцию &#8220;preloader_fadeout&#8221; со значением &#8220;true&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность экспорта конвертированных медиаданных в HTML-файл.</em></p>
<blockquote>
<div><p>Теперь при экспорте в html имеется возможность записать конвертированные данные в файл. Для этого при экспорте необходимо задать свойство &#8220;Export converted media&#8221; в <a class="reference internal" href="addon.html#export-opts"><span>опциях экспорта</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность использования min50 и dds текстур при просмотре сцен через webplayer.</em></p>
<blockquote>
<div><p>Для этого необходимо <a class="reference internal" href="web_player.html#webplayer-attributes"><span>передать атрибут</span></a> &#8220;compressed_textures&#8221; при запуске приложения.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id99">
<h3>Изменения<a class="headerlink" href="#id99" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Упрощена файловая структура SDK.</em></p>
<blockquote>
<div><p>Директория <code class="docutils literal"><span class="pre">external</span></code> больше не существует, всё её содержимое перемещено на уровень выше - в корневую директорию SDK. Файл со списком сцен для просмотрщика <code class="docutils literal"><span class="pre">assets.json</span></code> теперь находится в директории <code class="docutils literal"><span class="pre">apps_dev/viewer</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменено поведение автовращения камеры (экспериментально).</em></p>
<blockquote>
<div><p>При наличии ограничений на горизонтальное вращение камера, приближаясь к границам, плавно замедляется и продолжает движение в обратном направлении.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменено поведение настройки ``Special: Collision`` в настройках материала.</em></p>
<blockquote>
<div><p>Ранее включение опции автоматически приводило к сокрытию объектов, теперь для этой цели необходимо использовать настройку материала <code class="docutils literal"><span class="pre">Do</span> <span class="pre">not</span> <span class="pre">Render</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменен суффикс конвертированных медиаданных.</em></p>
<blockquote>
<div><p>Суффикс <code class="docutils literal"><span class="pre">*.lossconv.*</span></code> заменен на <code class="docutils literal"><span class="pre">*.altconv.*</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменена работа опции &#8220;Do not render&#8221; на объекте.</em></p>
<blockquote>
<div><p>Теперь выставление данной опции на объекте не приводит к потере физических свойств объекта. Объект всего лишь становится невидимым.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Доработана комплектация SDK.</em></p>
<blockquote>
<div><p>В бесплатной и коммерческой версиях SDK были добавлены новые сцены с примерами использования движка; устаревшие и малоинформативные сцены исключены.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id100">
<h3>Исправления<a class="headerlink" href="#id100" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first"><em>При выставлении в Blender&#8217;е камере типа &#8220;Panoramic&#8221; в движке принудительно используется камера типа &#8220;Perspective&#8221;.</em></p>
</li>
<li><p class="first"><em>Исправлено дрожание камеры типа &#8220;Target&#8221; в отдельных случаях.</em></p>
</li>
<li><p class="first"><em>Небольшие исправления в работе аддона &#8220;B4W Anim Baker&#8221;.</em></p>
</li>
<li><p class="first"><em>Исправлена проблема со звуком на сценах с несколькими камерами.</em></p>
</li>
<li><p class="first"><em>В модуле &#8220;controls&#8221; улучшена стабильность работы сенсоров типа &#8220;Timer&#8221;.</em></p>
</li>
<li><p class="first"><em>Устранена ошибка, возникающая при просмотре сцены через IE при экспорте в HTML.</em></p>
</li>
<li><p class="first"><em>Оптимизирована работа видеотекстуры. Теперь не производится обновление видеотекстуры при остановке видео.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка рендеринга нодового материала, содержащего ноду ``REFRACTION``.</em></p>
</li>
</ul>
</div>
<div class="section" id="id101">
<h3>Известные проблемы<a class="headerlink" href="#id101" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Не работают видеотекстуры в Firefox при экспорте сцены в формате HTML.</em></p>
</li>
<li><p class="first"><em>Текущая реализация depth-текстур в Firefox 35 приводит к значительному снижению FPS и другим неисправностям.</em></p>
<blockquote>
<div><p>В различных сценах наблюдается снижение FPS, например, при включении теней. Также некорректно отображаются тени для текстур с использованием прозрачности, например, <code class="docutils literal"><span class="pre">ALPHA_CLIP</span></code>. Соответствующая <a class="reference external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1125445">ошибка</a>, возможно, будет исправлена в ближайшее время в будущих обновлениях браузера.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-12">
<h2>v14.12<a class="headerlink" href="#v14-12" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id102">
<h3>Новый функционал<a class="headerlink" href="#id102" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Поддержка настройки скоростей камеры.</em></p>
<blockquote>
<div><p>Осуществлена поддержка пользовательской <a class="reference internal" href="camera.html#camera-velocity"><span>настройки скоростей</span></a> перемещения, вращения, масштабирования камер типа <code class="docutils literal"><span class="pre">Target</span></code>, <code class="docutils literal"><span class="pre">Hover</span></code>, <code class="docutils literal"><span class="pre">Eye</span></code>. Настройка может быть выполнена как в интерфейсе Blender&#8217;а, так и посредством API Blend4Web.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка MIP-текстурирования для Canvas-текстур.</em></p>
<blockquote>
<div><p>Осуществлена поддержка MIP-текстурирования для <a class="reference internal" href="textures.html#render-to-texture-canvas"><span>Canvas-текстур</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Полная поддержка ноды &#8220;MAPPING&#8221;.</em></p>
<blockquote>
<div><p>Осуществлена поддержка всех возможных значений <code class="docutils literal"><span class="pre">Vector</span> <span class="pre">type</span></code> для ноды <code class="docutils literal"><span class="pre">MAPPING</span></code>: <code class="docutils literal"><span class="pre">Texture</span></code>, <code class="docutils literal"><span class="pre">Point</span></code>, <code class="docutils literal"><span class="pre">Vector</span></code> и <code class="docutils literal"><span class="pre">Normal</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Glow-эффект при наведении курсора мыши на объект.</em></p>
<blockquote>
<div><p>Для эффекта подсветки объекта под курсором мыши доступно API модуля <code class="docutils literal"><span class="pre">mouse.js</span></code>. Управление эффектом осуществляется с помощью функций <code class="docutils literal"><span class="pre">enable_mouse_hover_glow()</span></code> и <code class="docutils literal"><span class="pre">disable_mouse_hover_glow()</span></code>. При этом на объекте должно быть выставлено свойство <code class="docutils literal"><span class="pre">Object</span> <span class="pre">&gt;</span> <span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Selectable</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новая система сборки приложений.</em></p>
<blockquote>
<div><p>Теперь пользователи имеют возможность вести разработку приложений непосредственно в составе SDK, благодаря новой утилите <code class="docutils literal"><span class="pre">project.py</span></code>. <a class="reference internal" href="developers.html#app-building"><span>Данный скрипт</span></a> позволяет собирать приложения вместе с движком, минимизировать JavaScript и CSS-файлы, а также экспортировать готовое приложение для последующего развертывания на сервере.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id103">
<h3>Изменения<a class="headerlink" href="#id103" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Удалена поддержка устаревшей опции текстур &#8220;UV translation velocity&#8221;.</em></p>
<blockquote>
<div><p>Вместо неё рекомендуется использовать функционал нодовых материалов.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Удалена поддержка устаревшего интерфейса &#8220;Levels of Detail&#8221;.</em></p>
<blockquote>
<div><p>Аналогичный функционал теперь реализуется штатным инструментом Blender &#8220;Levels of Detail&#8221;.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Аддон pointerlock.js переименован в mouse.js.</em></p>
</li>
<li><p class="first"><em>Добавлено срабатывание события mouseup при покидании курсора мыши вьюпорта приложения.</em></p>
<blockquote>
<div><p>Таким образом была исправлена наблюдавшаяся ранее проблема с нарушением контроля камеры.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Сообщение об ошибке &#8220;Clear parent inverse&#8221; более не появляется.</em></p>
<blockquote>
<div><p>Ранее при использовании отношения родитель-потомок требовалось сбрасывать перемещение, вращение и масштаб объекта-потомка (<code class="docutils literal"><span class="pre">Object</span> <span class="pre">&gt;</span> <span class="pre">Parent</span> <span class="pre">&gt;</span> <span class="pre">Clear</span> <span class="pre">Parent</span> <span class="pre">Inverse</span></code>). Указанная трансформация теперь поддерживается движком.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Использование &#8220;Apply scale&#8221; теперь не приводит к применению модификаторов.</em></p>
<blockquote>
<div><p>Для применения модификаторов по-прежнему следует использовать флаг <a class="reference internal" href="objects.html#apply-modifiers"><span>Apply modifiers</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Использование карты нормалей в нодовом материале больше не требует наличия нод Material или Extended Material.</em></p>
<blockquote>
<div><p>В некоторых случаях (например, рефракция) карты нормалей могут применяться в материалах без освещения.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id104">
<h3>Исправления<a class="headerlink" href="#id104" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Исправлена ошибка воспроизведения звуков через инструмент NLA.</em></p>
<blockquote>
<div><p>Ошибка проявлялась вследствие недостаточной точности чисел с плавающей запятой.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлен некорректный рендеринг источников света на мобильных устройствах.</em></p>
</li>
<li><p class="first"><em>Исправлено наложение тени при нескольких активных источниках освещения.</em></p>
<blockquote>
<div><p>Теперь тень накладывается так же как в Blender, не затеняя те участки, куда попадает свет от других источников.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлена ошибка отображения нодовых материалов.</em></p>
<blockquote>
<div><p>Ошибка возникала при использовании нод <code class="docutils literal"><span class="pre">MATERIAL</span></code> и <code class="docutils literal"><span class="pre">MATERIAL_EXT</span></code> с добавленным по ссылке (из другого .blend-файла) материалом.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлен сброс позы арматуры при использовании &#8220;B4W Animation Bake&#8221;.</em></p>
<blockquote>
<div><p>Теперь при использовании инструмента <a class="reference internal" href="animation.html#animation-bake"><span>запекания анимации</span></a> арматурный объект остаётся в позе, в которой он находился до запекания.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлено резкое движение камеры после старта приложения.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка, связанная с неверным определением лимитов горизонтального вращения камеры.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка, связанная с экспортом неиспользуемых текстур.</em></p>
</li>
</ul>
</div>
<div class="section" id="id105">
<h3>Известные проблемы<a class="headerlink" href="#id105" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Не работают видеотекстуры в Firefox при экспорте сцены в формате HTML.</em></p>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-11">
<h2>v14.11<a class="headerlink" href="#v14-11" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id106">
<h3>Новый функционал<a class="headerlink" href="#id106" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Поддержка видео-текстур.</em></p>
<blockquote>
<div><p>Осуществлена поддержка <a class="reference internal" href="textures.html#video-texture"><span>видео-текстур</span></a> для текстур типа <code class="docutils literal"><span class="pre">Image</span> <span class="pre">or</span> <span class="pre">Movie</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Частота кадров.</em></p>
<blockquote>
<div><p>Добавлена поддержка изменения частоты кадров для анимации и видеотекстур. Частоту кадров можно задать опцией <code class="docutils literal"><span class="pre">Scene</span> <span class="pre">&gt;</span> <span class="pre">Dimensions</span> <span class="pre">&gt;</span> <span class="pre">Frame</span> <span class="pre">rate</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка текстур типа Canvas.</em></p>
<blockquote>
<div><p>В качестве <a class="reference internal" href="textures.html#render-to-texture-canvas"><span>текстуры</span></a> используется HTML-элемент Canvas. Работа с ней <a class="reference internal" href="textures.html#render-to-texture-canvas"><span>описана</span></a> в документации.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Camera panning.</em></p>
<blockquote>
<div><p>В режиме вращающейся вокруг точки камеры (<code class="docutils literal"><span class="pre">Target</span></code>) теперь имеется возможность перемещения точки вращения в плоскости обзора (т.н. панорамирование) при зажатой правой или средней кнопках мыши. Функция включена по умолчанию и при необходимости выключается в настройках в Blender&#8217;е.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Новый режим управления камерой - Hover.</em></p>
<blockquote>
<div><p>Реализован режим скольжения камеры над плоскостью (<code class="docutils literal"><span class="pre">Hover</span></code>), включающий возможность приближения и удаления. Этот режим камеры позволяет реализовывать сценарии удобного просмотра протяженных в двух измерениях сцен (помещений, игровых уровней).</p>
</div></blockquote>
</li>
<li><p class="first"><em>В SDK добавлена корневая веб-страница index.html для упрощения навигации по дистрибутиву.</em></p>
</li>
<li><p class="first"><em>Поддержка преобразования форматов видео-файлов в конвертере ресурсов.</em></p>
</li>
<li><p class="first"><em>Добавлена система сборки, ранее отсутствовавшая в публичных дистрибутивах SDK.</em></p>
</li>
<li><p class="first"><em>Поддержка режима экспорта &#8220;Strict mode&#8221; в аддоне.</em></p>
<blockquote>
<div><p>Активация режима <code class="docutils literal"><span class="pre">Strict</span> <span class="pre">mode</span></code> позволяет вывести все возможные ошибки и предупреждения, связанные с некорректной настройкой сцены. Опция полезна для финальной отладки сцены с целью получения максимально корректных и оптимизированных ресурсных файлов.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка воспроизведения звуков на устройствах с iOS.</em></p>
</li>
</ul>
</div>
<div class="section" id="id107">
<h3>Изменения<a class="headerlink" href="#id107" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Опция &#8220;bg&#8221; веб-плеера переименована в &#8220;fallback_image&#8221;.</em></p>
<blockquote>
<div><p>Также претерпела изменение логика поведения опции. При указании <code class="docutils literal"><span class="pre">fallback_image</span></code> информация об отсутствии поддержки WebGL теперь не выводится, вместо неё пользователю демонстрируется изображение.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В веб-плеере опция отключения звука теперь не показывается для сцен, не имеющих источников звука.</em></p>
</li>
<li><p class="first"><em>Улучшена стабильность работы стековых материалов.</em></p>
</li>
<li><p class="first"><em>В сенсор &#8220;mouse_down&#8221; добавлен код нажатой кнопки мыши, который доступен в поле payload сенсора.</em></p>
</li>
<li><p class="first"><em>Значительно оптимизирован экспорт систем частиц типа Hair.</em></p>
</li>
</ul>
</div>
<div class="section" id="id108">
<h3>Исправления<a class="headerlink" href="#id108" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Карты нормалей теперь работают с типами текстурных координат Generated и Normal.</em></p>
<blockquote>
<div><p>При использовании карт нормалей теперь нет необходимости использовать UV-развертку.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлена проблема с неверными путями к физическому движку в веб-плеере.</em></p>
<blockquote>
<div><p>Ошибка проявлялась при перемещении файла uranium.js из директории с главным HTML-файлом веб-плеера.</p>
</div></blockquote>
</li>
<li><p class="first"><em>В аддоне исправлена проблема с упакованными текстурами, проявляющаяся при экспорте при включённой опции &#8220;Automatically Pack Into .blend&#8221;.</em></p>
</li>
</ul>
</div>
<div class="section" id="id109">
<h3>Известные проблемы<a class="headerlink" href="#id109" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-10">
<h2>v14.10<a class="headerlink" href="#v14-10" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id110">
<h3>Новый функционал<a class="headerlink" href="#id110" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Новый веб-плеер.</em></p>
<blockquote>
<div><p>Новый минималистичный дизайн веб-плеера удачно сочетается с любыми трёхмерными сценами, имеет упрощённый интерфейс и встроенную подсказку по управлению. Веб-плеер работает на всём спектре оборудования, включая мобильные устройства.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Улучшение системы теней.</em></p>
<blockquote>
<div><p>Добавлена возможность выбора некаскадной модели теней на основе одной оптимизированной карты теней. Такая модель проще в настройке и хорошо подходит для небольших сцен. Подробности в <a class="reference internal" href="lighting.html#shadows"><span>документации</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Многочисленные улучшения в системе нелинейной анимации (NLA).</em></p>
<blockquote>
<div><p>Появилась возможность создания сложной логики в инструменте NLA Script с помощью блоков <code class="docutils literal"><span class="pre">Conditional</span> <span class="pre">Jump</span></code>, <code class="docutils literal"><span class="pre">Register</span> <span class="pre">Store</span></code> и <code class="docutils literal"><span class="pre">Math</span> <span class="pre">Operation</span></code>, а также переменных, сохраняемых в регистрах.</p>
<p>Возможность использования в NLA всех типов анимации, поддерживаемых движком, включая воспроизведение звуков, вертексную анимацию и эмиссию частиц. Анимацию различных типов теперь возможно проигрывать параллельно.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка билбординга объектов.</em></p>
<blockquote>
<div><p>Объектам добавлены <a class="reference internal" href="objects.html#objects-billboarding-properties"><span>опции</span></a>, позволяющие настроить билбординг.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка режима &#8220;XYZ Euler&#8221; для анимации поворота.</em></p>
<blockquote>
<div><p>Объектная и скелетная анимация теперь поддерживают режим <code class="docutils literal"><span class="pre">XYZ</span> <span class="pre">Euler</span></code> для анимации поворота.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка текстурных координат типа GENERATED.</em></p>
</li>
<li><p class="first"><em>Добавлена поддержка загрузки ресурсов с удаленного сервера (Cross-origin resource sharing).</em></p>
</li>
<li><p class="first"><em>Упрощен процесс экспорта сцен.</em></p>
<blockquote>
<div><p>Ряд ошибок, возникающих при экспорте материала, теперь не блокирует экспорт. Вместо этого при загрузке сцены данный материал будет отображаться розовым цветом. Более подробное описание ошибок доступно в <a class="reference internal" href="addon.html#export-errors-warnings"><span>документации</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена поддержка опции &#8220;Do not export&#8221; для системы частиц.</em></p>
</li>
<li><p class="first"><em>Улучшена стабильность работы приложений на устройствах с мобильной операционной системой Apple iOS.</em></p>
</li>
</ul>
</div>
<div class="section" id="id111">
<h3>Изменения<a class="headerlink" href="#id111" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>В SDK изменился путь для настройки экспорта в HTML.</em></p>
<blockquote>
<div><p>В настройках аддона, установленного через SDK, теперь достаточно указывать путь непосредственно к корневой директории SDK. Ранее требовалось указывать путь к приложению embed. Обратите внимание, старое поведение более не поддерживается.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Объявлена устаревшей опция текстур &#8220;UV translation velocity&#8221;.</em></p>
<blockquote>
<div><p>Опция будет удалена начиная с версии 14.12.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Удалена опция &#8220;Do not export&#8221; на панели &#8220;Object data&#8221;.</em></p>
</li>
<li><p class="first"><em>Опция Blend4Web&gt;Animation&gt;Cyclic на вкладке свойств объектов удалена.</em></p>
<blockquote>
<div><p>Вместо неё следует использовать опцию <code class="docutils literal"><span class="pre">Blend4Web</span> <span class="pre">&gt;</span> <span class="pre">Animation</span> <span class="pre">&gt;</span> <span class="pre">Behavior</span></code>, расположенную там же. В сценах, где циклическая анимация назначается по умолчанию, возможно нарушение работы анимации, соответственно в них необходимо установить поведение в <code class="docutils literal"><span class="pre">Cyclic</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Изменена реализация алгоритма SSAO.</em></p>
<blockquote>
<div><p>Новая реализация работает значительно быстрее и показывает лучшее качество изображения. Параметры настройки алгоритма также изменились. Подробнее в <a class="reference internal" href="postprocessing_effects.html#ssao"><span>документации</span></a>.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id112">
<h3>Исправления<a class="headerlink" href="#id112" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Исправлена ошибка рендеринга материала типа HALO.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка рендеринга объекта при выставлении опции &#8220;Force Dynamic Object&#8221;, если он имел родительский объект.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка назначения горячих клавиш на экспорт аддона Blend4Web.</em></p>
<blockquote>
<div><p>Устранена ошибка, не позволяющая назначить горячие клавиши на экспорт в форматы JSON и HTML: <code class="docutils literal"><span class="pre">File-&gt;Export-&gt;Blend4Web(.json)</span></code> и <code class="docutils literal"><span class="pre">File-&gt;Export-&gt;Blend4Web(.html)</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Исправлена ошибка загрузки текстур, превышающих допустимый размер для данного устройства.</em></p>
</li>
<li><p class="first"><em>Исправлены ошибки анимации нодовых материалов, приводившие к нестабильной работе движка.</em></p>
</li>
<li><p class="first"><em>Устранена ошибка нодовых материалов, содержащих сложные группы нод (Node Groups).</em></p>
</li>
<li><p class="first"><em>Исправлены ошибки компиляции шейдеров на устройствах с мобильной графикой Qualcomm Adreno 305.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка рендеринга при использовании ноды REFRACTION на непрозрачных материалах.</em></p>
</li>
<li><p class="first"><em>Исправлен сброс значения текущего кадра анимации после её запечения при помощи инструмента &#8220;B4W Vertex Anim Baker&#8221;.</em></p>
</li>
</ul>
</div>
<div class="section" id="id113">
<h3>Известные проблемы<a class="headerlink" href="#id113" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Карты нормалей не работают с типом текстурных координат Generated.</em></p>
<blockquote>
<div><p>При использовании карт нормалей необходимо использовать UV-развертку.</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="v14-09">
<h2>v14.09<a class="headerlink" href="#v14-09" title="Ссылка на этот заголовок">¶</a></h2>
<div class="section" id="id114">
<h3>Новый функционал<a class="headerlink" href="#id114" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Поддержка типа ABSOLUTE для ноды MATH.</em></p>
</li>
<li><p class="first"><em>Поддержка специализированной ноды LEVELS_OF_QUALITY.</em></p>
<blockquote>
<div><p>Позволяет управлять сложностью материала в зависимости от профиля качества, указанного пользователем при загрузке движка.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка специализированной ноды SMOOTHSTEP.</em></p>
<blockquote>
<div><p>Упрощает создание некоторых эффектов в нодовом материале.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка нодовых групп.</em></p>
<blockquote>
<div><p><a class="reference external" href="http://wiki.blender.org/index.php/Doc:2.6/Manual/Composite_Nodes/Node_Groups">Нодовые группы</a> позволяют повторное использования блока нод одного материала в составе другого.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Возможность вывода промежуточных результатов рендеринга с целью отладки.</em></p>
<blockquote>
<div><p>Результат рендеринга конкретной стадии теперь можно вывести поверх основного изображения. Настройка осуществляется в модуле <code class="docutils literal"><span class="pre">config.js</span></code> опциями группы <code class="docutils literal"><span class="pre">debug_subs</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Реализация логики управления NLA-анимацией в Blender с помощью визуального редактора.</em></p>
<blockquote>
<div><p>В интерфейс Blender добавлен инструмент NLA Script, который позволяет с помощью визуальных блоков реализовывать простые сценарии, например осуществить управление текущей анимацией в ответ на действия пользователя.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Многочисленные улучшения системы сенсоров.</em></p>
<blockquote>
<div><p>В модуле <code class="docutils literal"><span class="pre">controls</span></code> разрешено регистрировать <em>множества сенсоров</em> глобально, без привязки к конкретному объекту, для чего в соответствующие API необходимо подавать параметр <code class="docutils literal"><span class="pre">null</span></code>. Обеспечена более предсказуемая и надёжная обработка логики сенсоров, в соответствии с последовательностью создания их <em>множеств</em>. Обработчики событий, связанных с действиями пользователя теперь назначаются с помощью функций вида <code class="docutils literal"><span class="pre">register_&lt;inputtype&gt;_events()</span></code>. В данные функции теперь можно подавать флаг <code class="docutils literal"><span class="pre">prevent_default</span></code>, позволяющий заблокировать стандартное поведение браузера, происходящее после возникновения соответствующих событий.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка использования физики в веб-плеере.</em></p>
<blockquote>
<div><p>Работает только в версии веб-плеера с раздельной загрузкой JSON-файлов. В одиночных HTML файлах физика не поддерживается.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка смешивания различных скелетных анимаций.</em></p>
<blockquote>
<div><p>В модуле <code class="docutils literal"><span class="pre">animation.js</span></code> добавились API, позволяющие осуществлять плавные переходы между скелетными анимациями: get_skel_mix_factor() - для получения текущего значения коэффициента смешивания и set_skel_mix_factor() - для его назначения.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка анимации ноды Value в нодовых материалах.</em></p>
<blockquote>
<div><p>Функциональность работает аналогично другим видам анимации. Поддерживается работа в NLA.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка параметров Specular и Diffuse в источниках освещения.</em></p>
</li>
<li><p class="first"><em>Возможность рендеринга полупрозрачного объекта поверх остальных объектов на сцене.</em></p>
<blockquote>
<div><p>Активируется с помощью опции <code class="docutils literal"><span class="pre">Render</span> <span class="pre">above</span> <span class="pre">all</span></code> для прозрачных материалов (т.е. не <code class="docutils literal"><span class="pre">Opaque</span></code>).</p>
</div></blockquote>
</li>
<li><p class="first"><em>Автоматическое применение масштаба к мешу объекта.</em></p>
<blockquote>
<div><p>Реализуется включением опции <code class="docutils literal"><span class="pre">Apply</span> <span class="pre">scale</span></code> в настройках объекта.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Поддержка профиля высокого качества (включая тени, динамическое отражение и антиалиасинг) для iOS.</em></p>
</li>
</ul>
</div>
<div class="section" id="id115">
<h3>Изменения<a class="headerlink" href="#id115" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first"><em>Улучшение рендеринга теней.</em></p>
<blockquote>
<div><p>Существенно изменена система отрисовки теней, которая теперь основывается на технике <code class="docutils literal"><span class="pre">Stable</span> <span class="pre">Cascaded</span> <span class="pre">Shadow</span> <span class="pre">Maps</span></code>. Техника позволяет существенно уменьшить мерцание краев теней при движении камеры. Между каскадами реализовано сглаживание. Также тени последнего каскада плавно исчезают при удалении. Для рендеринга мягких теней реализована техника <code class="docutils literal"><span class="pre">Percentage</span> <span class="pre">Closer</span> <span class="pre">Shadows</span></code>. Переработана и упрощена система пользовательских настроек теней. Теперь можно задавать размеры карт теней, степень размытия, настройки для компенсации ошибок самозатенения. Новые настройки подробно <a class="reference internal" href="lighting.html#shadows"><span>документированы</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Настройка качества графики в веб-плеере теперь сохраняется для каждой сцены независимо.</em></p>
</li>
<li><p class="first"><em>Изменено поведение настроек конфигурации приложения: physics_uranium_path, smaa_search_texture_path и smaa_area_texture_path.</em></p>
<blockquote>
<div><p>Данные настройки конфигурации теперь рассчитываются автоматически в зависимости от местоположения запускаемого HTML-файла, если они не были переопределены при инициализации приложения.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Завершён переход на систему модулей, подключаемых через вызов b4w.require().</em></p>
<blockquote>
<div><p>Это также означает, что начиная с текущей версии в релиз-версии движка модули нельзя вызывать с помощью устаревшего интерфейса <code class="docutils literal"><span class="pre">b4w.&lt;module&gt;</span></code>. С целью совместимости создан аддон <code class="docutils literal"><span class="pre">ns_compat.js</span></code>, подключение которого позволяет восстановить старое поведение.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Добавлена возможность сокрытия панели управления в веб-плеере.</em></p>
</li>
<li><p class="first"><em>Скелетная анимация применяется только к объекту арматуры.</em></p>
<blockquote>
<div><p>Нет необходимости применять скелетную анимацию к объектам типа <code class="docutils literal"><span class="pre">MESH</span></code>. Eсли они привязаны к какой-либо анимированной арматуре, скиннинг будет происходить автоматически.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Демонстрационные приложения и обучающие материалы приведены в соответствие с новым функционалом.</em></p>
</li>
</ul>
</div>
<div class="section" id="id116">
<h3>Исправления<a class="headerlink" href="#id116" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first"><em>Индикатор загрузки не скрывался, если в процессе происходила ошибка загрузки ресурса (текстуры либо звукового файла).</em></p>
</li>
<li><p class="first"><em>Исправлены лаги при масштабировании и повороте на touch-устройствах.</em></p>
</li>
<li><p class="first"><em>Устранено дрожание камеры типа TARGET при небольших поворотах.</em></p>
</li>
<li><p class="first"><em>Исправлено управление камерой типа EYE на мобильных устройствах.</em></p>
</li>
<li><p class="first"><em>Улучшено управление в приложении Ферма в браузере Safari.</em></p>
</li>
<li><p class="first"><em>Исправлены ошибки при использовании неподдерживаемых моделей освещения на нодовых материалах.</em></p>
</li>
<li><p class="first"><em>Для объектов без материалов теперь работает опция &#8220;Selectable&#8221;.</em></p>
</li>
<li><p class="first"><em>Более нет необходимости включать &#8220;Force Dynamic Object&#8221; для объектов, анимирующихся с использованием NLA.</em></p>
</li>
<li><p class="first"><em>Исправлена ошибка для систем частиц, в которых дуплицируемый объект входит в иерархию с другими объектами.</em></p>
</li>
</ul>
</div>
<div class="section" id="id117">
<h3>Известные проблемы<a class="headerlink" href="#id117" title="Ссылка на этот заголовок">¶</a></h3>
<ul>
<li><p class="first">Проблемы с обновлением старых версий аддона.</p>
<blockquote>
<div><p>Рекомендуется перезагрузка Blender после обновления аддона.</p>
</div></blockquote>
</li>
<li><p class="first"><em>Смешивание скелетной анимации не работает в некоторых браузерах.</em></p>
<blockquote>
<div><p>Если при использовании API смешивания скелетной анимации возникают необработанные ошибки, следует переопределить стандартную функцию Math.sign следующим образом:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">m_util</span>  <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;util&quot;</span><span class="p">);</span>
<span class="nb">Math</span><span class="p">.</span><span class="nx">sign</span> <span class="o">=</span> <span class="nx">m_util</span><span class="p">.</span><span class="nx">sign</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="problems_and_solutions.html" class="btn btn-neutral" title="Проблемы и решения" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, Триумф.
      Обновлено: 2017-10-20.

    </p>
  </div>

  <a href="https://www.blend4web.com">www.blend4web.com</a>

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
  (function() {
    if (window.document.domain != "www.blend4web.com")
      return;

    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter24512171 = new Ya.Metrika({
                    id:24512171,
                    clickmap:false,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
  })();
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/24512171" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v17.10',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();

          var lang_cont = $("#lang_cont");
          var links = lang_cont.children();

          var link_ru = links[0];
          var link_en = links[1];
          var link_zh = links[2];

          var loc = document.location.href;

          var href_ru = loc;
          var href_en = loc;
          var href_zh = loc; 

          if (loc.search("/ru/") != -1) {
              href_en = loc.replace("/ru/", "/en/");
              href_zh = loc.replace("/ru/", "/zh/");
          } else if (loc.search("/en/") != -1) {
              href_ru = loc.replace("/en/", "/ru/");
              href_zh = loc.replace("/en/", "/zh/");
          } else {
              href_ru = loc.replace("/zh/", "/ru/");
              href_en = loc.replace("/zh/", "/en/");
          }

          link_ru.href = href_ru;
          link_en.href = href_en;
          link_zh.href = href_zh;

          lang_cont.css("display", "inline-block")
      });
  </script>
   

</body>
</html>