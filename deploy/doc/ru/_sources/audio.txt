
Звук
****


Содержание
^^^^^^^^^^

* Звук

  * Настройка звуковых источников

    * Вкладка Sound

    * Вкладка Distance

    * Вкладка Cone

  * Микшер

  * Обработка и кодирование

    * Поддерживаемые форматы (контейнеры):

Создание звуковых источников осуществляется в Blender'e. Используется
стандартный объект "Speaker".

[рисунок]




Настройка звуковых источников
=============================

Настройки спикера выставляются в панели "Properties" на вкладке
"Object Data".

[рисунок]

Движком поддерживаются все стандартные для Blender параметры звука и
некоторые специфические для движка опции.


Вкладка Sound
-------------

*Mute*

   Отключает воспроизведение звука.

*Speaker Behavior*:

   Поведение звукового источника.

   "Positional" --- высококачественный звук, допускающий
   позиционирование и имеющий направленность (конусность). Для
   рендеринга используется Web Audio API. Воспроизведение подобных
   звуков обладает наименьшей производительностью, поэтому их
   использовать целесообразно только для коротких сэмплов. Это
   значение выбрано по умолчанию.

   "Background Sound" --- высококачественный всенаправленный звук без
   возможности позиционирования в пространстве. Для рендеринга
   используется Web Audio API. Более производителен, однако
   нецелесообразен для музыки.

   "Background Music" --- используется для воспроизведения музыки.
   Максимальная производительность вследствие использования тега
   Audio, минимальная гибкость.

На панели "Sound" доступны следующие настройки:

*Volume*

   Громкость источника.

*Random Volume*

   Дополнительная рандомизация громкости. Результирующее значение
   определяется аналогично задержке.

*Pitch*

   Скорость проигрывания (высота) звука.

*Random Pitch*

   Дополнительная рандомизация скорости проигрывания звука.
   Результирующее значение определяется аналогично задержке.

*Fade-In*

   Интервал плавного включения звука.

*Fade-Out*

   Интервал плавного выключения звука.

*Enable Doppler*

   Включает смещение частоты источника при его перемещении.

*Auto-play*

   Включает воспроизведение по умолчанию.

*Cyclic Play*

   Зацикливать воспроизведение звука.

*Loop*

   Зацикливать воспроизведение звука. Отличается от "Cyclic Play",
   тем, что способен обеспечить нулевую задержку при повторении. Опция
   доступна только для звуковых источников с поведением "Positional"
   или "Background Sound".

*Loop Start*

   Задаёт начальную точку фрагмента звукового файла, который будет
   зациклен. Измеряется в секундах, отсчитываемых от начала звукового
   файла.

*Loop End*

   Задаёт начальную точку фрагмента звукового файла, который будет
   зациклен. Также измеряется в секундах.

*Delay*

   Задержка в секундах перед началом проигрывания звука.

*Random Delay*

   Дополнительная рандомизация задержки, результирующее значение
   определяется по формуле Delay_{result} = Delay + Delay_{random} *
   Random_{[0-1]}.


Вкладка Distance
----------------

*Attenuation*

   Задаёт силу, с которой расстояние влияет на громкость. По умолчанию
   это значение равно 1.0.

*Maximum*

   Максимальная дистанция для расчёта громкости.

*Reference*

   Задаёт эталонное расстояние, на котором громкость звука равна 100%
   от общего значения.


Вкладка Cone
------------

Группа параметров Angle:

   *Outer*

      Угол внешнего конуса (в градусах). За пределами этого конуса
      громкость определяется параметром "Outer" группы "Volume". Между
      границами внешнего и внутреннего конусов значение громкости
      интерполируется.

   *Inner*

      Угол внутреннего конуса (в градусах). Внутри этого конуса
      громкость составляет 100%.

Группа параметров Volume:

   *Outer*

      Задаёт значение громкости за пределами внешнего конуса.




Микшер
======

Этот инструмент - часть интерфейса Просмотрщика сцен.

[рисунок]

Его включение вызывает интерфейс эквалайзера, содержащий различные
параметры источников звука, присутствующих в сцене.

[рисунок]

Доступные параметры:

*DIST_REF*
   Этот параметр задаёт эталонную дистанцию для выбранного источника
   звука. Доступен только для источников типа "Positional Sound".

*ATTENUATION*
   Этот параметр задаёт степень затухания звука, издаваемого выбранным
   спикером. Доступен только для источников типа "Positional Sound".

*DIST_MAX*
   Это значение задаёт максимальную дистанцию для выбранного спикера.
   Если расстояние от камеры до спикера превышает это расстояние,
   спикер не будет издавать звука. Доступно только для источников типа
   "Positional Sound".

*EQ_FREQ*
   Центральная частота, к которой применяется усиление.

*EQ_Q*
   Фактор Q. Это значение управляет шириной полосы усиливаемых частот.
   Увеличение значения сужает полосу.

*EQ_GAIN*
   Это значение задаёт усиление (измеряемое в дБ), которое применяется
   к звуку, издаваемому спикером.

*VOLUME*
   Громкость звука, издаваемого спикером.

Ниже этого списка параметров демонстрируется частотная характеристика
параметрического эквалайзера.

Микшер управляется с помощью дополнительной цифровой клавиатуры.

   * Клавиши "8", "4", "6" и "2" работают так же, как
     клавиши-стрелки, и используются для переключения между
     источниками звука и выбора их параметров.

   * Клавиши "+" и "-" увеличивают и уменьшают значение выбранного
     параметра.

   * Клавиша "7" выключает выбранный спикер.

   * Клавиша "9" выключает все спикеры, кроме выбранного.


Обработка и кодирование
=======================


Поддерживаемые форматы (контейнеры):
------------------------------------

* ogg, кодек Vorbis (Chrome, Firefox)

* mp3 (Chrome, Safari)

* mp4, кодек AAC (Chrome, Safari)

Рекомендуется использовать *Ogg*, который является открытым
стандартом, поддерживается многими браузерами, обеспечивает хорошее
качество звука. Оптимальным с точки зрения качества и совместимости
является формат 48кГц/16бит. Одноканальный звук (моно) используется
для хранения коротких сэмплов, двухканальный звук (стерео) - для
музыкального сопровождения.

Конвертация ресурсов в различные форматы описывается в соответствующем
разделе.
