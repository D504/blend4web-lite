

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Physics &mdash; Blend4Web 17.10 User Manual</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
    <link rel="top" title="Blend4Web 17.10 User Manual" href="index.html"/>
        <link rel="next" title="For Application Developers" href="developers.html"/>
        <link rel="prev" title="Audio" href="audio.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Blend4Web. User Manual
        

        
        </a>

        
          
          
            <div class="version">
              v17.10
            </div>
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine_features.html">Engine Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Blender User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Installing and Updating</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_manager.html">Project Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Scene Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_player.html">Web Player</a></li>
<li class="toctree-l1"><a class="reference internal" href="addon.html">Add-on</a></li>
<li class="toctree-l1"><a class="reference internal" href="scene_settings.html">Scene Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="objects.html">Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="meshes.html">Meshes</a></li>
<li class="toctree-l1"><a class="reference internal" href="normal_editor.html">Normal Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="camera.html">Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="material_library.html">Material Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="node_materials.html">Node Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="logic_editor.html">Logic Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="lighting.html">Lighting, Shadows and Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing_effects.html">Postprocessing Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="vr_and_ar.html">VR and AR</a></li>
<li class="toctree-l1"><a class="reference internal" href="textures.html">Textures</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles.html">Particle System. Fluids</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_instancing.html">Particle System. Instancing</a></li>
<li class="toctree-l1"><a class="reference internal" href="animation.html">Animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="outdoor_rendering.html">Outdoor Effects</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">Color Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio.html">Audio</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Physics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#preparing-for-use">Preparing for Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="#static-physics-type">Static Physics Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dynamic-physics-type">Dynamic Physics Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="#constraints">Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wheeled-vehicles">Wheeled Vehicles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#chassis-settings">Chassis Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#floating-objects">Floating Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#floating-object-settings">Floating Object Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#floating-vehicles-aka-watercrafts">Floating Vehicles aka Watercrafts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#watercraft-settings">Watercraft Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#characters">Characters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#character-settings">Character Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-character">Basic Character</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-characters-with-api">Controlling Characters with API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#character-states">Character States</a></li>
<li class="toctree-l4"><a class="reference internal" href="#action-binding">Action Binding</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#navigation-meshes">Navigation Meshes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-navigation-meshes">Creating Navigation Meshes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-navigation-meshes">Using Navigation Meshes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#use-in-applications">Use in Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">For Application Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers_advanced.html">For Engine Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_short_manual.html">Team Work. Using Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems_and_solutions.html">Problems and Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Blend4Web. User Manual</a>
      </nav>


      
      <div class="wy-nav-content">
        <div id="lang_cont">
          <a href="#">RU</a>
          <a href="#">EN</a>
          <a href="#">ZH</a>
        </div>
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Physics</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="physics">
<span id="id1"></span><h1><a class="toc-backref" href="#id5">Physics</a><a class="headerlink" href="#physics" title="Permalink to this headline">Â¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#physics" id="id5">Physics</a><ul>
<li><a class="reference internal" href="#preparing-for-use" id="id6">Preparing for Use</a></li>
<li><a class="reference internal" href="#static-physics-type" id="id7">Static Physics Type</a></li>
<li><a class="reference internal" href="#dynamic-physics-type" id="id8">Dynamic Physics Type</a></li>
<li><a class="reference internal" href="#constraints" id="id9">Constraints</a></li>
<li><a class="reference internal" href="#wheeled-vehicles" id="id10">Wheeled Vehicles</a><ul>
<li><a class="reference internal" href="#chassis-settings" id="id11">Chassis Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#floating-objects" id="id12">Floating Objects</a><ul>
<li><a class="reference internal" href="#floating-object-settings" id="id13">Floating Object Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#floating-vehicles-aka-watercrafts" id="id14">Floating Vehicles aka Watercrafts</a><ul>
<li><a class="reference internal" href="#watercraft-settings" id="id15">Watercraft Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#characters" id="id16">Characters</a><ul>
<li><a class="reference internal" href="#character-settings" id="id17">Character Settings</a></li>
<li><a class="reference internal" href="#basic-character" id="id18">Basic Character</a></li>
<li><a class="reference internal" href="#controlling-characters-with-api" id="id19">Controlling Characters with API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#navigation-meshes" id="id20">Navigation Meshes</a><ul>
<li><a class="reference internal" href="#creating-navigation-meshes" id="id21">Creating Navigation Meshes</a></li>
<li><a class="reference internal" href="#using-navigation-meshes" id="id22">Using Navigation Meshes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#use-in-applications" id="id23">Use in Applications</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="preparing-for-use">
<h2><a class="toc-backref" href="#id6">Preparing for Use</a><a class="headerlink" href="#preparing-for-use" title="Permalink to this headline">Â¶</a></h2>
<p>In order to enable physics on the scene, please use the <code class="docutils literal"><span class="pre">Enable</span> <span class="pre">Physics</span></code> checkbox in the <code class="docutils literal"><span class="pre">Physics</span></code> panel under the scene tab in Blender.</p>
<a class="reference internal image-reference" href="_images/scene_interface_phys_enable.png"><img alt="_images/scene_interface_phys_enable.png" class="align-center" src="_images/scene_interface_phys_enable.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="static-physics-type">
<span id="static-physics"></span><h2><a class="toc-backref" href="#id7">Static Physics Type</a><a class="headerlink" href="#static-physics-type" title="Permalink to this headline">Â¶</a></h2>
<p>Can be used to limit the movement of other objects, for example to detect collisions with a landscape, walls and so on. In the physics settings of such an object the <code class="docutils literal"><span class="pre">Static</span></code> value (set by default) should be selected for the <code class="docutils literal"><span class="pre">Physics</span> <span class="pre">Type</span></code> option.</p>
<a class="reference internal image-reference" href="_images/physics_panel_static.png"><img alt="_images/physics_panel_static.png" class="align-center" src="_images/physics_panel_static.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>One or multiple physics materials can be assigned to a mesh. Under the <code class="docutils literal"><span class="pre">Material</span></code> tab the <code class="docutils literal"><span class="pre">Special:</span> <span class="pre">Collision</span></code> panel must be activated.</p>
<a class="reference internal image-reference" href="_images/material_panel_physics.png"><img alt="_images/material_panel_physics.png" class="align-center" src="_images/material_panel_physics.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The <code class="docutils literal"><span class="pre">Ghost</span></code> option excludes the material from physical interactions but still notifies the application about the contact with it. An example - detecting that the character is located on a vertical ladder.</p>
<a class="reference internal image-reference" href="_images/water_tower.png"><img alt="_images/water_tower.png" class="align-center" src="_images/water_tower.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">ID</span></code> field is intended for detecting collisions with specific materials and can be left empty. An example of <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">ID</span></code> usage is detecting the landscape surface a character is located on - grass, sand, wooden coating and so on.</p>
<p>The <code class="docutils literal"><span class="pre">Margin</span></code> field allows to customize the width of the zone where mesh reacts on collisions. This option improves physical collisions simulation stability.</p>
<p>Also, there are material physics settings in this panel. The following settings are supported: <code class="docutils literal"><span class="pre">Friction</span></code>, <code class="docutils literal"><span class="pre">Elasticity</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">Group</span></code> field corresponds to the physics group which the material belongs to. The <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">Mask</span></code> field defines all physics groups with which this material will interact.</p>
</div>
<div class="section" id="dynamic-physics-type">
<span id="dynamic-physics"></span><h2><a class="toc-backref" href="#id8">Dynamic Physics Type</a><a class="headerlink" href="#dynamic-physics-type" title="Permalink to this headline">Â¶</a></h2>
<p>Intended for rigid body movement simulation.</p>
<a class="reference internal image-reference" href="_images/physics_dynamic.png"><img alt="_images/physics_dynamic.png" class="align-center" src="_images/physics_dynamic.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The <code class="docutils literal"><span class="pre">Object</span> <span class="pre">Physics</span></code> checkbox must be enabled under the object&#8217;s <code class="docutils literal"><span class="pre">Physics</span></code> panel. The <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">ID</span></code> field is intended for detecting collisions with a specific object (for example, for detecting proximity of a FPS character to different items) and can be left empty.</p>
<p>In the physics settings of such an object the <code class="docutils literal"><span class="pre">Rigid</span> <span class="pre">Body</span></code> (with rotations) or <code class="docutils literal"><span class="pre">Dynamic</span></code> (without rotations) values can be selected for the <code class="docutils literal"><span class="pre">Physics</span> <span class="pre">Type</span></code> option. In the <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">Bounds</span></code> settings the collider type can be selected - the supported types are: <code class="docutils literal"><span class="pre">Box</span></code>, <code class="docutils literal"><span class="pre">Capsule</span></code>, <code class="docutils literal"><span class="pre">Sphere</span></code>, <code class="docutils literal"><span class="pre">Cylinder</span></code>, <code class="docutils literal"><span class="pre">Cone</span></code>. Also, the following physics parameters can be set: <code class="docutils literal"><span class="pre">Mass</span></code>, <code class="docutils literal"><span class="pre">Damping</span></code> - for <code class="docutils literal"><span class="pre">Translation</span></code> and <code class="docutils literal"><span class="pre">Rotation</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">Group</span></code> field corresponds to the physics group which the object belongs to.</p>
<p>The <code class="docutils literal"><span class="pre">Collision</span> <span class="pre">Mask</span></code> field defines all physics groups with which this object will interact.</p>
<a class="reference internal image-reference" href="_images/physics_panel_dynamic.png"><img alt="_images/physics_panel_dynamic.png" class="align-center" src="_images/physics_panel_dynamic.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><code class="docutils literal"><span class="pre">Friction</span></code> and <code class="docutils literal"><span class="pre">Elasticity</span></code> are supported for the material of such an object. When multiple materials are used on a single mesh, the physics parameters are taken from the first of them.</p>
<p>For the camera object the <code class="docutils literal"><span class="pre">Physics</span> <span class="pre">Type</span></code> = <code class="docutils literal"><span class="pre">Dynamic</span></code> parameter must be used, and the <code class="docutils literal"><span class="pre">Object</span> <span class="pre">Physics</span></code> checkbox must be enabled.</p>
</div>
<div class="section" id="constraints">
<span id="physics-constraints"></span><h2><a class="toc-backref" href="#id9">Constraints</a><a class="headerlink" href="#constraints" title="Permalink to this headline">Â¶</a></h2>
<p>Physical constraints are used for limiting the objects&#8217; degrees of freedom.</p>
<a class="reference internal image-reference" href="_images/physics_constraints.png"><img alt="_images/physics_constraints.png" class="align-center" src="_images/physics_constraints.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Adding a physical constraint (<code class="docutils literal"><span class="pre">Rigid</span> <span class="pre">Body</span> <span class="pre">Joint</span></code>) to the object can be performed on the <code class="docutils literal"><span class="pre">Object</span> <span class="pre">Constraints</span></code> panel. The supported types (<code class="docutils literal"><span class="pre">Pivot</span> <span class="pre">Type</span></code>) are: <code class="docutils literal"><span class="pre">Ball</span></code>, <code class="docutils literal"><span class="pre">Hinge</span></code>, <code class="docutils literal"><span class="pre">Cone</span> <span class="pre">Twist</span></code>, <code class="docutils literal"><span class="pre">Generic</span> <span class="pre">6</span> <span class="pre">DoF</span></code>. A physical constraint can be added to one of the two interacting objects, while the other object acts as a <code class="docutils literal"><span class="pre">Target</span></code>. Both objects can have a static and/or dynamic physics type. In constraints (except <code class="docutils literal"><span class="pre">Ball</span></code>) the translation and rotation limits can be set up.</p>
<a class="reference internal image-reference" href="_images/physics_constraints_panel.png"><img alt="_images/physics_constraints_panel.png" class="align-center" src="_images/physics_constraints_panel.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="wheeled-vehicles">
<span id="id2"></span><h2><a class="toc-backref" href="#id10">Wheeled Vehicles</a><a class="headerlink" href="#wheeled-vehicles" title="Permalink to this headline">Â¶</a></h2>
<p>The model of a vehicle must consist of 6 separate objects - a chassis, 4 wheels and a steering wheel. The chassis&#8217; mesh center should correspond to the mass center. The centers of the wheels&#8217; and the steering wheel&#8217;s meshes should be located on the rotation axes. The steering wheel should be oriented in the local space of coordinates - X - the rotation axis, Y - to the right and Z - upwards. The object can have any names.</p>
<a class="reference internal image-reference" href="_images/physics_vehicle_wheeled.png"><img alt="_images/physics_vehicle_wheeled.png" class="align-center" src="_images/physics_vehicle_wheeled.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>For all 6 objects: select the <code class="docutils literal"><span class="pre">Part</span></code>, specify the same id in the <code class="docutils literal"><span class="pre">Vehicle</span> <span class="pre">Name</span></code> field, select the right object type - <code class="docutils literal"><span class="pre">Chassis</span></code>, <code class="docutils literal"><span class="pre">Steering</span> <span class="pre">Wheel</span></code>, <code class="docutils literal"><span class="pre">Back</span> <span class="pre">Right</span> <span class="pre">Wheel</span></code> and so on. The <code class="docutils literal"><span class="pre">Suspension</span> <span class="pre">Rest</span> <span class="pre">Length</span></code> setting is also available for the wheels.</p>
<p>It is necessary to specify a realistic mass for the chassis (because the default value is only 1 kg). To do this go to the physics settings, choose the <code class="docutils literal"><span class="pre">Rigid</span> <span class="pre">Body</span></code> value for the <code class="docutils literal"><span class="pre">Physics</span> <span class="pre">Type</span></code> option and specify the required value (for example, 1000 kg) in the <code class="docutils literal"><span class="pre">Mass</span></code> field.</p>
<div class="section" id="chassis-settings">
<h3><a class="toc-backref" href="#id11">Chassis Settings</a><a class="headerlink" href="#chassis-settings" title="Permalink to this headline">Â¶</a></h3>
<dl class="docutils">
<dt><em>Force Max</em></dt>
<dd>Maximum driving force of the vehicle.</dd>
<dt><em>Brake Max</em></dt>
<dd>Maximum braking coefficient.</dd>
<dt><em>Suspension Compression</em></dt>
<dd>Damping coefficient for suspension stretching.</dd>
<dt><em>Suspension Stiffness</em></dt>
<dd>Suspension stiffness coefficient.</dd>
<dt><em>Suspension Damping</em></dt>
<dd>Suspension damping coefficient.</dd>
<dt><em>Wheel Friction</em></dt>
<dd>Friction constant between the wheels and the surface. It should be around 0.8 for realistic vehicles. But it can be increased significantly to achieve a better control (1000 and more).</dd>
<dt><em>Roll Influence</em></dt>
<dd>Decreases the wheels&#8217; torque decreasing the probability of the vehicle overturning (0 - no torque, 1 - real physics behavior).</dd>
<dt><em>Max Suspension Travel Cm</em></dt>
<dd>Maximum suspension travel in centimeters.</dd>
</dl>
<p>For the <code class="docutils literal"><span class="pre">Steering</span> <span class="pre">Wheel</span></code> it is necessary to specify the maximum steering angle (<code class="docutils literal"><span class="pre">Steering</span> <span class="pre">Max</span></code>) and the ratio between the turn of the steering wheel and the turn of the wheels  (<code class="docutils literal"><span class="pre">Steering</span> <span class="pre">Ratio</span></code>). The maximum steering angle value is specified in revolutions. A single revolution equals to 360 degrees. Therefore, if <code class="docutils literal"><span class="pre">Steering</span> <span class="pre">Max</span></code> is equal to one and <code class="docutils literal"><span class="pre">Steering</span> <span class="pre">Ratio</span></code> is equal to 10, the maximum turn of the steering wheel will be 360 degrees and the maximum turn of the front wheels will be 36 degrees.</p>
<p>On this stage you can export and load the scene into the engine. We recommend to create a road surface with a physics material. To choose the controlled object press the <code class="docutils literal"><span class="pre">Q</span></code> key in the Viewer and select the chassis. Use the <code class="docutils literal"><span class="pre">W</span></code>, <code class="docutils literal"><span class="pre">A</span></code>, <code class="docutils literal"><span class="pre">S</span></code>, <code class="docutils literal"><span class="pre">D</span></code> keys as controls.</p>
<p>We can additionally tweak the <code class="docutils literal"><span class="pre">Damping</span></code> of <code class="docutils literal"><span class="pre">Translation</span></code> and <code class="docutils literal"><span class="pre">Rotation</span></code>. This will influence the speed and inertia of the vehicle.</p>
<p>The friction and elasticity of the road surface material do not influence the vehicle&#8217;s behavior.</p>
</div>
</div>
<div class="section" id="floating-objects">
<span id="id3"></span><h2><a class="toc-backref" href="#id12">Floating Objects</a><a class="headerlink" href="#floating-objects" title="Permalink to this headline">Â¶</a></h2>
<a class="reference internal image-reference" href="_images/physics_floater.png"><img alt="_images/physics_floater.png" class="align-center" src="_images/physics_floater.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>In order for the object to float on the water surface (an object with the <code class="docutils literal"><span class="pre">Water</span></code> material), it is necessary to enable the <code class="docutils literal"><span class="pre">Floater</span></code> panel. There are two types of floating objects: <code class="docutils literal"><span class="pre">Main</span> <span class="pre">Body</span></code> - the floating object itself and <code class="docutils literal"><span class="pre">Bob</span></code> - an auxiliary bob-object onto which the buoyancy will be acting. A floating object can have an unlimited number of <code class="docutils literal"><span class="pre">Bob</span></code> objects. This can be both meshes or <code class="docutils literal"><span class="pre">Empty</span></code> objects.</p>
<p>All objects that are part of the same floating object must have the same name in the <code class="docutils literal"><span class="pre">Floater</span> <span class="pre">Name</span></code> field.</p>
<div class="section" id="floating-object-settings">
<h3><a class="toc-backref" href="#id13">Floating Object Settings</a><a class="headerlink" href="#floating-object-settings" title="Permalink to this headline">Â¶</a></h3>
<dl class="docutils">
<dt><em>Floating Factor</em></dt>
<dd>Buoyancy coefficient.</dd>
<dt><em>Water Linear Damping</em></dt>
<dd>Linear velocity damping when the object is on the water surface (or under water). When the object is not in water, the physics settings are used.</dd>
<dt><em>Water Rotation Damping</em></dt>
<dd>Rotation damping when the object is on the water surface (or under water). When the object is not in water, the physics settings are used.</dd>
</dl>
</div>
</div>
<div class="section" id="floating-vehicles-aka-watercrafts">
<span id="watercrafts"></span><h2><a class="toc-backref" href="#id14">Floating Vehicles aka Watercrafts</a><a class="headerlink" href="#floating-vehicles-aka-watercrafts" title="Permalink to this headline">Â¶</a></h2>
<a class="reference internal image-reference" href="_images/physics_boat.png"><img alt="_images/physics_boat.png" class="align-center" src="_images/physics_boat.png" style="width: 100%;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Watercrafts use some parameters from the <code class="docutils literal"><span class="pre">Vehicle</span></code> settings and all the settings which are similar to <code class="docutils literal"><span class="pre">Floater</span></code> setting. It is necessary to set the <code class="docutils literal"><span class="pre">Part</span></code> type <code class="docutils literal"><span class="pre">Hull</span></code> on the main object. Similar to a floating object a watercraft requires auxiliary <code class="docutils literal"><span class="pre">Bob</span></code> objects.</p>
<div class="section" id="watercraft-settings">
<h3><a class="toc-backref" href="#id15">Watercraft Settings</a><a class="headerlink" href="#watercraft-settings" title="Permalink to this headline">Â¶</a></h3>
<dl class="docutils">
<dt><em>Force Max</em></dt>
<dd>Maximum driving force of the vehicle.</dd>
<dt><em>Brake Max</em></dt>
<dd>Maximum braking coefficient.</dd>
<dt><em>Floating Factor</em></dt>
<dd>Buoyancy coefficient.</dd>
<dt><em>Water Linear Damping</em></dt>
<dd>Linear velocity damping when the object is on the water surface (or under water). When the object is not in water, the physics settings are used.</dd>
<dt><em>Water Rotation Damping</em></dt>
<dd>Rotation damping when the object is on the water surface (or under water). When the object is not in water, the physics settings are used.</dd>
</dl>
</div>
</div>
<div class="section" id="characters">
<span id="id4"></span><h2><a class="toc-backref" href="#id16">Characters</a><a class="headerlink" href="#characters" title="Permalink to this headline">Â¶</a></h2>
<a class="reference internal image-reference" href="_images/physics_character_object_example.png"><img alt="_images/physics_character_object_example.png" class="align-center" src="_images/physics_character_object_example.png" style="width: 100%;" /></a>
<p>This feature can be activated by clicking the <code class="docutils literal"><span class="pre">Character</span></code> check-box in the title of the eponymous tab on the <code class="docutils literal"><span class="pre">Physics</span></code> panel.</p>
<p>From the engine standpoint, the character itself is a proper physical object that can collide with other physical objects or be influenced by physical forces such as gravity and buoyant force.</p>
<p>Character object can be easily controlled using several API methods with a <cite>character</cite> keyword in their names. All such methods reside in the <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics</a> API module.</p>
<div class="section" id="character-settings">
<h3><a class="toc-backref" href="#id17">Character Settings</a><a class="headerlink" href="#character-settings" title="Permalink to this headline">Â¶</a></h3>
<a class="reference internal image-reference" href="_images/physics_character_settings.png"><img alt="_images/physics_character_settings.png" class="align-center" src="_images/physics_character_settings.png" style="width: 100%;" /></a>
<p>All the settings listed here become available after activating the <code class="docutils literal"><span class="pre">Character</span></code> tab.</p>
<dl class="docutils">
<dt><em>Walk Speed</em></dt>
<dd><p class="first">This parameter sets the speed of a character walking (measured in meters per second). The lowest possible value of this parameter is zero, while the highest is 10.</p>
<p class="last">Its default value is 4.</p>
</dd>
<dt><em>Run Speed</em></dt>
<dd><p class="first">This is the speed of the character running (measured in meters per second). Its value can vary from zero to 20.</p>
<p class="last">This parameter is set to 8 by default.</p>
</dd>
<dt><em>Step Height</em></dt>
<dd><p class="first">This is the maximum height of an obstacle that character can overstep (in meters). The value of this parameter can vary from zero to 1.</p>
<p class="last">Default value of this parameter is 0.250.</p>
</dd>
<dt><em>Jump Strength</em></dt>
<dd><p class="first">This parameter sets the strength of the character jumping. Its minimum value is zero, while its maximum value is 50.</p>
<p class="last">Set to 5 by default.</p>
</dd>
<dt><em>Waterline</em></dt>
<dd><p class="first">This parameter sets up the waterline for the character object. The waterline is measured from the center of the physical shape of the object (not the object&#8217;s mesh). If an object is submerged into the water below this line, it will float. Its value can vary from -2 to 2.</p>
<p class="last">It is set to zero by default.</p>
</dd>
</dl>
</div>
<div class="section" id="basic-character">
<h3><a class="toc-backref" href="#id18">Basic Character</a><a class="headerlink" href="#basic-character" title="Permalink to this headline">Â¶</a></h3>
<p>Blend4Web engine has an option to quickly set up a user-controlled first-person character. Such character will only have very basic functionality, but can be set up without any programming.</p>
<p>To set up a basic character, follow these steps:</p>
<ol class="arabic simple">
<li>Select an object you intend to use as a character.</li>
<li>Enable physics for the selected object and set physics type to <code class="docutils literal"><span class="pre">Dynamic</span></code> or <code class="docutils literal"><span class="pre">Rigid</span> <span class="pre">Body</span></code>.</li>
<li>Enable Character option for the object.</li>
<li>Create a new Camera or select an existing one and set its type to <code class="docutils literal"><span class="pre">Eye</span></code>.</li>
</ol>
<p>Now a basic character with an attached camera will be present in your scene.</p>
<p>The character can be controlled in mostly the same way as a regular <code class="docutils literal"><span class="pre">Eye</span></code> type camera:</p>
<ul class="simple">
<li>WASD keys move the character.</li>
<li>Camera angles are controlled by arrow keys or moving the mouse while holding its left button.</li>
<li>Pressing the C key toggles fly mode (enabled by default).</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only one basic character can be present in the scene. If a scene has multiple characters, the engine will use the first of them as the basic character and ignore the others.</p>
</div>
</div>
<div class="section" id="controlling-characters-with-api">
<h3><a class="toc-backref" href="#id19">Controlling Characters with API</a><a class="headerlink" href="#controlling-characters-with-api" title="Permalink to this headline">Â¶</a></h3>
<p>Basic character described above can only provide generic functionality. If you need more control over character behavior, you should use methods from the <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html">fps</a> module.</p>
<p>The most important of them is the <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.enable_fps_controls">enable_fps_controls()</a> method which, as its name suggests, is used to initialize characters in the scene. It can be used as follows:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">m_fps</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;fps&quot;</span><span class="p">);</span>

<span class="nx">m_fps</span><span class="p">.</span><span class="nx">enable_fps_controls</span><span class="p">();</span>
</pre></div>
</div>
<p>This method should be used at the start of the application (in the <strong>load_cb</strong> function) to enable character controls.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method may conflict with the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.enable_camera_controls">enable_camera_controls()</a> method which is used to enable basic character described in the previous section. These two methods should not be used simultaneously.</p>
</div>
<p>The method also has the following optional parameters:</p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">character</span></code> sets the character object. The link to the character can be retrieved by calling the <a class="reference external" href="https://www.blend4web.com/api_doc/module-scenes.html#.get_first_character">get_first_character()</a> method. Should be used if more then one character is present in the scene.</p>
<p><code class="docutils literal"><span class="pre">element</span></code> specifies the HTML element to which the method adds listeners.</p>
<p><code class="docutils literal"><span class="pre">motion_cb</span></code> specifies the callback function that is called when character changes its direction.</p>
<p><code class="docutils literal"><span class="pre">gamepad_id</span></code> specifies the ID of the gamepad plugged to the system.</p>
<p><code class="docutils literal"><span class="pre">forward_sens</span></code>, <code class="docutils literal"><span class="pre">backward_sens</span></code>, <code class="docutils literal"><span class="pre">right_sens</span></code>, <code class="docutils literal"><span class="pre">left_sens</span></code>, <code class="docutils literal"><span class="pre">jump_sens</span></code>, <code class="docutils literal"><span class="pre">fly_sens</span></code> - these parameters are used to set arrays of sensor types for specific character action like walking in different directions, jumping and so on.</p>
<p><code class="docutils literal"><span class="pre">rotation_cb</span></code> specifies the callback function that is called when a character or camera rotates.</p>
<p><code class="docutils literal"><span class="pre">lock_camera</span></code> - setting this parameter to <code class="docutils literal"><span class="pre">true</span></code> will parent the scene camera to the character.</p>
</div></blockquote>
<p>Other important methods are <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_cam_sensitivity">set_cam_sensitivity()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.set_cam_smooth_factor">set_cam_smooth_factor()</a>. The first one of them sets the sensitivity of the camera (defined by a numeric value in the range from zero to 100). The second method defines how smooth the camera moves (defined by a value in the range from 0 to 1.0).</p>
<div class="section" id="character-states">
<h4>Character States<a class="headerlink" href="#character-states" title="Permalink to this headline">Â¶</a></h4>
<p>Character states are constant values that represent current behavior of the character (does it currently walk or fly or do anything else). Every character present in a scene always have one and only one state.</p>
<p>Available character states:</p>
<blockquote>
<div><p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.CS_CLIMB">CS_CLIMB</a> - a character is climbing.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.CS_FLY">CS_FLY</a> - a character is flying.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.CS_RUN">CS_RUN</a> - a character is running.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.CS_STAY">CS_STAY</a> - a character does not move.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.CS_WALK">CS_WALK</a> - a character is walking.</p>
</div></blockquote>
<p>Current state of a specific character can be retrieved using the <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.get_character_state">get_character_state()</a> method, while a specific state can be assigned to a character with the <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.switch_state">switch_state()</a> method. The following example shows how these two methods can be used:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">m_fps</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;fps&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">current_state</span> <span class="o">=</span> <span class="nx">m_fps</span><span class="p">.</span><span class="nx">get_character_state</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">current_state</span> <span class="o">==</span> <span class="nx">m_fps</span><span class="p">.</span><span class="nx">CS_FLY</span><span class="p">)</span>
    <span class="nx">m_fps</span><span class="p">.</span><span class="nx">switch_state</span><span class="p">(</span><span class="nx">m_fps</span><span class="p">.</span><span class="nx">CS_WALK</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="action-binding">
<h4>Action Binding<a class="headerlink" href="#action-binding" title="Permalink to this headline">Â¶</a></h4>
<p>The <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html">fps</a> module also provides means for binding various actions to character events. The <a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.bind_action">bind_action()</a> method is used for this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">m_fps</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;fps&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">m_ctl</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;controls&quot;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">action_cb</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Q key pressed.&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">m_fps</span><span class="p">.</span><span class="nx">bind_action</span><span class="p">(</span><span class="nx">m_fps</span><span class="p">.</span><span class="nx">AT_PRESSED</span><span class="p">,</span> <span class="p">[</span><span class="nx">m_ctl</span><span class="p">.</span><span class="nx">KEY_Q</span><span class="p">],</span> <span class="nx">action_cb</span><span class="p">);</span>
</pre></div>
</div>
<p>This method features the following parameters:</p>
<blockquote>
<div><ul>
<li><p class="first">the first parameter is the type of action:</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.AT_CONTINUOUS">AT_CONTINUOUS</a> - an input type that detects a continuous user action such as mouse movement, keyboard key held down, gamepad stick tilt etc.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.AT_PRESSED">AT_PRESSED</a> - this input type detects a discrete user action, e.g. pressing a button.</p>
<p><a class="reference external" href="https://www.blend4web.com/api_doc/module-fps.html#.AT_RELEASED">AT_RELEASED</a> - an input type that detects button (mouse, gamepad or keyboard) being released.</p>
</li>
<li><p class="first">the second parameter defines an array of sensor types (such as keyboard keys, gamepad buttons or mouse actions).</p>
</li>
<li><p class="first"><strong>action_cb</strong> is a callback function that will be called each time user performs action defined by the first parameter.</p>
</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="navigation-meshes">
<h2><a class="toc-backref" href="#id20">Navigation Meshes</a><a class="headerlink" href="#navigation-meshes" title="Permalink to this headline">Â¶</a></h2>
<p>Navigation meshes (commonly abbreviated <em>navmeshes</em>) are mesh objects that are used to make pathfinding simpler by eliminating the need for additional calculations such as collisions.</p>
<a class="reference internal image-reference" href="_images/physics_pathfinding_example.png"><img alt="_images/physics_pathfinding_example.png" class="align-center" src="_images/physics_pathfinding_example.png" style="width: 100%;" /></a>
<p>In this example (taken from Code Snippets), navigation mesh is used to build a path through the labyrinth.</p>
<div class="section" id="creating-navigation-meshes">
<h3><a class="toc-backref" href="#id21">Creating Navigation Meshes</a><a class="headerlink" href="#creating-navigation-meshes" title="Permalink to this headline">Â¶</a></h3>
<p>To make a navmesh out of an object, turn on the <code class="docutils literal"><span class="pre">Object</span> <span class="pre">Physics</span></code> parameter on the <code class="docutils literal"><span class="pre">Physics</span></code> panel and select <code class="docutils literal"><span class="pre">Navigation</span> <span class="pre">Mesh</span></code> from the <code class="docutils literal"><span class="pre">Physics</span> <span class="pre">Type</span></code> list.</p>
<a class="reference internal image-reference" href="_images/physics_navmesh.png"><img alt="_images/physics_navmesh.png" class="align-center" src="_images/physics_navmesh.png" style="width: 100%;" /></a>
<p>Navigation meshes can either be created manually or generated automatically using a specific tool.</p>
<a class="reference internal image-reference" href="_images/physics_navmesh_generator.png"><img alt="_images/physics_navmesh_generator.png" class="align-center" src="_images/physics_navmesh_generator.png" style="width: 100%;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This tool is native to Blender and not a part of the Blend4Web engine.</p>
</div>
<p>This Navigation Mesh generation interface can be found on a dedicated panel under the <code class="docutils literal"><span class="pre">Scene</span></code> tab, but, as this feature is intended for real-time applications, it only appears if the Engine type is set to <code class="docutils literal"><span class="pre">Blend4Web</span></code> or <code class="docutils literal"><span class="pre">Blender</span> <span class="pre">Game</span></code> (Blender Internal, Cycles or any other rendering engine wonât do).</p>
<p>The main tool on this panel is the <code class="docutils literal"><span class="pre">Build</span> <span class="pre">Navigation</span> <span class="pre">Mesh</span></code> button. As the title suggests, it is used for building navigation meshes based on the currently selected object. The navmesh is created as a separate object placed above the selected object, thus leaving that object intact.</p>
<p>Aside from this button, the <code class="docutils literal"><span class="pre">Navigation</span> <span class="pre">Mesh</span></code> panel offers users several groups of parameters to fine-tune the navmesh that will be generated.</p>
<p><code class="docutils literal"><span class="pre">Rasterization</span></code> group of parameters:</p>
<dl class="docutils">
<dt><em>Cell Size</em></dt>
<dd>Rasterized cell size. Greater values lead to bigger navmesh polygons. The highest possible value is 1.0. Default value is 0.3.</dd>
<dt><em>Cell Height</em></dt>
<dd>Rasterized cell height (the distance between the navmesh and the object from which it was generated). Default value is 0.2.</dd>
</dl>
<p><code class="docutils literal"><span class="pre">Agent</span></code> group of parameters:</p>
<dl class="docutils">
<dt><em>Height</em></dt>
<dd>Minimum height where the agent can still walk. Default value is 2.0.</dd>
<dt><em>Radius</em></dt>
<dd>The radius of the agent. Default value is 0.6.</dd>
<dt><em>Max Slope</em></dt>
<dd>Maximum angle of a slope agent can walk on. Measured in degrees. Default value is 45.</dd>
<dt><em>Max Climb</em></dt>
<dd>The maximum height between grid cells the agent can climb. Default value is 0.9.</dd>
</dl>
<p><code class="docutils literal"><span class="pre">Region</span></code> group of parameters:</p>
<dl class="docutils">
<dt><em>Min Region Size</em></dt>
<dd>The minimum size of a region (smaller regions will be deleted). Default value is 8.0.</dd>
<dt><em>Merged Region Size</em></dt>
<dd>The minimum size of a region (smaller regions will be merged). Default value is 20.0.</dd>
<dt><em>Partitioning</em></dt>
<dd><p class="first">The method used to partition the navigation mesh. Supported methods are:</p>
<p><code class="docutils literal"><span class="pre">Monotone</span></code> is the fastest method. Using it may generate long thin polygons.</p>
<p><code class="docutils literal"><span class="pre">Layers</span></code> â a slower, but still reasonably fast method that produces better triangulations than Monotone partitioning.</p>
<p class="last"><code class="docutils literal"><span class="pre">Watershed</span></code> â classic Recast partitioning method that generates the nicest tessellation. This option is selected by default.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">Polygonization</span></code> group of parameters:</p>
<dl class="docutils">
<dt><em>Max Edge Length</em></dt>
<dd>The maximum length of a contour edge. Default value is 12.0.</dd>
<dt><em>Max Edge Error</em></dt>
<dd>The maximum error of the distance from the contour to the cells. Default value is 1.3.</dd>
<dt><em>Verts Per Poly</em></dt>
<dd>The maximum number of vertices per polygon. Default value is 6.</dd>
</dl>
<p><code class="docutils literal"><span class="pre">Detail</span> <span class="pre">Mesh</span></code> group of parameters:</p>
<dl class="docutils">
<dt><em>Sample Distance</em></dt>
<dd>Detail mesh sample spacing. Default value is 6.0.</dd>
<dt><em>Max Sample Error</em></dt>
<dd>Maximum error of the mesh simplification. Default value is 1.00.</dd>
</dl>
</div>
<div class="section" id="using-navigation-meshes">
<h3><a class="toc-backref" href="#id22">Using Navigation Meshes</a><a class="headerlink" href="#using-navigation-meshes" title="Permalink to this headline">Â¶</a></h3>
<p>After a navmesh is created, it then can be used in the application for calculating trajectories between two points. This can be done using two methods from the <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html">physics</a> module, <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.navmesh_get_island">navmesh_get_island()</a> and <a class="reference external" href="https://www.blend4web.com/api_doc/module-physics.html#.navmesh_find_path">navmesh_find_path()</a>. The former is used to retrieve a link to the current island (closest independent segment of the navmesh), while the latter returns the actual path in the form of an array of coordinates.</p>
<p>An example of using navigation meshes for pathfinding can be viewed in the <a class="reference internal" href="developers.html#code-snippets"><span>Code Snippets</span></a> (the corresponding snippet is named <code class="docutils literal"><span class="pre">Pathfinding</span></code>).</p>
</div>
</div>
<div class="section" id="use-in-applications">
<span id="using-physics"></span><h2><a class="toc-backref" href="#id23">Use in Applications</a><a class="headerlink" href="#use-in-applications" title="Permalink to this headline">Â¶</a></h2>
<p>The physics system is implemented in the <strong>uranium.js</strong> module and loaded separately from the engine&#8217;s main code. The <strong>uranium.js</strong> module itself is a modification of the <a class="reference external" href="http://bulletphysics.org/">Bullet</a> physics engine, which is ported to work in browsers. In order to activate the physics system, it is enough to put the <strong>uranium.js</strong> and <strong>uranium.js.mem</strong> files in the same directory as the source code of the application.</p>
<p>Another way is to explicitly specify the loading path of the <strong>uranium.js</strong> module by using the following API method:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">m_config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;physics_uranium_path&quot;</span><span class="p">,</span> <span class="s2">&quot;.../uranium.js&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When applications are developed <a class="reference internal" href="project_manager.html#project-management"><span>within the SDK</span></a>, the path to the physics engine is detected automatically.</p>
</div>
<p>If your application does not use physics, we recommend you to turn off the <code class="docutils literal"><span class="pre">Enable</span> <span class="pre">Physics</span></code> flag in the <code class="docutils literal"><span class="pre">Physics</span></code> panel under the scene tab in Blender. It is also possible to forcibly disable loading of the <strong>uranium.js</strong> module by calling the following method before initialization of the engine:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">m_config</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;physics_enabled&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</pre></div>
</div>
<p>Physics subsystem is implemented in the âuraniumâ module and is loaded independently from the main engine code. The âuraniumâ module is a modification of the <a class="reference external" href="https://en.wikipedia.org/wiki/Bullet_(software)">Bullet physics engine</a> ported to work in web browsers.</p>
<p>Blend4Web physics engine comes in two variations: the one compiled using WebAssembly (<code class="docutils literal"><span class="pre">uranium_wasm.js</span></code> and  <code class="docutils literal"><span class="pre">uranium_wasm.wasm</span></code> files) is used by default, while the other version, compiled with <code class="docutils literal"><span class="pre">asm.js</span></code> (<code class="docutils literal"><span class="pre">uranium.js</span></code> and  <code class="docutils literal"><span class="pre">uranium.js.mem</span></code>) can be used as a fallback. The WebAssembly version is smaller in size, can be initialized quicker and using it might improve the stability and performance of the application. However, at the moment not every browser supports WebAssembly, so, if this technology is not available, the asm.js version of the physics engine is used instead.</p>
<p>By default, physics engine is plugged in if the scene contains objects with physics enabled. You can manually disable physics by setting the <code class="docutils literal"><span class="pre">Enable</span> <span class="pre">Physics</span></code> option on the <code class="docutils literal"><span class="pre">Scene</span> <span class="pre">-&gt;</span> <span class="pre">Physics</span></code> panel to <code class="docutils literal"><span class="pre">OFF</span></code>. You can also uncheck the <code class="docutils literal"><span class="pre">Use</span> <span class="pre">Physics</span></code> flag on the <a class="reference internal" href="project_manager.html#project-config"><span>project configuration page</span></a> in the <a class="reference internal" href="project_manager.html#project-manager"><span>Project Manager</span></a> to exclude physics engine files from the build version of your project.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Physics is not supported in <code class="docutils literal"><span class="pre">WebPlayer</span> <span class="pre">HTML</span></code> type projects and in the scenes exported into HTML.</p>
</div>
<p>Several flags for configuring physics engine are available in the <a class="reference external" href="https://www.blend4web.com/api_doc/module-app.html#.init">init()</a> method that is used to initialize the application:</p>
<blockquote>
<div><p><strong>physics_enabled</strong> - load physics engine to use physics in the application. Set to <code class="docutils literal"><span class="pre">true</span></code> by default.</p>
<p><strong>physics_uranium_path</strong> - the relative path to the folder containing the physics engine files (the <code class="docutils literal"><span class="pre">uranium_wasm.js</span></code>, <code class="docutils literal"><span class="pre">uranium_wasm.wasm</span></code>, <code class="docutils literal"><span class="pre">uranium.js</span></code> and <code class="docutils literal"><span class="pre">uranium.js.mem</span></code> files). Use this parameter if you need to place physics engine files in a custom location.</p>
<p><strong>physics_use_wasm</strong> - if this paraemter is set to <code class="docutils literal"><span class="pre">true</span></code>, WebAssembly version is used. If it is set to <code class="docutils literal"><span class="pre">false</span></code>, the asm.js version is used instead. Default value is <code class="docutils literal"><span class="pre">true</span></code>.</p>
<p><strong>physics_use_workers</strong> - calculate physics in a separate thread using a worker (if this parameter is set to <code class="docutils literal"><span class="pre">true</span></code>), or in the main thread (if it is set to <code class="docutils literal"><span class="pre">false</span></code>). Default value is <code class="docutils literal"><span class="pre">true</span></code>.</p>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developers.html" class="btn btn-neutral float-right" title="For Application Developers" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="audio.html" class="btn btn-neutral" title="Audio" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2017, Triumph.
      Last updated on 2017-10-20.

    </p>
  </div>

  <a href="https://www.blend4web.com">www.blend4web.com</a>

  <!-- Yandex.Metrika counter -->
  <script type="text/javascript">
  (function() {
    if (window.document.domain != "www.blend4web.com")
      return;

    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter24512171 = new Ya.Metrika({
                    id:24512171,
                    clickmap:false,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
  })();
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/24512171" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
  <!-- /Yandex.Metrika counter -->

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v17.10',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();

          var lang_cont = $("#lang_cont");
          var links = lang_cont.children();

          var link_ru = links[0];
          var link_en = links[1];
          var link_zh = links[2];

          var loc = document.location.href;

          var href_ru = loc;
          var href_en = loc;
          var href_zh = loc; 

          if (loc.search("/ru/") != -1) {
              href_en = loc.replace("/ru/", "/en/");
              href_zh = loc.replace("/ru/", "/zh/");
          } else if (loc.search("/en/") != -1) {
              href_ru = loc.replace("/en/", "/ru/");
              href_zh = loc.replace("/en/", "/zh/");
          } else {
              href_ru = loc.replace("/zh/", "/ru/");
              href_en = loc.replace("/zh/", "/en/");
          }

          link_ru.href = href_ru;
          link_en.href = href_en;
          link_zh.href = href_zh;

          lang_cont.css("display", "inline-block")
      });
  </script>
   

</body>
</html>