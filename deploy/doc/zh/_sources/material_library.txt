
材质库
******


目录
^^^^

* 材质库

  * 库结构

  * 材质结构

    * 核心材质

    * 使用材质的一个例子

  * 添加材质到一个场景

    * 如何添加整个材质

    * 如何只添加核心材质

材质库是用户可以在其中找到基本和最常用的材质，在他或她的项目中使用或创
建他或她自己的基于这些材质的材质库。

当创建一个新的项目，你可以插入材质库进去，然后直接从那里插入材质。

[图片]

要做到这一点，使用创建项目时使用  Project Manager 勾选上 "Use Material
Library" ，然后，整个材质库将被自动复制到新的项目文件夹下面的
"/assets/material_library/" 文件夹中。

注解: 也可以在已经存在的项目中使用材质库。你需要做的是将文件从
  "/blender/material_library/" 文件夹复制到项目目录中的 "/assets/" 文
  件夹中。然后，您可以将包含所需材质的文件链接到场景文件，并在场景中使
  用这些材质。

注解: 材质（或任何其他物体）可以 *链接* 或者  *附加* 到场景。这两种
  方法的 区别描述如下  here.


库结构
======

所有材质通过文件夹组织结构（由材质类别），并通过一个单独的文件（由材质
）。每共blend文件包含一个基底材质和物体添加该材质，演示该材质可以与该
材质相关联的物体上（例如，元宝为金材质）。

[图片]


材质结构
========

[图片]

1. 核心材质

2. "Material" 节点从核心接收任何有价值信息

3. 法线贴图可以加到任何一个材质核心

4. 纹理包含额外的遮罩信息给材质给予物体正确显示。大多数材质使用下面
   的 遮罩：

      * 环境闭塞贴图

      * 污垢贴图

      * 磨损图

      * 绿锈贴图

      这些遮罩不是在每个材质中使用，需要时，才为着色器显示一种特定的方
      式。

5. 在 "Mapping" 节点用来控制UV映射的参数。

6. "RGB Curve" 节点可以在遮罩插入核心材质之前修正。

7. 具体的高光贴图在 "Material" 节点之后，用来实现不同程度的镜面模糊
   。

8. 烘焙的环境闭塞贴图是在输出节点之前加的着色器。

9. "Output" 节点。


核心材质
--------

这是包含节点结构形成一个着色器的主要节点组。本质上，这是材质本身的真实
形式，与所有复杂节点交互包装成一组，方便使用。此节点组具有一定的输入和
输出，以及具体的输入参数，来进行设置。


使用材质的一个例子
------------------

[图片]

在这里，可以看到，设置塑料材质为一种特殊的演示物体的一个例子，而无需使
用被插入核心材质中的纹理。

[图片]

1. 基色用一个简单的``RGB``颜色节点创建并插入到核心材质输入。

2. 材质实现不使用任何法线贴图，所以几何数据插入到 "Normal" 输入。

3. 该核心材质具有控制光泽的材质上的量的某些参数。在这种情况下，这个
   参 数的值设置为最大。

4. 该材质还采用了烘焙的环境闭塞贴图。

现在，让我们来看看使用相同材质在不同物体的情况  - 一个塑料手柄。

[图片]

1. 物体的几何形状的顶点的颜色被用作这里的基本颜色。

2. 手柄的几何形状烘焙到了一张法线贴图上，并连接到核心材质的
   "Normal" 输入。

3. 光泽的程度较低。

4. 替代演示物体的遮罩，专为游戏手柄模型烘焙的遮罩（环境光遮蔽和污垢
   ） 被使用。

注解: 应当指出的是，核心材质并没有改变以适应不同的几何形状。


添加材质到一个场景
==================


如何添加整个材质
----------------

[图片]

选择  "File > Append/Link" 从菜单中选择，这取决于你想要做什么。如果你
想保留修改物体的能力，它已被添加到场景后，使用 "Append" 。如果你不这样
做，用 "Link" 。

[图片]

然后从 "/blend4web/blender/material_library/" 目录中选择包含所需要的材
质blend文件。

[图片]

从材质列表中选择需要的材质，然后按  "Append from Library" 或 "Link
from Library". 追加。现在，该材质已经被添加到场景，并可以在任何物体上
使用。


如何只添加核心材质
------------------

如果你想只添加核心材质，其他一切都自己设置的话，不用选择材质，选择
"NodeTree" 同时连接/追加，然后选择从库中您需要的节点组，然后按 "Append
from Library" 或者 "Link from Library" 。

[图片]

现在，这个节点组可在节点组列表中找到，您可以通过点击 **Add=>Group** 在
节点编辑器界面添加材质列表中找到。

[图片]

注解: 每一个材质不仅考虑遮罩和纹理，而且顶点颜色和UV贴图也有自己的要
  求。
